!function(){"use strict";!function(){try{if(!window.Promise||!Array.prototype.includes)throw new Error("Unsupported browser")}catch(r){alert("Your browser is not supported. Please upgrade to continue.")}}();var r,t,e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n={};function i(){if(t)return r;t=1;var n=function(r){return r&&r.Math===Math&&r};return r=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||n("object"==typeof r&&r)||function(){return this}()||Function("return this")()}var o,a,u,c,f,s,l,d,v={};function p(){return a?o:(a=1,o=function(r){try{return!!r()}catch(r){return!0}})}function y(){if(c)return u;c=1;var r=p();return u=!r(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})}function h(){if(s)return f;s=1;var r=p();return f=!r(function(){var r=function(){}.bind();return"function"!=typeof r||r.hasOwnProperty("prototype")})}function m(){if(d)return l;d=1;var r=h(),t=Function.prototype.call;return l=r?t.bind(t):function(){return t.apply(t,arguments)},l}var g,b,w,S,A,T,O,E,x,R,k,I,P,C,j,M,_,D,N,F,L,U,B,q,z,W,V,G,H,$,Y,J,K,Q,X,Z,rr,tr,er,nr,ir,or={};function ar(){if(g)return or;g=1;var r={}.propertyIsEnumerable,t=Object.getOwnPropertyDescriptor,e=t&&!r.call({1:2},1);return or.f=e?function(r){var e=t(this,r);return!!e&&e.enumerable}:r,or}function ur(){return w?b:(w=1,b=function(r,t){return{enumerable:!(1&r),configurable:!(2&r),writable:!(4&r),value:t}})}function cr(){if(A)return S;A=1;var r=h(),t=Function.prototype,e=t.call,n=r&&t.bind.bind(e,e);return S=r?n:function(r){return function(){return e.apply(r,arguments)}},S}function fr(){if(O)return T;O=1;var r=cr(),t=r({}.toString),e=r("".slice);return T=function(r){return e(t(r),8,-1)}}function sr(){if(x)return E;x=1;var r=cr(),t=p(),e=fr(),n=Object,i=r("".split);return E=t(function(){return!n("z").propertyIsEnumerable(0)})?function(r){return"String"===e(r)?i(r,""):n(r)}:n}function lr(){return k?R:(k=1,R=function(r){return null==r})}function dr(){if(P)return I;P=1;var r=lr(),t=TypeError;return I=function(e){if(r(e))throw new t("Can't call method on "+e);return e}}function vr(){if(j)return C;j=1;var r=sr(),t=dr();return C=function(e){return r(t(e))}}function pr(){if(_)return M;_=1;var r="object"==typeof document&&document.all;return M=void 0===r&&void 0!==r?function(t){return"function"==typeof t||t===r}:function(r){return"function"==typeof r}}function yr(){if(N)return D;N=1;var r=pr();return D=function(t){return"object"==typeof t?null!==t:r(t)}}function hr(){if(L)return F;L=1;var r=i(),t=pr();return F=function(e,n){return arguments.length<2?(i=r[e],t(i)?i:void 0):r[e]&&r[e][n];var i},F}function mr(){if(B)return U;B=1;var r=cr();return U=r({}.isPrototypeOf)}function gr(){if(z)return q;z=1;var r=i().navigator,t=r&&r.userAgent;return q=t?String(t):""}function br(){if(V)return W;V=1;var r,t,e=i(),n=gr(),o=e.process,a=e.Deno,u=o&&o.versions||a&&a.version,c=u&&u.v8;return c&&(t=(r=c.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!t&&n&&(!(r=n.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=n.match(/Chrome\/(\d+)/))&&(t=+r[1]),W=t}function wr(){if(H)return G;H=1;var r=br(),t=p(),e=i().String;return G=!!Object.getOwnPropertySymbols&&!t(function(){var t=Symbol("symbol detection");return!e(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41})}function Sr(){if(Y)return $;Y=1;var r=wr();return $=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator}function Ar(){if(K)return J;K=1;var r=hr(),t=pr(),e=mr(),n=Sr(),i=Object;return J=n?function(r){return"symbol"==typeof r}:function(n){var o=r("Symbol");return t(o)&&e(o.prototype,i(n))}}function Tr(){if(X)return Q;X=1;var r=String;return Q=function(t){try{return r(t)}catch(r){return"Object"}}}function Or(){if(rr)return Z;rr=1;var r=pr(),t=Tr(),e=TypeError;return Z=function(n){if(r(n))return n;throw new e(t(n)+" is not a function")}}function Er(){if(er)return tr;er=1;var r=Or(),t=lr();return tr=function(e,n){var i=e[n];return t(i)?void 0:r(i)}}function xr(){if(ir)return nr;ir=1;var r=m(),t=pr(),e=yr(),n=TypeError;return nr=function(i,o){var a,u;if("string"===o&&t(a=i.toString)&&!e(u=r(a,i)))return u;if(t(a=i.valueOf)&&!e(u=r(a,i)))return u;if("string"!==o&&t(a=i.toString)&&!e(u=r(a,i)))return u;throw new n("Can't convert object to primitive value")}}var Rr,kr,Ir,Pr,Cr,jr,Mr,_r,Dr,Nr,Fr,Lr,Ur,Br,qr,zr,Wr,Vr,Gr,Hr,$r,Yr,Jr,Kr,Qr={exports:{}};function Xr(){return kr?Rr:(kr=1,Rr=!1)}function Zr(){if(Pr)return Ir;Pr=1;var r=i(),t=Object.defineProperty;return Ir=function(e,n){try{t(r,e,{value:n,configurable:!0,writable:!0})}catch(t){r[e]=n}return n}}function rt(){if(Cr)return Qr.exports;Cr=1;var r=Xr(),t=i(),e=Zr(),n="__core-js_shared__",o=Qr.exports=t[n]||e(n,{});return(o.versions||(o.versions=[])).push({version:"3.45.1",mode:r?"pure":"global",copyright:"Â© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.45.1/LICENSE",source:"https://github.com/zloirock/core-js"}),Qr.exports}function tt(){if(Mr)return jr;Mr=1;var r=rt();return jr=function(t,e){return r[t]||(r[t]=e||{})}}function et(){if(Dr)return _r;Dr=1;var r=dr(),t=Object;return _r=function(e){return t(r(e))}}function nt(){if(Fr)return Nr;Fr=1;var r=cr(),t=et(),e=r({}.hasOwnProperty);return Nr=Object.hasOwn||function(r,n){return e(t(r),n)}}function it(){if(Ur)return Lr;Ur=1;var r=cr(),t=0,e=Math.random(),n=r(1.1.toString);return Lr=function(r){return"Symbol("+(void 0===r?"":r)+")_"+n(++t+e,36)}}function ot(){if(qr)return Br;qr=1;var r=i(),t=tt(),e=nt(),n=it(),o=wr(),a=Sr(),u=r.Symbol,c=t("wks"),f=a?u.for||u:u&&u.withoutSetter||n;return Br=function(r){return e(c,r)||(c[r]=o&&e(u,r)?u[r]:f("Symbol."+r)),c[r]}}function at(){if(Wr)return zr;Wr=1;var r=m(),t=yr(),e=Ar(),n=Er(),i=xr(),o=ot(),a=TypeError,u=o("toPrimitive");return zr=function(o,c){if(!t(o)||e(o))return o;var f,s=n(o,u);if(s){if(void 0===c&&(c="default"),f=r(s,o,c),!t(f)||e(f))return f;throw new a("Can't convert object to primitive value")}return void 0===c&&(c="number"),i(o,c)}}function ut(){if(Gr)return Vr;Gr=1;var r=at(),t=Ar();return Vr=function(e){var n=r(e,"string");return t(n)?n:n+""}}function ct(){if($r)return Hr;$r=1;var r=i(),t=yr(),e=r.document,n=t(e)&&t(e.createElement);return Hr=function(r){return n?e.createElement(r):{}}}function ft(){if(Jr)return Yr;Jr=1;var r=y(),t=p(),e=ct();return Yr=!r&&!t(function(){return 7!==Object.defineProperty(e("div"),"a",{get:function(){return 7}}).a})}function st(){if(Kr)return v;Kr=1;var r=y(),t=m(),e=ar(),n=ur(),i=vr(),o=ut(),a=nt(),u=ft(),c=Object.getOwnPropertyDescriptor;return v.f=r?c:function(r,f){if(r=i(r),f=o(f),u)try{return c(r,f)}catch(r){}if(a(r,f))return n(!t(e.f,r,f),r[f])},v}var lt,dt,vt,pt,yt,ht,mt,gt={};function bt(){if(dt)return lt;dt=1;var r=y(),t=p();return lt=r&&t(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})}function wt(){if(pt)return vt;pt=1;var r=yr(),t=String,e=TypeError;return vt=function(n){if(r(n))return n;throw new e(t(n)+" is not an object")}}function St(){if(yt)return gt;yt=1;var r=y(),t=ft(),e=bt(),n=wt(),i=ut(),o=TypeError,a=Object.defineProperty,u=Object.getOwnPropertyDescriptor,c="enumerable",f="configurable",s="writable";return gt.f=r?e?function(r,t,e){if(n(r),t=i(t),n(e),"function"==typeof r&&"prototype"===t&&"value"in e&&s in e&&!e[s]){var o=u(r,t);o&&o[s]&&(r[t]=e.value,e={configurable:f in e?e[f]:o[f],enumerable:c in e?e[c]:o[c],writable:!1})}return a(r,t,e)}:a:function(r,e,u){if(n(r),e=i(e),n(u),t)try{return a(r,e,u)}catch(r){}if("get"in u||"set"in u)throw new o("Accessors not supported");return"value"in u&&(r[e]=u.value),r},gt}function At(){if(mt)return ht;mt=1;var r=y(),t=St(),e=ur();return ht=r?function(r,n,i){return t.f(r,n,e(1,i))}:function(r,t,e){return r[t]=e,r}}var Tt,Ot,Et,xt,Rt,kt,It,Pt,Ct,jt,Mt,_t,Dt,Nt,Ft,Lt={exports:{}};function Ut(){if(Ot)return Tt;Ot=1;var r=y(),t=nt(),e=Function.prototype,n=r&&Object.getOwnPropertyDescriptor,i=t(e,"name"),o=i&&"something"===function(){}.name,a=i&&(!r||r&&n(e,"name").configurable);return Tt={EXISTS:i,PROPER:o,CONFIGURABLE:a}}function Bt(){if(xt)return Et;xt=1;var r=cr(),t=pr(),e=rt(),n=r(Function.toString);return t(e.inspectSource)||(e.inspectSource=function(r){return n(r)}),Et=e.inspectSource}function qt(){if(Pt)return It;Pt=1;var r=tt(),t=it(),e=r("keys");return It=function(r){return e[r]||(e[r]=t(r))}}function zt(){return jt?Ct:(jt=1,Ct={})}function Wt(){if(_t)return Mt;_t=1;var r,t,e,n=function(){if(kt)return Rt;kt=1;var r=i(),t=pr(),e=r.WeakMap;return Rt=t(e)&&/native code/.test(String(e))}(),o=i(),a=yr(),u=At(),c=nt(),f=rt(),s=qt(),l=zt(),d="Object already initialized",v=o.TypeError,p=o.WeakMap;if(n||f.state){var y=f.state||(f.state=new p);y.get=y.get,y.has=y.has,y.set=y.set,r=function(r,t){if(y.has(r))throw new v(d);return t.facade=r,y.set(r,t),t},t=function(r){return y.get(r)||{}},e=function(r){return y.has(r)}}else{var h=s("state");l[h]=!0,r=function(r,t){if(c(r,h))throw new v(d);return t.facade=r,u(r,h,t),t},t=function(r){return c(r,h)?r[h]:{}},e=function(r){return c(r,h)}}return Mt={set:r,get:t,has:e,enforce:function(n){return e(n)?t(n):r(n,{})},getterFor:function(r){return function(e){var n;if(!a(e)||(n=t(e)).type!==r)throw new v("Incompatible receiver, "+r+" required");return n}}}}function Vt(){if(Dt)return Lt.exports;Dt=1;var r=cr(),t=p(),e=pr(),n=nt(),i=y(),o=Ut().CONFIGURABLE,a=Bt(),u=Wt(),c=u.enforce,f=u.get,s=String,l=Object.defineProperty,d=r("".slice),v=r("".replace),h=r([].join),m=i&&!t(function(){return 8!==l(function(){},"length",{value:8}).length}),g=String(String).split("String"),b=Lt.exports=function(r,t,e){"Symbol("===d(s(t),0,7)&&(t="["+v(s(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),e&&e.getter&&(t="get "+t),e&&e.setter&&(t="set "+t),(!n(r,"name")||o&&r.name!==t)&&(i?l(r,"name",{value:t,configurable:!0}):r.name=t),m&&e&&n(e,"arity")&&r.length!==e.arity&&l(r,"length",{value:e.arity});try{e&&n(e,"constructor")&&e.constructor?i&&l(r,"prototype",{writable:!1}):r.prototype&&(r.prototype=void 0)}catch(r){}var a=c(r);return n(a,"source")||(a.source=h(g,"string"==typeof t?t:"")),r};return Function.prototype.toString=b(function(){return e(this)&&f(this).source||a(this)},"toString"),Lt.exports}function Gt(){if(Ft)return Nt;Ft=1;var r=pr(),t=St(),e=Vt(),n=Zr();return Nt=function(i,o,a,u){u||(u={});var c=u.enumerable,f=void 0!==u.name?u.name:o;if(r(a)&&e(a,f,u),u.global)c?i[o]=a:n(o,a);else{try{u.unsafe?i[o]&&(c=!0):delete i[o]}catch(r){}c?i[o]=a:t.f(i,o,{value:a,enumerable:!1,configurable:!u.nonConfigurable,writable:!u.nonWritable})}return i}}var Ht,$t,Yt,Jt,Kt,Qt,Xt,Zt,re,te,ee,ne,ie,oe,ae,ue,ce,fe={};function se(){if(Jt)return Yt;Jt=1;var r=function(){if($t)return Ht;$t=1;var r=Math.ceil,t=Math.floor;return Ht=Math.trunc||function(e){var n=+e;return(n>0?t:r)(n)}}();return Yt=function(t){var e=+t;return e!=e||0===e?0:r(e)}}function le(){if(Qt)return Kt;Qt=1;var r=se(),t=Math.max,e=Math.min;return Kt=function(n,i){var o=r(n);return o<0?t(o+i,0):e(o,i)}}function de(){if(Zt)return Xt;Zt=1;var r=se(),t=Math.min;return Xt=function(e){var n=r(e);return n>0?t(n,9007199254740991):0}}function ve(){if(te)return re;te=1;var r=de();return re=function(t){return r(t.length)}}function pe(){if(ne)return ee;ne=1;var r=vr(),t=le(),e=ve(),n=function(n){return function(i,o,a){var u=r(i),c=e(u);if(0===c)return!n&&-1;var f,s=t(a,c);if(n&&o!=o){for(;c>s;)if((f=u[s++])!=f)return!0}else for(;c>s;s++)if((n||s in u)&&u[s]===o)return n||s||0;return!n&&-1}};return ee={includes:n(!0),indexOf:n(!1)}}function ye(){if(oe)return ie;oe=1;var r=cr(),t=nt(),e=vr(),n=pe().indexOf,i=zt(),o=r([].push);return ie=function(r,a){var u,c=e(r),f=0,s=[];for(u in c)!t(i,u)&&t(c,u)&&o(s,u);for(;a.length>f;)t(c,u=a[f++])&&(~n(s,u)||o(s,u));return s}}function he(){return ue?ae:(ue=1,ae=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"])}function me(){if(ce)return fe;ce=1;var r=ye(),t=he().concat("length","prototype");return fe.f=Object.getOwnPropertyNames||function(e){return r(e,t)},fe}var ge,be,we,Se,Ae,Te,Oe,Ee,xe,Re,ke,Ie,Pe,Ce,je={};function Me(){if(we)return be;we=1;var r=hr(),t=cr(),e=me(),n=(ge||(ge=1,je.f=Object.getOwnPropertySymbols),je),i=wt(),o=t([].concat);return be=r("Reflect","ownKeys")||function(r){var t=e.f(i(r)),a=n.f;return a?o(t,a(r)):t}}function _e(){if(Ae)return Se;Ae=1;var r=nt(),t=Me(),e=st(),n=St();return Se=function(i,o,a){for(var u=t(o),c=n.f,f=e.f,s=0;s<u.length;s++){var l=u[s];r(i,l)||a&&r(a,l)||c(i,l,f(o,l))}}}function De(){if(Oe)return Te;Oe=1;var r=p(),t=pr(),e=/#|\.prototype\./,n=function(e,n){var c=o[i(e)];return c===u||c!==a&&(t(n)?r(n):!!n)},i=n.normalize=function(r){return String(r).replace(e,".").toLowerCase()},o=n.data={},a=n.NATIVE="N",u=n.POLYFILL="P";return Te=n}function Ne(){if(xe)return Ee;xe=1;var r=i(),t=st().f,e=At(),n=Gt(),o=Zr(),a=_e(),u=De();return Ee=function(i,c){var f,s,l,d,v,p=i.target,y=i.global,h=i.stat;if(f=y?r:h?r[p]||o(p,{}):r[p]&&r[p].prototype)for(s in c){if(d=c[s],l=i.dontCallGetSet?(v=t(f,s))&&v.value:f[s],!u(y?s:p+(h?".":"#")+s,i.forced)&&void 0!==l){if(typeof d==typeof l)continue;a(d,l)}(i.sham||l&&l.sham)&&e(d,"sham",!0),n(f,s,d,i)}}}function Fe(){if(ke)return Re;ke=1;var r=fr(),t=cr();return Re=function(e){if("Function"===r(e))return t(e)}}function Le(){if(Pe)return Ie;Pe=1;var r=p();return Ie=function(t,e){var n=[][t];return!!n&&r(function(){n.call(null,e||function(){return 1},1)})}}!function(){if(Ce)return n;Ce=1;var r=Ne(),t=Fe(),e=pe().indexOf,i=Le(),o=t([].indexOf),a=!!o&&1/o([1],1,-0)<0;r({target:"Array",proto:!0,forced:a||!i("indexOf")},{indexOf:function(r){var t=arguments.length>1?arguments[1]:void 0;return a?o(this,r,t)||0:e(this,r,t)}})}();var Ue,Be,qe,ze,We,Ve,Ge,He,$e,Ye,Je,Ke,Qe,Xe,Ze,rn,tn,en,nn,on,an,un,cn,fn,sn,ln,dn,vn,pn,yn,hn,mn,gn,bn,wn,Sn={};function An(){if(Be)return Ue;Be=1;var r=ye(),t=he();return Ue=Object.keys||function(e){return r(e,t)}}function Tn(){if(We)return ze;We=1;var r=hr();return ze=r("document","documentElement")}function On(){if(Ge)return Ve;Ge=1;var r,t=wt(),e=function(){if(qe)return Sn;qe=1;var r=y(),t=bt(),e=St(),n=wt(),i=vr(),o=An();return Sn.f=r&&!t?Object.defineProperties:function(r,t){n(r);for(var a,u=i(t),c=o(t),f=c.length,s=0;f>s;)e.f(r,a=c[s++],u[a]);return r},Sn}(),n=he(),i=zt(),o=Tn(),a=ct(),u=qt(),c="prototype",f="script",s=u("IE_PROTO"),l=function(){},d=function(r){return"<"+f+">"+r+"</"+f+">"},v=function(r){r.write(d("")),r.close();var t=r.parentWindow.Object;return r=null,t},p=function(){try{r=new ActiveXObject("htmlfile")}catch(r){}var t,e,i;p="undefined"!=typeof document?document.domain&&r?v(r):(e=a("iframe"),i="java"+f+":",e.style.display="none",o.appendChild(e),e.src=String(i),(t=e.contentWindow.document).open(),t.write(d("document.F=Object")),t.close(),t.F):v(r);for(var u=n.length;u--;)delete p[c][n[u]];return p()};return i[s]=!0,Ve=Object.create||function(r,n){var i;return null!==r?(l[c]=t(r),i=new l,l[c]=null,i[s]=r):i=p(),void 0===n?i:e.f(i,n)}}function En(){if($e)return He;$e=1;var r=ot(),t=On(),e=St().f,n=r("unscopables"),i=Array.prototype;return void 0===i[n]&&e(i,n,{configurable:!0,value:t(null)}),He=function(r){i[n][r]=!0}}function xn(){return Je?Ye:(Je=1,Ye={})}function Rn(){if(Ze)return Xe;Ze=1;var r=nt(),t=pr(),e=et(),n=qt(),i=function(){if(Qe)return Ke;Qe=1;var r=p();return Ke=!r(function(){function r(){}return r.prototype.constructor=null,Object.getPrototypeOf(new r)!==r.prototype})}(),o=n("IE_PROTO"),a=Object,u=a.prototype;return Xe=i?a.getPrototypeOf:function(n){var i=e(n);if(r(i,o))return i[o];var c=i.constructor;return t(c)&&i instanceof c?c.prototype:i instanceof a?u:null}}function kn(){if(tn)return rn;tn=1;var r,t,e,n=p(),i=pr(),o=yr(),a=On(),u=Rn(),c=Gt(),f=ot(),s=Xr(),l=f("iterator"),d=!1;return[].keys&&("next"in(e=[].keys())?(t=u(u(e)))!==Object.prototype&&(r=t):d=!0),!o(r)||n(function(){var t={};return r[l].call(t)!==t})?r={}:s&&(r=a(r)),i(r[l])||c(r,l,function(){return this}),rn={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:d}}function In(){if(nn)return en;nn=1;var r=St().f,t=nt(),e=ot()("toStringTag");return en=function(n,i,o){n&&!o&&(n=n.prototype),n&&!t(n,e)&&r(n,e,{configurable:!0,value:i})}}function Pn(){if(sn)return fn;sn=1;var r=yr();return fn=function(t){return r(t)||null===t}}function Cn(){if(dn)return ln;dn=1;var r=Pn(),t=String,e=TypeError;return ln=function(n){if(r(n))return n;throw new e("Can't set "+t(n)+" as a prototype")}}function jn(){if(pn)return vn;pn=1;var r=function(){if(cn)return un;cn=1;var r=cr(),t=Or();return un=function(e,n,i){try{return r(t(Object.getOwnPropertyDescriptor(e,n)[i]))}catch(r){}}}(),t=yr(),e=dr(),n=Cn();return vn=Object.setPrototypeOf||("__proto__"in{}?function(){var i,o=!1,a={};try{(i=r(Object.prototype,"__proto__","set"))(a,[]),o=a instanceof Array}catch(r){}return function(r,a){return e(r),n(a),t(r)?(o?i(r,a):r.__proto__=a,r):r}}():void 0)}function Mn(){if(hn)return yn;hn=1;var r=Ne(),t=m(),e=Xr(),n=Ut(),i=pr(),o=function(){if(an)return on;an=1;var r=kn().IteratorPrototype,t=On(),e=ur(),n=In(),i=xn(),o=function(){return this};return on=function(a,u,c,f){var s=u+" Iterator";return a.prototype=t(r,{next:e(+!f,c)}),n(a,s,!1,!0),i[s]=o,a}}(),a=Rn(),u=jn(),c=In(),f=At(),s=Gt(),l=ot(),d=xn(),v=kn(),p=n.PROPER,y=n.CONFIGURABLE,h=v.IteratorPrototype,g=v.BUGGY_SAFARI_ITERATORS,b=l("iterator"),w="keys",S="values",A="entries",T=function(){return this};return yn=function(n,l,v,m,O,E,x){o(v,l,m);var R,k,I,P=function(r){if(r===O&&D)return D;if(!g&&r&&r in M)return M[r];switch(r){case w:case S:case A:return function(){return new v(this,r)}}return function(){return new v(this)}},C=l+" Iterator",j=!1,M=n.prototype,_=M[b]||M["@@iterator"]||O&&M[O],D=!g&&_||P(O),N="Array"===l&&M.entries||_;if(N&&(R=a(N.call(new n)))!==Object.prototype&&R.next&&(e||a(R)===h||(u?u(R,h):i(R[b])||s(R,b,T)),c(R,C,!0,!0),e&&(d[C]=T)),p&&O===S&&_&&_.name!==S&&(!e&&y?f(M,"name",S):(j=!0,D=function(){return t(_,this)})),O)if(k={values:P(S),keys:E?D:P(w),entries:P(A)},x)for(I in k)(g||j||!(I in M))&&s(M,I,k[I]);else r({target:l,proto:!0,forced:g||j},k);return e&&!x||M[b]===D||s(M,b,D,{name:O}),d[l]=D,k}}function _n(){return gn?mn:(gn=1,mn=function(r,t){return{value:r,done:t}})}function Dn(){if(wn)return bn;wn=1;var r=vr(),t=En(),e=xn(),n=Wt(),i=St().f,o=Mn(),a=_n(),u=Xr(),c=y(),f="Array Iterator",s=n.set,l=n.getterFor(f);bn=o(Array,"Array",function(t,e){s(this,{type:f,target:r(t),index:0,kind:e})},function(){var r=l(this),t=r.target,e=r.index++;if(!t||e>=t.length)return r.target=null,a(void 0,!0);switch(r.kind){case"keys":return a(e,!1);case"values":return a(t[e],!1)}return a([e,t[e]],!1)},"values");var d=e.Arguments=e.Array;if(t("keys"),t("values"),t("entries"),!u&&c&&"values"!==d.name)try{i(d,"name",{value:"values"})}catch(r){}return bn}Dn();var Nn,Fn,Ln,Un,Bn,qn,zn,Wn,Vn,Gn,Hn,$n,Yn,Jn,Kn,Qn={};function Xn(){if(Fn)return Nn;Fn=1;var r=fr();return Nn=Array.isArray||function(t){return"Array"===r(t)}}function Zn(){if(Un)return Ln;Un=1;var r={};return r[ot()("toStringTag")]="z",Ln="[object z]"===String(r)}function ri(){if(qn)return Bn;qn=1;var r=Zn(),t=pr(),e=fr(),n=ot()("toStringTag"),i=Object,o="Arguments"===e(function(){return arguments}());return Bn=r?e:function(r){var a,u,c;return void 0===r?"Undefined":null===r?"Null":"string"==typeof(u=function(r,t){try{return r[t]}catch(r){}}(a=i(r),n))?u:o?e(a):"Object"===(c=e(a))&&t(a.callee)?"Arguments":c}}function ti(){if(Wn)return zn;Wn=1;var r=cr(),t=p(),e=pr(),n=ri(),i=hr(),o=Bt(),a=function(){},u=i("Reflect","construct"),c=/^\s*(?:class|function)\b/,f=r(c.exec),s=!c.test(a),l=function(r){if(!e(r))return!1;try{return u(a,[],r),!0}catch(r){return!1}},d=function(r){if(!e(r))return!1;switch(n(r)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return s||!!f(c,o(r))}catch(r){return!0}};return d.sham=!0,zn=!u||t(function(){var r;return l(l.call)||!l(Object)||!l(function(){r=!0})||r})?d:l}function ei(){if(Gn)return Vn;Gn=1;var r=y(),t=St(),e=ur();return Vn=function(n,i,o){r?t.f(n,i,e(0,o)):n[i]=o}}function ni(){if($n)return Hn;$n=1;var r=p(),t=ot(),e=br(),n=t("species");return Hn=function(t){return e>=51||!r(function(){var r=[];return(r.constructor={})[n]=function(){return{foo:1}},1!==r[t](Boolean).foo})}}function ii(){if(Jn)return Yn;Jn=1;var r=cr();return Yn=r([].slice)}!function(){if(Kn)return Qn;Kn=1;var r=Ne(),t=Xn(),e=ti(),n=yr(),i=le(),o=ve(),a=vr(),u=ei(),c=ot(),f=ni(),s=ii(),l=f("slice"),d=c("species"),v=Array,p=Math.max;r({target:"Array",proto:!0,forced:!l},{slice:function(r,c){var f,l,y,h=a(this),m=o(h),g=i(r,m),b=i(void 0===c?m:c,m);if(t(h)&&(f=h.constructor,(e(f)&&(f===v||t(f.prototype))||n(f)&&null===(f=f[d]))&&(f=void 0),f===v||void 0===f))return s(h,g,b);for(l=new(void 0===f?v:f)(p(b-g,0)),y=0;g<b;g++,y++)g in h&&u(l,y,h[g]);return l.length=y,l}})}();var oi,ai,ui,ci,fi,si,li,di,vi,pi,yi,hi={};function mi(){if(ci)return ui;ci=1;var r=TypeError;return ui=function(t){if(t>9007199254740991)throw r("Maximum allowed index exceeded");return t}}function gi(){if(si)return fi;si=1;var r=Xn(),t=ti(),e=yr(),n=ot()("species"),i=Array;return fi=function(o){var a;return r(o)&&(a=o.constructor,(t(a)&&(a===i||r(a.prototype))||e(a)&&null===(a=a[n]))&&(a=void 0)),void 0===a?i:a}}function bi(){if(di)return li;di=1;var r=gi();return li=function(t,e){return new(r(t))(0===e?0:e)}}function wi(){if(pi)return vi;pi=1;var r=Tr(),t=TypeError;return vi=function(e,n){if(!delete e[n])throw new t("Cannot delete property "+r(n)+" of "+r(e))}}!function(){if(yi)return hi;yi=1;var r=Ne(),t=et(),e=le(),n=se(),i=ve(),o=function(){if(ai)return oi;ai=1;var r=y(),t=Xn(),e=TypeError,n=Object.getOwnPropertyDescriptor,i=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(r){return r instanceof TypeError}}();return oi=i?function(r,i){if(t(r)&&!n(r,"length").writable)throw new e("Cannot set read only .length");return r.length=i}:function(r,t){return r.length=t}}(),a=mi(),u=bi(),c=ei(),f=wi(),s=ni()("splice"),l=Math.max,d=Math.min;r({target:"Array",proto:!0,forced:!s},{splice:function(r,s){var v,p,y,h,m,g,b=t(this),w=i(b),S=e(r,w),A=arguments.length;for(0===A?v=p=0:1===A?(v=0,p=w-S):(v=A-2,p=d(l(n(s),0),w-S)),a(w+v-p),y=u(b,p),h=0;h<p;h++)(m=S+h)in b&&c(y,h,b[m]);if(y.length=p,v<p){for(h=S;h<w-p;h++)g=h+v,(m=h+p)in b?b[g]=b[m]:f(b,g);for(h=w;h>w-p+v;h--)f(b,h-1)}else if(v>p)for(h=w-p;h>S;h--)g=h+v-1,(m=h+p-1)in b?b[g]=b[m]:f(b,g);for(h=0;h<v;h++)b[h+S]=arguments[h+2];return o(b,w-p+v),y}})}();var Si,Ai,Ti,Oi={};!function(){if(Ti)return Oi;Ti=1;var r=Zn(),t=Gt(),e=function(){if(Ai)return Si;Ai=1;var r=Zn(),t=ri();return Si=r?{}.toString:function(){return"[object "+t(this)+"]"}}();r||t(Object.prototype,"toString",e,{unsafe:!0})}();var Ei,xi,Ri,ki,Ii,Pi,Ci,ji,Mi,_i,Di,Ni,Fi,Li,Ui,Bi,qi,zi,Wi,Vi,Gi,Hi,$i,Yi,Ji,Ki,Qi,Xi,Zi,ro,to,eo,no,io,oo,ao,uo,co,fo={exports:{}},so={};function lo(){if(Ei)return so;Ei=1;var r=fr(),t=vr(),e=me().f,n=ii(),i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];return so.f=function(o){return i&&"Window"===r(o)?function(r){try{return e(r)}catch(r){return n(i)}}(o):e(t(o))},so}function vo(){if(Ii)return ki;Ii=1;var r=p(),t=yr(),e=fr(),n=function(){if(Ri)return xi;Ri=1;var r=p();return xi=r(function(){if("function"==typeof ArrayBuffer){var r=new ArrayBuffer(8);Object.isExtensible(r)&&Object.defineProperty(r,"a",{value:8})}})}(),i=Object.isExtensible,o=r(function(){});return ki=o||n?function(r){return!!t(r)&&((!n||"ArrayBuffer"!==e(r))&&(!i||i(r)))}:i}function po(){if(ji)return fo.exports;ji=1;var r=Ne(),t=cr(),e=zt(),n=yr(),i=nt(),o=St().f,a=me(),u=lo(),c=vo(),f=it(),s=function(){if(Ci)return Pi;Ci=1;var r=p();return Pi=!r(function(){return Object.isExtensible(Object.preventExtensions({}))})}(),l=!1,d=f("meta"),v=0,y=function(r){o(r,d,{value:{objectID:"O"+v++,weakData:{}}})},h=fo.exports={enable:function(){h.enable=function(){},l=!0;var e=a.f,n=t([].splice),i={};i[d]=1,e(i).length&&(a.f=function(r){for(var t=e(r),i=0,o=t.length;i<o;i++)if(t[i]===d){n(t,i,1);break}return t},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:u.f}))},fastKey:function(r,t){if(!n(r))return"symbol"==typeof r?r:("string"==typeof r?"S":"P")+r;if(!i(r,d)){if(!c(r))return"F";if(!t)return"E";y(r)}return r[d].objectID},getWeakData:function(r,t){if(!i(r,d)){if(!c(r))return!0;if(!t)return!1;y(r)}return r[d].weakData},onFreeze:function(r){return s&&l&&c(r)&&!i(r,d)&&y(r),r}};return e[d]=!0,fo.exports}function yo(){if(_i)return Mi;_i=1;var r=Fe(),t=Or(),e=h(),n=r(r.bind);return Mi=function(r,i){return t(r),void 0===i?r:e?n(r,i):function(){return r.apply(i,arguments)}},Mi}function ho(){if(Ni)return Di;Ni=1;var r=ot(),t=xn(),e=r("iterator"),n=Array.prototype;return Di=function(r){return void 0!==r&&(t.Array===r||n[e]===r)}}function mo(){if(Li)return Fi;Li=1;var r=ri(),t=Er(),e=lr(),n=xn(),i=ot()("iterator");return Fi=function(o){if(!e(o))return t(o,i)||t(o,"@@iterator")||n[r(o)]}}function go(){if(Bi)return Ui;Bi=1;var r=m(),t=Or(),e=wt(),n=Tr(),i=mo(),o=TypeError;return Ui=function(a,u){var c=arguments.length<2?i(a):u;if(t(c))return e(r(c,a));throw new o(n(a)+" is not iterable")},Ui}function bo(){if(zi)return qi;zi=1;var r=m(),t=wt(),e=Er();return qi=function(n,i,o){var a,u;t(n);try{if(!(a=e(n,"return"))){if("throw"===i)throw o;return o}a=r(a,n)}catch(r){u=!0,a=r}if("throw"===i)throw o;if(u)throw a;return t(a),o}}function wo(){if(Vi)return Wi;Vi=1;var r=yo(),t=m(),e=wt(),n=Tr(),i=ho(),o=ve(),a=mr(),u=go(),c=mo(),f=bo(),s=TypeError,l=function(r,t){this.stopped=r,this.result=t},d=l.prototype;return Wi=function(v,p,y){var h,m,g,b,w,S,A,T=y&&y.that,O=!(!y||!y.AS_ENTRIES),E=!(!y||!y.IS_RECORD),x=!(!y||!y.IS_ITERATOR),R=!(!y||!y.INTERRUPTED),k=r(p,T),I=function(r){return h&&f(h,"normal"),new l(!0,r)},P=function(r){return O?(e(r),R?k(r[0],r[1],I):k(r[0],r[1])):R?k(r,I):k(r)};if(E)h=v.iterator;else if(x)h=v;else{if(!(m=c(v)))throw new s(n(v)+" is not iterable");if(i(m)){for(g=0,b=o(v);b>g;g++)if((w=P(v[g]))&&a(d,w))return w;return new l(!1)}h=u(v,m)}for(S=E?v.next:h.next;!(A=t(S,h)).done;){try{w=P(A.value)}catch(r){f(h,"throw",r)}if("object"==typeof w&&w&&a(d,w))return w}return new l(!1)}}function So(){if(Hi)return Gi;Hi=1;var r=mr(),t=TypeError;return Gi=function(e,n){if(r(n,e))return e;throw new t("Incorrect invocation")}}function Ao(){if(Yi)return $i;Yi=1;var r=ot()("iterator"),t=!1;try{var e=0,n={next:function(){return{done:!!e++}},return:function(){t=!0}};n[r]=function(){return this},Array.from(n,function(){throw 2})}catch(r){}return $i=function(e,n){try{if(!n&&!t)return!1}catch(r){return!1}var i=!1;try{var o={};o[r]=function(){return{next:function(){return{done:i=!0}}}},e(o)}catch(r){}return i}}function To(){if(Ki)return Ji;Ki=1;var r=pr(),t=yr(),e=jn();return Ji=function(n,i,o){var a,u;return e&&r(a=i.constructor)&&a!==o&&t(u=a.prototype)&&u!==o.prototype&&e(n,u),n}}function Oo(){if(Xi)return Qi;Xi=1;var r=Ne(),t=i(),e=cr(),n=De(),o=Gt(),a=po(),u=wo(),c=So(),f=pr(),s=lr(),l=yr(),d=p(),v=Ao(),y=In(),h=To();return Qi=function(i,p,m){var g=-1!==i.indexOf("Map"),b=-1!==i.indexOf("Weak"),w=g?"set":"add",S=t[i],A=S&&S.prototype,T=S,O={},E=function(r){var t=e(A[r]);o(A,r,"add"===r?function(r){return t(this,0===r?0:r),this}:"delete"===r?function(r){return!(b&&!l(r))&&t(this,0===r?0:r)}:"get"===r?function(r){return b&&!l(r)?void 0:t(this,0===r?0:r)}:"has"===r?function(r){return!(b&&!l(r))&&t(this,0===r?0:r)}:function(r,e){return t(this,0===r?0:r,e),this})};if(n(i,!f(S)||!(b||A.forEach&&!d(function(){(new S).entries().next()}))))T=m.getConstructor(p,i,g,w),a.enable();else if(n(i,!0)){var x=new T,R=x[w](b?{}:-0,1)!==x,k=d(function(){x.has(1)}),I=v(function(r){new S(r)}),P=!b&&d(function(){for(var r=new S,t=5;t--;)r[w](t,t);return!r.has(-0)});I||((T=p(function(r,t){c(r,A);var e=h(new S,r,T);return s(t)||u(t,e[w],{that:e,AS_ENTRIES:g}),e})).prototype=A,A.constructor=T),(k||P)&&(E("delete"),E("has"),g&&E("get")),(P||R)&&E(w),b&&A.clear&&delete A.clear}return O[i]=T,r({global:!0,constructor:!0,forced:T!==S},O),y(T,i),b||m.setStrong(T,i,g),T}}function Eo(){if(ro)return Zi;ro=1;var r=Vt(),t=St();return Zi=function(e,n,i){return i.get&&r(i.get,n,{getter:!0}),i.set&&r(i.set,n,{setter:!0}),t.f(e,n,i)}}function xo(){if(eo)return to;eo=1;var r=Gt();return to=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}}function Ro(){if(io)return no;io=1;var r=hr(),t=Eo(),e=ot(),n=y(),i=e("species");return no=function(e){var o=r(e);n&&o&&!o[i]&&t(o,i,{configurable:!0,get:function(){return this}})}}function ko(){if(ao)return oo;ao=1;var r=On(),t=Eo(),e=xo(),n=yo(),i=So(),o=lr(),a=wo(),u=Mn(),c=_n(),f=Ro(),s=y(),l=po().fastKey,d=Wt(),v=d.set,p=d.getterFor;return oo={getConstructor:function(u,c,f,d){var y=u(function(t,e){i(t,h),v(t,{type:c,index:r(null),first:null,last:null,size:0}),s||(t.size=0),o(e)||a(e,t[d],{that:t,AS_ENTRIES:f})}),h=y.prototype,m=p(c),g=function(r,t,e){var n,i,o=m(r),a=b(r,t);return a?a.value=e:(o.last=a={index:i=l(t,!0),key:t,value:e,previous:n=o.last,next:null,removed:!1},o.first||(o.first=a),n&&(n.next=a),s?o.size++:r.size++,"F"!==i&&(o.index[i]=a)),r},b=function(r,t){var e,n=m(r),i=l(t);if("F"!==i)return n.index[i];for(e=n.first;e;e=e.next)if(e.key===t)return e};return e(h,{clear:function(){for(var t=m(this),e=t.first;e;)e.removed=!0,e.previous&&(e.previous=e.previous.next=null),e=e.next;t.first=t.last=null,t.index=r(null),s?t.size=0:this.size=0},delete:function(r){var t=this,e=m(t),n=b(t,r);if(n){var i=n.next,o=n.previous;delete e.index[n.index],n.removed=!0,o&&(o.next=i),i&&(i.previous=o),e.first===n&&(e.first=i),e.last===n&&(e.last=o),s?e.size--:t.size--}return!!n},forEach:function(r){for(var t,e=m(this),i=n(r,arguments.length>1?arguments[1]:void 0);t=t?t.next:e.first;)for(i(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(r){return!!b(this,r)}}),e(h,f?{get:function(r){var t=b(this,r);return t&&t.value},set:function(r,t){return g(this,0===r?0:r,t)}}:{add:function(r){return g(this,r=0===r?0:r,r)}}),s&&t(h,"size",{configurable:!0,get:function(){return m(this).size}}),y},setStrong:function(r,t,e){var n=t+" Iterator",i=p(t),o=p(n);u(r,t,function(r,t){v(this,{type:n,target:r,state:i(r),kind:t,last:null})},function(){for(var r=o(this),t=r.kind,e=r.last;e&&e.removed;)e=e.previous;return r.target&&(r.last=e=e?e.next:r.state.first)?c("keys"===t?e.key:"values"===t?e.value:[e.key,e.value],!1):(r.target=null,c(void 0,!0))},e?"entries":"values",!e,!0),f(t)}},oo}co||(co=1,uo||(uo=1,Oo()("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},ko())));var Io,Po,Co,jo,Mo,_o={};function Do(){if(Po)return Io;Po=1;var r=ri(),t=String;return Io=function(e){if("Symbol"===r(e))throw new TypeError("Cannot convert a Symbol value to a string");return t(e)}}function No(){if(jo)return Co;jo=1;var r=cr(),t=se(),e=Do(),n=dr(),i=r("".charAt),o=r("".charCodeAt),a=r("".slice),u=function(r){return function(u,c){var f,s,l=e(n(u)),d=t(c),v=l.length;return d<0||d>=v?r?"":void 0:(f=o(l,d))<55296||f>56319||d+1===v||(s=o(l,d+1))<56320||s>57343?r?i(l,d):f:r?a(l,d,d+2):s-56320+(f-55296<<10)+65536}};return Co={codeAt:u(!1),charAt:u(!0)}}!function(){if(Mo)return _o;Mo=1;var r=No().charAt,t=Do(),e=Wt(),n=Mn(),i=_n(),o="String Iterator",a=e.set,u=e.getterFor(o);n(String,"String",function(r){a(this,{type:o,string:t(r),index:0})},function(){var t,e=u(this),n=e.string,o=e.index;return o>=n.length?i(void 0,!0):(t=r(n,o),e.index+=t.length,i(t,!1))})}();var Fo,Lo,Uo={};Lo||(Lo=1,function(){if(Fo)return Uo;Fo=1;var r=Ne(),t=i();r({global:!0,forced:t.globalThis!==t},{globalThis:t})}());var Bo,qo,zo,Wo,Vo,Go,Ho,$o,Yo,Jo={};function Ko(){return qo?Bo:(qo=1,Bo={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0})}function Qo(){if(Wo)return zo;Wo=1;var r=ct()("span").classList,t=r&&r.constructor&&r.constructor.prototype;return zo=t===Object.prototype?void 0:t}function Xo(){if(Go)return Vo;Go=1;var r=yo(),t=cr(),e=sr(),n=et(),i=ve(),o=bi(),a=t([].push),u=function(t){var u=1===t,c=2===t,f=3===t,s=4===t,l=6===t,d=7===t,v=5===t||l;return function(p,y,h,m){for(var g,b,w=n(p),S=e(w),A=i(S),T=r(y,h),O=0,E=m||o,x=u?E(p,A):c||d?E(p,0):void 0;A>O;O++)if((v||O in S)&&(b=T(g=S[O],O,w),t))if(u)x[O]=b;else if(b)switch(t){case 3:return!0;case 5:return g;case 6:return O;case 2:a(x,g)}else switch(t){case 4:return!1;case 7:a(x,g)}return l?-1:f||s?s:x}};return Vo={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}}!function(){if(Yo)return Jo;Yo=1;var r=i(),t=Ko(),e=Qo(),n=function(){if($o)return Ho;$o=1;var r=Xo().forEach,t=Le()("forEach");return Ho=t?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)},Ho}(),o=At(),a=function(r){if(r&&r.forEach!==n)try{o(r,"forEach",n)}catch(t){r.forEach=n}};for(var u in t)t[u]&&a(r[u]&&r[u].prototype);a(e)}();var Zo,ra={};!function(){if(Zo)return ra;Zo=1;var r=i(),t=Ko(),e=Qo(),n=Dn(),o=At(),a=In(),u=ot()("iterator"),c=n.values,f=function(r,e){if(r){if(r[u]!==c)try{o(r,u,c)}catch(t){r[u]=c}if(a(r,e,!0),t[e])for(var i in n)if(r[i]!==n[i])try{o(r,i,n[i])}catch(t){r[i]=n[i]}}};for(var s in t)f(r[s]&&r[s].prototype,s);f(e,"DOMTokenList")}(),function(r){var t=!(!r.starmusConfig||!r.starmusConfig.debug);function e(){if(t)try{(console.log||function(){}).apply(console,arguments)}catch(r){}}var n="function"==typeof Set,i={},o={};void 0===r.StarmusHooks&&(r.StarmusHooks={}),r.StarmusHooks.subscribe=function(r,t){var e,o;return i[r]||(i[r]=n?new Set:[]),e=i[r],o=t,n?e.add(o):-1===e.indexOf(o)&&e.push(o),function(){i[r]&&function(r,t){if(n)r.delete(t);else{var e=r.indexOf(t);-1!==e&&r.splice(e,1)}}(i[r],t)}},r.StarmusHooks.dispatch=function(r,t,a){t=t||{};var u=r+"::"+((a=a||{}).instanceId||"");if(o[u])e("Prevented recursive dispatch:",r);else{o[u]=!0;try{var c=i[r];if(!c)return;!function(r,t){if(n)r.forEach(t);else for(var e=r.slice(),i=0;i<e.length;i++)t(e[i])}(c,function(e){try{e(t,a)}catch(t){console.error("Error executing handler for command "+r+":",t)}})}finally{delete o[u]}}},r.StarmusHooks.debugLog=e}("undefined"!=typeof window?window:globalThis);var ta,ea="undefined"!=typeof window?window:globalThis,na=ea.StarmusHooks&&ea.StarmusHooks.debugLog||function(){},ia={};function oa(r,t){(null==t||t>r.length)&&(t=r.length);for(var e=0,n=Array(t);e<t;e++)n[e]=r[e];return n}function aa(r,t,e,n,i,o,a){try{var u=r[o](a),c=u.value}catch(r){return void e(r)}u.done?t(c):Promise.resolve(c).then(n,i)}function ua(r){return function(){var t=this,e=arguments;return new Promise(function(n,i){var o=r.apply(t,e);function a(r){aa(o,n,i,a,u,"next",r)}function u(r){aa(o,n,i,a,u,"throw",r)}a(void 0)})}}function ca(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function fa(r,t,e){return t&&function(r,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,ga(n.key),n)}}(r.prototype,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function sa(r,t){var e="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!e){if(Array.isArray(r)||(e=wa(r))||t){e&&(r=e);var n=0,i=function(){};return{s:i,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(r){throw r},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){e=e.call(r)},n:function(){var r=e.next();return a=r.done,r},e:function(r){u=!0,o=r},f:function(){try{a||null==e.return||e.return()}finally{if(u)throw o}}}}function la(r,t,e){return(t=ga(t))in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function da(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})),e.push.apply(e,n)}return e}function va(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */
var r,t,e="function"==typeof Symbol?Symbol:{},n=e.iterator||"@@iterator",i=e.toStringTag||"@@toStringTag";function o(e,n,i,o){var c=n&&n.prototype instanceof u?n:u,f=Object.create(c.prototype);return pa(f,"_invoke",function(e,n,i){var o,u,c,f=0,s=i||[],l=!1,d={p:0,n:0,v:r,a:v,f:v.bind(r,4),d:function(t,e){return o=t,u=0,c=r,d.n=e,a}};function v(e,n){for(u=e,c=n,t=0;!l&&f&&!i&&t<s.length;t++){var i,o=s[t],v=d.p,p=o[2];e>3?(i=p===n)&&(c=o[(u=o[4])?5:(u=3,3)],o[4]=o[5]=r):o[0]<=v&&((i=e<2&&v<o[1])?(u=0,d.v=n,d.n=o[1]):v<p&&(i=e<3||o[0]>n||n>p)&&(o[4]=e,o[5]=n,d.n=p,u=0))}if(i||e>1)return a;throw l=!0,n}return function(i,s,p){if(f>1)throw TypeError("Generator is already running");for(l&&1===s&&v(s,p),u=s,c=p;(t=u<2?r:c)||!l;){o||(u?u<3?(u>1&&(d.n=-1),v(u,c)):d.n=c:d.v=c);try{if(f=2,o){if(u||(i="next"),t=o[i]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,u<2&&(u=0)}else 1===u&&(t=o.return)&&t.call(o),u<2&&(c=TypeError("The iterator does not provide a '"+i+"' method"),u=1);o=r}else if((t=(l=d.n<0)?c:e.call(n,d))!==a)break}catch(t){o=r,u=1,c=t}finally{f=1}}return{value:t,done:l}}}(e,i,o),!0),f}var a={};function u(){}function c(){}function f(){}t=Object.getPrototypeOf;var s=[][n]?t(t([][n]())):(pa(t={},n,function(){return this}),t),l=f.prototype=u.prototype=Object.create(s);function d(r){return Object.setPrototypeOf?Object.setPrototypeOf(r,f):(r.__proto__=f,pa(r,i,"GeneratorFunction")),r.prototype=Object.create(l),r}return c.prototype=f,pa(l,"constructor",f),pa(f,"constructor",c),c.displayName="GeneratorFunction",pa(f,i,"GeneratorFunction"),pa(l),pa(l,i,"Generator"),pa(l,n,function(){return this}),pa(l,"toString",function(){return"[object Generator]"}),(va=function(){return{w:o,m:d}})()}function pa(r,t,e,n){var i=Object.defineProperty;try{i({},"",{})}catch(r){i=0}pa=function(r,t,e,n){function o(t,e){pa(r,t,function(r){return this._invoke(t,e,r)})}t?i?i(r,t,{value:e,enumerable:!n,configurable:!n,writable:!n}):r[t]=e:(o("next",0),o("throw",1),o("return",2))},pa(r,t,e,n)}function ya(r){if(null!=r){var t=r["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],e=0;if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length))return{next:function(){return r&&e>=r.length&&(r=void 0),{value:r&&r[e++],done:!r}}}}throw new TypeError(typeof r+" is not iterable")}function ha(r,t){return function(r){if(Array.isArray(r))return r}(r)||function(r,t){var e=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=e){var n,i,o,a,u=[],c=!0,f=!1;try{if(o=(e=e.call(r)).next,0===t);else for(;!(c=(n=o.call(e)).done)&&(u.push(n.value),u.length!==t);c=!0);}catch(r){f=!0,i=r}finally{try{if(!c&&null!=e.return&&(a=e.return(),Object(a)!==a))return}finally{if(f)throw i}}return u}}(r,t)||wa(r,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ma(r){return function(r){if(Array.isArray(r))return oa(r)}(r)||function(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||wa(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ga(r){var t=function(r,t){if("object"!=typeof r||!r)return r;var e=r[Symbol.toPrimitive];if(void 0!==e){var n=e.call(r,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(r,"string");return"symbol"==typeof t?t:t+""}function ba(r){return ba="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ba(r)}function wa(r,t){if(r){if("string"==typeof r)return oa(r,t);var e={}.toString.call(r).slice(8,-1);return"Object"===e&&r.constructor&&(e=r.constructor.name),"Map"===e||"Set"===e?Array.from(r):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?oa(r,t):void 0}}!function(){if(ta)return ia;ta=1;var r=y(),t=Ut().EXISTS,e=cr(),n=Eo(),i=Function.prototype,o=e(i.toString),a=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,u=e(a.exec);r&&!t&&n(i,"name",{configurable:!0,get:function(){try{return u(a,o(this))[1]}catch(r){return""}}})}(),function(r){var t={instanceId:null,env:{},tier:null,status:"uninitialized",error:null,source:{kind:null,blob:null,file:null,fileName:"",transcript:"",interimTranscript:""},calibration:{phase:null,message:"",volumePercent:0,complete:!1,gain:1},recorder:{duration:0,amplitude:0,isPlaying:!1,isPaused:!1},submission:{progress:0,isQueued:!1}};function e(r){var t={};for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e]);return t}function n(r,t){var n=e(r);for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n}function i(r){var i=n(t,r||{}),o=[];return{getState:function(){return i},dispatch:function(r){i=function(r,i){if(!i||!i.type)return r;switch(!r.instanceId&&i.payload&&i.payload.instanceId&&(r=n(r,{instanceId:i.payload.instanceId})),i.type){case"starmus/tier-ready":return r.tier?r:n(r,{tier:i.payload&&i.payload.tier?i.payload.tier:r.tier});case"starmus/init":return n(r,n(i.payload||{},{status:"idle",error:null}));case"starmus/ui/step-continue":return n(r,{status:"ready_to_record",error:null});case"starmus/calibration-start":return n(r,{status:"calibrating"});case"starmus/calibration-update":return n(r,{calibration:n(r.calibration,{message:i.message,volumePercent:i.volumePercent})});case"starmus/calibration-complete":return n(r,{status:"ready",calibration:n(r.calibration,n(i.calibration||{},{complete:!0}))});case"starmus/mic-start":return n(r,{status:"recording",error:null,recorder:n(r.recorder,{duration:0,amplitude:0,isPaused:!1})});case"starmus/mic-pause":return n(r,{status:"paused",recorder:n(r.recorder,{isPaused:!0})});case"starmus/mic-resume":return n(r,{status:"recording",recorder:n(r.recorder,{isPaused:!1})});case"starmus/mic-stop":return n(r,{status:"processing"});case"starmus/recorder-tick":return n(r,{recorder:n(r.recorder,{duration:i.duration,amplitude:i.amplitude})});case"starmus/recording-available":return n(r,{status:"ready_to_submit",source:n(r.source,{kind:"blob",blob:i.payload.blob,fileName:i.payload.fileName})});case"starmus/recorder-playback-state":return n(r,{recorder:n(r.recorder,{isPlaying:i.isPlaying})});case"starmus/transcript-update":return n(r,{source:n(r.source,{transcript:i.transcript})});case"starmus/transcript-interim":return n(r,{source:n(r.source,{interimTranscript:i.interim})});case"starmus/env-update":return n(r,{env:n(r.env,i.payload||{}),tier:i.tier||r.tier});case"starmus/file-attached":return n(r,{status:"ready_to_submit",source:{kind:"file",file:i.file,fileName:i.file.name}});case"starmus/submit-start":return n(r,{status:"submitting",error:null});case"starmus/submit-progress":return n(r,{submission:n(r.submission,{progress:i.progress})});case"starmus/submit-complete":return n(r,{status:"complete",submission:{progress:1,isQueued:!1}});case"starmus/submit-queued":return n(r,{status:"complete",submission:{progress:0,isQueued:!0}});case"starmus/error":return n(r,{error:i.error||i.payload});case"starmus/reset":return n(e(t),{instanceId:r.instanceId,env:r.env,tier:r.tier,status:"idle",source:{kind:null,blob:null,file:null,fileName:"",transcript:"",interimTranscript:""}});default:return r}}(i,r);for(var a=0;a<o.length;a++)try{o[a](i)}catch(r){console.error(r)}},subscribe:function(r){return-1===o.indexOf(r)&&o.push(r),function(){var t=o.indexOf(r);-1!==t&&o.splice(t,1)}}}}"undefined"!=typeof module&&module.exports?module.exports={createStore:i}:(r.StarmusStore=r.StarmusStore||{},r.StarmusStore.createStore=i)}("undefined"!=typeof window?window:globalThis);var Sa,Aa={};!function(){if(Sa)return Aa;Sa=1;var r=Ne(),t=p(),e=Xn(),n=yr(),i=et(),o=ve(),a=mi(),u=ei(),c=bi(),f=ni(),s=ot(),l=br(),d=s("isConcatSpreadable"),v=l>=51||!t(function(){var r=[];return r[d]=!1,r.concat()[0]!==r}),y=function(r){if(!n(r))return!1;var t=r[d];return void 0!==t?!!t:e(r)};r({target:"Array",proto:!0,arity:1,forced:!v||!f("concat")},{concat:function(r){var t,e,n,f,s,l=i(this),d=c(l,0),v=0;for(t=-1,n=arguments.length;t<n;t++)if(y(s=-1===t?l:arguments[t]))for(f=o(s),a(v+f),e=0;e<f;e++,v++)e in s&&u(d,v,s[e]);else a(v+1),u(d,v++,s);return d.length=v,d}})}();var Ta,Oa={};!function(){if(Ta)return Oa;Ta=1;var r=Ne(),t=cr(),e=sr(),n=vr(),i=Le(),o=t([].join);r({target:"Array",proto:!0,forced:e!==Object||!i("join",",")},{join:function(r){return o(n(this),void 0===r?",":r)}})}();var Ea,xa,Ra,ka,Ia,Pa,Ca,ja={};function Ma(){if(xa)return Ea;xa=1;var r=Or(),t=et(),e=sr(),n=ve(),i=TypeError,o="Reduce of empty array with no initial value",a=function(a){return function(u,c,f,s){var l=t(u),d=e(l),v=n(l);if(r(c),0===v&&f<2)throw new i(o);var p=a?v-1:0,y=a?-1:1;if(f<2)for(;;){if(p in d){s=d[p],p+=y;break}if(p+=y,a?p<0:v<=p)throw new i(o)}for(;a?p>=0:v>p;p+=y)p in d&&(s=c(s,d[p],p,l));return s}};return Ea={left:a(!1),right:a(!0)}}function _a(){if(ka)return Ra;ka=1;var r=i(),t=gr(),e=fr(),n=function(r){return t.slice(0,r.length)===r};return Ra=n("Bun/")?"BUN":n("Cloudflare-Workers")?"CLOUDFLARE":n("Deno/")?"DENO":n("Node.js/")?"NODE":r.Bun&&"string"==typeof Bun.version?"BUN":r.Deno&&"object"==typeof Deno.version?"DENO":"process"===e(r.process)?"NODE":r.window&&r.document?"BROWSER":"REST"}function Da(){if(Pa)return Ia;Pa=1;var r=_a();return Ia="NODE"===r}!function(){if(Ca)return ja;Ca=1;var r=Ne(),t=Ma().left,e=Le(),n=br();r({target:"Array",proto:!0,forced:!Da()&&n>79&&n<83||!e("reduce")},{reduce:function(r){var e=arguments.length;return t(this,r,e,e>1?arguments[1]:void 0)}})}();var Na,Fa,La,Ua={};!function(){if(La)return Ua;La=1;var r=Ne(),t=function(){if(Fa)return Na;Fa=1;var r=y(),t=p(),e=cr(),n=Rn(),i=An(),o=vr(),a=e(ar().f),u=e([].push),c=r&&t(function(){var r=Object.create(null);return r[2]=2,!a(r,2)}),f=function(t){return function(e){for(var f,s=o(e),l=i(s),d=c&&null===n(s),v=l.length,p=0,y=[];v>p;)f=l[p++],r&&!(d?f in s:a(s,f))||u(y,t?[f,s[f]]:s[f]);return y}};return Na={entries:f(!0),values:f(!1)}}().entries;r({target:"Object",stat:!0},{entries:function(r){return t(r)}})}();var Ba,qa={};!function(){if(Ba)return qa;Ba=1;var r=Ne(),t=et(),e=An();r({target:"Object",stat:!0,forced:p()(function(){e(1)})},{keys:function(r){return e(t(r))}})}();var za,Wa,Va,Ga,Ha,$a,Ya,Ja,Ka,Qa,Xa,Za,ru,tu,eu,nu,iu,ou,au,uu,cu,fu,su,lu,du,vu,pu,yu,hu,mu,gu,bu,wu={};function Su(){if(Wa)return za;Wa=1;var r=i();return za=r}function Au(){if(Ga)return Va;Ga=1;var r=ti(),t=Tr(),e=TypeError;return Va=function(n){if(r(n))return n;throw new e(t(n)+" is not a constructor")}}function Tu(){if($a)return Ha;$a=1;var r=wt(),t=Au(),e=lr(),n=ot()("species");return Ha=function(i,o){var a,u=r(i).constructor;return void 0===u||e(a=r(u)[n])?o:t(a)}}function Ou(){if(Ja)return Ya;Ja=1;var r=h(),t=Function.prototype,e=t.apply,n=t.call;return Ya="object"==typeof Reflect&&Reflect.apply||(r?n.bind(e):function(){return n.apply(e,arguments)}),Ya}function Eu(){if(Qa)return Ka;Qa=1;var r=TypeError;return Ka=function(t,e){if(t<e)throw new r("Not enough arguments");return t}}function xu(){if(Za)return Xa;Za=1;var r=gr();return Xa=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)}function Ru(){if(tu)return ru;tu=1;var r,t,e,n,o=i(),a=Ou(),u=yo(),c=pr(),f=nt(),s=p(),l=Tn(),d=ii(),v=ct(),y=Eu(),h=xu(),m=Da(),g=o.setImmediate,b=o.clearImmediate,w=o.process,S=o.Dispatch,A=o.Function,T=o.MessageChannel,O=o.String,E=0,x={},R="onreadystatechange";s(function(){r=o.location});var k=function(r){if(f(x,r)){var t=x[r];delete x[r],t()}},I=function(r){return function(){k(r)}},P=function(r){k(r.data)},C=function(t){o.postMessage(O(t),r.protocol+"//"+r.host)};return g&&b||(g=function(r){y(arguments.length,1);var e=c(r)?r:A(r),n=d(arguments,1);return x[++E]=function(){a(e,void 0,n)},t(E),E},b=function(r){delete x[r]},m?t=function(r){w.nextTick(I(r))}:S&&S.now?t=function(r){S.now(I(r))}:T&&!h?(n=(e=new T).port2,e.port1.onmessage=P,t=u(n.postMessage,n)):o.addEventListener&&c(o.postMessage)&&!o.importScripts&&r&&"file:"!==r.protocol&&!s(C)?(t=C,o.addEventListener("message",P,!1)):t=R in v("script")?function(r){l.appendChild(v("script"))[R]=function(){l.removeChild(this),k(r)}}:function(r){setTimeout(I(r),0)}),ru={set:g,clear:b}}function ku(){if(nu)return eu;nu=1;var r=i(),t=y(),e=Object.getOwnPropertyDescriptor;return eu=function(n){if(!t)return r[n];var i=e(r,n);return i&&i.value}}function Iu(){if(ou)return iu;ou=1;var r=function(){this.head=null,this.tail=null};return r.prototype={add:function(r){var t={item:r,next:null},e=this.tail;e?e.next=t:this.head=t,this.tail=t},get:function(){var r=this.head;if(r)return null===(this.head=r.next)&&(this.tail=null),r.item}},iu=r}function Pu(){if(lu)return su;lu=1;var r,t,e,n,o,a=i(),u=ku(),c=yo(),f=Ru().set,s=Iu(),l=xu(),d=function(){if(uu)return au;uu=1;var r=gr();return au=/ipad|iphone|ipod/i.test(r)&&"undefined"!=typeof Pebble}(),v=function(){if(fu)return cu;fu=1;var r=gr();return cu=/web0s(?!.*chrome)/i.test(r)}(),p=Da(),y=a.MutationObserver||a.WebKitMutationObserver,h=a.document,m=a.process,g=a.Promise,b=u("queueMicrotask");if(!b){var w=new s,S=function(){var t,e;for(p&&(t=m.domain)&&t.exit();e=w.get();)try{e()}catch(t){throw w.head&&r(),t}t&&t.enter()};l||p||v||!y||!h?!d&&g&&g.resolve?((n=g.resolve(void 0)).constructor=g,o=c(n.then,n),r=function(){o(S)}):p?r=function(){m.nextTick(S)}:(f=c(f,a),r=function(){f(S)}):(t=!0,e=h.createTextNode(""),new y(S).observe(e,{characterData:!0}),r=function(){e.data=t=!t}),b=function(t){w.head||r(),w.add(t)}}return su=b}function Cu(){return vu||(vu=1,du=function(r,t){try{1===arguments.length?console.error(r):console.error(r,t)}catch(r){}}),du}function ju(){return yu?pu:(yu=1,pu=function(r){try{return{error:!1,value:r()}}catch(r){return{error:!0,value:r}}})}function Mu(){if(mu)return hu;mu=1;var r=i();return hu=r.Promise}function _u(){if(bu)return gu;bu=1;var r=i(),t=Mu(),e=pr(),n=De(),o=Bt(),a=ot(),u=_a(),c=Xr(),f=br(),s=t&&t.prototype,l=a("species"),d=!1,v=e(r.PromiseRejectionEvent),p=n("Promise",function(){var r=o(t),e=r!==String(t);if(!e&&66===f)return!0;if(c&&(!s.catch||!s.finally))return!0;if(!f||f<51||!/native code/.test(r)){var n=new t(function(r){r(1)}),i=function(r){r(function(){},function(){})};if((n.constructor={})[l]=i,!(d=n.then(function(){})instanceof i))return!0}return!(e||"BROWSER"!==u&&"DENO"!==u||v)});return gu={CONSTRUCTOR:p,REJECTION_EVENT:v,SUBCLASSING:d}}var Du,Nu,Fu={};function Lu(){if(Du)return Fu;Du=1;var r=Or(),t=TypeError,e=function(e){var n,i;this.promise=new e(function(r,e){if(void 0!==n||void 0!==i)throw new t("Bad Promise constructor");n=r,i=e}),this.resolve=r(n),this.reject=r(i)};return Fu.f=function(r){return new e(r)},Fu}var Uu,Bu,qu,zu={};function Wu(){if(Bu)return Uu;Bu=1;var r=Mu(),t=Ao(),e=_u().CONSTRUCTOR;return Uu=e||!t(function(t){r.all(t).then(void 0,function(){})})}var Vu,Gu={};var Hu,$u={};var Yu,Ju={};var Ku,Qu,Xu,Zu,rc={};function tc(){if(Qu)return Ku;Qu=1;var r=wt(),t=yr(),e=Lu();return Ku=function(n,i){if(r(n),t(i)&&i.constructor===n)return i;var o=e.f(n);return(0,o.resolve)(i),o.promise}}Zu||(Zu=1,function(){if(Nu)return wu;Nu=1;var r,t,e,n,o=Ne(),a=Xr(),u=Da(),c=i(),f=Su(),s=m(),l=Gt(),d=jn(),v=In(),p=Ro(),y=Or(),h=pr(),g=yr(),b=So(),w=Tu(),S=Ru().set,A=Pu(),T=Cu(),O=ju(),E=Iu(),x=Wt(),R=Mu(),k=_u(),I=Lu(),P="Promise",C=k.CONSTRUCTOR,j=k.REJECTION_EVENT,M=k.SUBCLASSING,_=x.getterFor(P),D=x.set,N=R&&R.prototype,F=R,L=N,U=c.TypeError,B=c.document,q=c.process,z=I.f,W=z,V=!!(B&&B.createEvent&&c.dispatchEvent),G="unhandledrejection",H=function(r){var t;return!(!g(r)||!h(t=r.then))&&t},$=function(r,t){var e,n,i,o=t.value,a=1===t.state,u=a?r.ok:r.fail,c=r.resolve,f=r.reject,l=r.domain;try{u?(a||(2===t.rejection&&X(t),t.rejection=1),!0===u?e=o:(l&&l.enter(),e=u(o),l&&(l.exit(),i=!0)),e===r.promise?f(new U("Promise-chain cycle")):(n=H(e))?s(n,e,c,f):c(e)):f(o)}catch(r){l&&!i&&l.exit(),f(r)}},Y=function(r,t){r.notified||(r.notified=!0,A(function(){for(var e,n=r.reactions;e=n.get();)$(e,r);r.notified=!1,t&&!r.rejection&&K(r)}))},J=function(r,t,e){var n,i;V?((n=B.createEvent("Event")).promise=t,n.reason=e,n.initEvent(r,!1,!0),c.dispatchEvent(n)):n={promise:t,reason:e},!j&&(i=c["on"+r])?i(n):r===G&&T("Unhandled promise rejection",e)},K=function(r){s(S,c,function(){var t,e=r.facade,n=r.value;if(Q(r)&&(t=O(function(){u?q.emit("unhandledRejection",n,e):J(G,e,n)}),r.rejection=u||Q(r)?2:1,t.error))throw t.value})},Q=function(r){return 1!==r.rejection&&!r.parent},X=function(r){s(S,c,function(){var t=r.facade;u?q.emit("rejectionHandled",t):J("rejectionhandled",t,r.value)})},Z=function(r,t,e){return function(n){r(t,n,e)}},rr=function(r,t,e){r.done||(r.done=!0,e&&(r=e),r.value=t,r.state=2,Y(r,!0))},tr=function(r,t,e){if(!r.done){r.done=!0,e&&(r=e);try{if(r.facade===t)throw new U("Promise can't be resolved itself");var n=H(t);n?A(function(){var e={done:!1};try{s(n,t,Z(tr,e,r),Z(rr,e,r))}catch(t){rr(e,t,r)}}):(r.value=t,r.state=1,Y(r,!1))}catch(t){rr({done:!1},t,r)}}};if(C&&(L=(F=function(t){b(this,L),y(t),s(r,this);var e=_(this);try{t(Z(tr,e),Z(rr,e))}catch(r){rr(e,r)}}).prototype,(r=function(r){D(this,{type:P,done:!1,notified:!1,parent:!1,reactions:new E,rejection:!1,state:0,value:null})}).prototype=l(L,"then",function(r,t){var e=_(this),n=z(w(this,F));return e.parent=!0,n.ok=!h(r)||r,n.fail=h(t)&&t,n.domain=u?q.domain:void 0,0===e.state?e.reactions.add(n):A(function(){$(n,e)}),n.promise}),t=function(){var t=new r,e=_(t);this.promise=t,this.resolve=Z(tr,e),this.reject=Z(rr,e)},I.f=z=function(r){return r===F||r===e?new t(r):W(r)},!a&&h(R)&&N!==Object.prototype)){n=N.then,M||l(N,"then",function(r,t){var e=this;return new F(function(r,t){s(n,e,r,t)}).then(r,t)},{unsafe:!0});try{delete N.constructor}catch(r){}d&&d(N,L)}o({global:!0,constructor:!0,wrap:!0,forced:C},{Promise:F}),e=f.Promise,v(F,P,!1,!0),p(P)}(),function(){if(qu)return zu;qu=1;var r=Ne(),t=m(),e=Or(),n=Lu(),i=ju(),o=wo();r({target:"Promise",stat:!0,forced:Wu()},{all:function(r){var a=this,u=n.f(a),c=u.resolve,f=u.reject,s=i(function(){var n=e(a.resolve),i=[],u=0,s=1;o(r,function(r){var e=u++,o=!1;s++,t(n,a,r).then(function(r){o||(o=!0,i[e]=r,--s||c(i))},f)}),--s||c(i)});return s.error&&f(s.value),u.promise}})}(),function(){if(Vu)return Gu;Vu=1;var r=Ne(),t=Xr(),e=_u().CONSTRUCTOR,n=Mu(),i=hr(),o=pr(),a=Gt(),u=n&&n.prototype;if(r({target:"Promise",proto:!0,forced:e,real:!0},{catch:function(r){return this.then(void 0,r)}}),!t&&o(n)){var c=i("Promise").prototype.catch;u.catch!==c&&a(u,"catch",c,{unsafe:!0})}}(),function(){if(Hu)return $u;Hu=1;var r=Ne(),t=m(),e=Or(),n=Lu(),i=ju(),o=wo();r({target:"Promise",stat:!0,forced:Wu()},{race:function(r){var a=this,u=n.f(a),c=u.reject,f=i(function(){var n=e(a.resolve);o(r,function(r){t(n,a,r).then(u.resolve,c)})});return f.error&&c(f.value),u.promise}})}(),function(){if(Yu)return Ju;Yu=1;var r=Ne(),t=Lu();r({target:"Promise",stat:!0,forced:_u().CONSTRUCTOR},{reject:function(r){var e=t.f(this);return(0,e.reject)(r),e.promise}})}(),function(){if(Xu)return rc;Xu=1;var r=Ne(),t=hr(),e=Xr(),n=Mu(),i=_u().CONSTRUCTOR,o=tc(),a=t("Promise"),u=e&&!i;r({target:"Promise",stat:!0,forced:e||i},{resolve:function(r){return o(u&&this===a?n:this,r)}})}());var ec,nc={};!function(){if(ec)return nc;ec=1;var r=Ne(),t=Xr(),e=Mu(),n=p(),i=hr(),o=pr(),a=Tu(),u=tc(),c=Gt(),f=e&&e.prototype;if(r({target:"Promise",proto:!0,real:!0,forced:!!e&&n(function(){f.finally.call({then:function(){}},function(){})})},{finally:function(r){var t=a(this,i("Promise")),e=o(r);return this.then(e?function(e){return u(t,r()).then(function(){return e})}:r,e?function(e){return u(t,r()).then(function(){throw e})}:r)}}),!t&&o(e)){var s=i("Promise").prototype.finally;f.finally!==s&&c(f,"finally",s,{unsafe:!0})}}();var ic,oc,ac,uc,cc,fc,sc,lc,dc,vc,pc,yc={};function hc(){if(oc)return ic;oc=1;var r=wt();return ic=function(){var t=r(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}}function mc(){if(vc)return dc;vc=1;var r,t,e=m(),n=cr(),o=Do(),a=hc(),u=function(){if(uc)return ac;uc=1;var r=p(),t=i().RegExp,e=r(function(){var r=t("a","y");return r.lastIndex=2,null!==r.exec("abcd")}),n=e||r(function(){return!t("a","y").sticky}),o=e||r(function(){var r=t("^r","gy");return r.lastIndex=2,null!==r.exec("str")});return ac={BROKEN_CARET:o,MISSED_STICKY:n,UNSUPPORTED_Y:e}}(),c=tt(),f=On(),s=Wt().get,l=function(){if(fc)return cc;fc=1;var r=p(),t=i().RegExp;return cc=r(function(){var r=t(".","s");return!(r.dotAll&&r.test("\n")&&"s"===r.flags)})}(),d=function(){if(lc)return sc;lc=1;var r=p(),t=i().RegExp;return sc=r(function(){var r=t("(?<a>b)","g");return"b"!==r.exec("b").groups.a||"bc"!=="b".replace(r,"$<a>c")})}(),v=c("native-string-replace",String.prototype.replace),y=RegExp.prototype.exec,h=y,g=n("".charAt),b=n("".indexOf),w=n("".replace),S=n("".slice),A=(t=/b*/g,e(y,r=/a/,"a"),e(y,t,"a"),0!==r.lastIndex||0!==t.lastIndex),T=u.BROKEN_CARET,O=void 0!==/()??/.exec("")[1];return(A||O||T||l||d)&&(h=function(r){var t,n,i,u,c,l,d,p=this,m=s(p),E=o(r),x=m.raw;if(x)return x.lastIndex=p.lastIndex,t=e(h,x,E),p.lastIndex=x.lastIndex,t;var R=m.groups,k=T&&p.sticky,I=e(a,p),P=p.source,C=0,j=E;if(k&&(I=w(I,"y",""),-1===b(I,"g")&&(I+="g"),j=S(E,p.lastIndex),p.lastIndex>0&&(!p.multiline||p.multiline&&"\n"!==g(E,p.lastIndex-1))&&(P="(?: "+P+")",j=" "+j,C++),n=new RegExp("^(?:"+P+")",I)),O&&(n=new RegExp("^"+P+"$(?!\\s)",I)),A&&(i=p.lastIndex),u=e(y,k?n:p,j),k?u?(u.input=S(u.input,C),u[0]=S(u[0],C),u.index=p.lastIndex,p.lastIndex+=u[0].length):p.lastIndex=0:A&&u&&(p.lastIndex=p.global?u.index+u[0].length:i),O&&u&&u.length>1&&e(v,u[0],n,function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(u[c]=void 0)}),u&&R)for(u.groups=l=f(null),c=0;c<R.length;c++)l[(d=R[c])[0]]=u[d[1]];return u}),dc=h}function gc(){if(pc)return yc;pc=1;var r=Ne(),t=mc();return r({target:"RegExp",proto:!0,forced:/./.exec!==t},{exec:t}),yc}gc();var bc,wc,Sc,Ac,Tc,Oc,Ec,xc,Rc,kc,Ic,Pc,Cc,jc={};function Mc(){if(Ac)return Sc;Ac=1;var r=No().charAt;return Sc=function(t,e,n){return e+(n?r(t,e).length:1)}}function _c(){if(Oc)return Tc;Oc=1;var r=cr(),t=et(),e=Math.floor,n=r("".charAt),i=r("".replace),o=r("".slice),a=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,u=/\$([$&'`]|\d{1,2})/g;return Tc=function(r,c,f,s,l,d){var v=f+r.length,p=s.length,y=u;return void 0!==l&&(l=t(l),y=a),i(d,y,function(t,i){var a;switch(n(i,0)){case"$":return"$";case"&":return r;case"`":return o(c,0,f);case"'":return o(c,v);case"<":a=l[o(i,1,-1)];break;default:var u=+i;if(0===u)return t;if(u>p){var d=e(u/10);return 0===d?t:d<=p?void 0===s[d-1]?n(i,1):s[d-1]+n(i,1):t}a=s[u-1]}return void 0===a?"":a})}}function Dc(){if(kc)return Rc;kc=1;var r=m(),t=nt(),e=mr(),n=function(){if(xc)return Ec;xc=1;var r=i(),t=p(),e=r.RegExp,n=!t(function(){var r=!0;try{e(".","d")}catch(t){r=!1}var t={},n="",i=r?"dgimsy":"gimsy",o=function(r,e){Object.defineProperty(t,r,{get:function(){return n+=e,!0}})},a={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var u in r&&(a.hasIndices="d"),a)o(u,a[u]);return Object.getOwnPropertyDescriptor(e.prototype,"flags").get.call(t)!==i||n!==i});return Ec={correct:n}}(),o=hc(),a=RegExp.prototype;return Rc=n.correct?function(r){return r.flags}:function(i){return n.correct||!e(a,i)||t(i,"flags")?i.flags:r(o,i)}}!function(){if(Cc)return jc;Cc=1;var r=Ou(),t=m(),e=cr(),n=function(){if(wc)return bc;wc=1,gc();var r=m(),t=Gt(),e=mc(),n=p(),i=ot(),o=At(),a=i("species"),u=RegExp.prototype;return bc=function(c,f,s,l){var d=i(c),v=!n(function(){var r={};return r[d]=function(){return 7},7!==""[c](r)}),p=v&&!n(function(){var r=!1,t=/a/;return"split"===c&&((t={}).constructor={},t.constructor[a]=function(){return t},t.flags="",t[d]=/./[d]),t.exec=function(){return r=!0,null},t[d](""),!r});if(!v||!p||s){var y=/./[d],h=f(d,""[c],function(t,n,i,o,a){var c=n.exec;return c===e||c===u.exec?v&&!a?{done:!0,value:r(y,n,i,o)}:{done:!0,value:r(t,i,n,o)}:{done:!1}});t(String.prototype,c,h[0]),t(u,d,h[1])}l&&o(u[d],"sham",!0)}}(),i=p(),o=wt(),a=pr(),u=yr(),c=se(),f=de(),s=Do(),l=dr(),d=Mc(),v=Er(),y=_c(),h=Dc(),g=function(){if(Pc)return Ic;Pc=1;var r=m(),t=wt(),e=pr(),n=fr(),i=mc(),o=TypeError;return Ic=function(a,u){var c=a.exec;if(e(c)){var f=r(c,a,u);return null!==f&&t(f),f}if("RegExp"===n(a))return r(i,a,u);throw new o("RegExp#exec called on incompatible receiver")}}(),b=ot()("replace"),w=Math.max,S=Math.min,A=e([].concat),T=e([].push),O=e("".indexOf),E=e("".slice),x=function(r){return void 0===r?r:String(r)},R="$0"==="a".replace(/./,"$0"),k=!!/./[b]&&""===/./[b]("a","$0");n("replace",function(e,n,i){var p=k?"$":"$0";return[function(r,e){var i=l(this),o=u(r)?v(r,b):void 0;return o?t(o,r,i,e):t(n,s(i),r,e)},function(t,e){var u=o(this),l=s(t);if("string"==typeof e&&-1===O(e,p)&&-1===O(e,"$<")){var v=i(n,u,l,e);if(v.done)return v.value}var m=a(e);m||(e=s(e));var b,R=s(h(u)),k=-1!==O(R,"g");k&&(b=-1!==O(R,"u"),u.lastIndex=0);for(var I,P=[];null!==(I=g(u,l))&&(T(P,I),k);){""===s(I[0])&&(u.lastIndex=d(l,f(u.lastIndex),b))}for(var C="",j=0,M=0;M<P.length;M++){for(var _,D=s((I=P[M])[0]),N=w(S(c(I.index),l.length),0),F=[],L=1;L<I.length;L++)T(F,x(I[L]));var U=I.groups;if(m){var B=A([D],F,N,l);void 0!==U&&T(B,U),_=s(r(e,void 0,B))}else _=y(D,l,N,F,U,e);N>=j&&(C+=E(l,j,N)+_,j=N+D.length)}return C+E(l,j)}]},!!i(function(){var r=/./;return r.exec=function(){var r=[];return r.groups={a:"7"},r},"7"!=="".replace(r,"$<a>")})||!R||k)}();var Nc=window.StarmusHooks.debugLog,Fc={chunkSize:1048576,retryDelays:[0,3e3,5e3,1e4,2e4,6e4],maxChunkRetries:3},Lc=function(){return window.starmusConfig||{}};function Uc(r){return(r=(r="string"==typeof r?r:String(r)).replace(/[\r\n\t]/g," ")).length>500?r.slice(0,497)+"...":r}function Bc(r){return r&&"object"===ba(r)?r:{}}function qc(r,t,e,n,i,o){return zc.apply(this,arguments)}function zc(){return(zc=ua(va().m(function r(t,e,n,i,o,a){var u,c,f,s,l,d,v,p,y,h,m,g,b;return va().w(function(r){for(;;)switch(r.p=r.n){case 0:if(l=Lc(),d=(null===(u=window.tus)||void 0===u?void 0:u.Upload)&&(null===(c=l.endpoints)||void 0===c?void 0:c.tusUpload),v=null===(f=l.endpoints)||void 0===f?void 0:f.chunkedUpload,p=null===(s=l.endpoints)||void 0===s?void 0:s.directUpload,!d){r.n=4;break}return r.p=1,r.n=2,Wc(t,e,n,i,o,a);case 2:return y=r.v,r.a(2,{method:"tus",url:y});case 3:r.p=3,g=r.v,Nc("[Priority] TUS failed:",g.message);case 4:if(!v){r.n=8;break}return r.p=5,r.n=6,Vc(t,e,n,i,o,a);case 6:return h=r.v,r.a(2,{method:"chunked_rest",result:h});case 7:r.p=7,b=r.v,Nc("[Priority] Chunked REST failed:",b.message);case 8:if(!p){r.n=10;break}return r.n=9,Gc(t,e,n,i,o,a);case 9:return m=r.v,r.a(2,{method:"fallback_post",result:m});case 10:throw new Error("All upload methods failed or missing endpoints");case 11:return r.a(2)}},r,null,[[5,7],[1,3]])}))).apply(this,arguments)}function Wc(r,t,e,n,i,o){var a,u;if(null===(a=window.tus)||void 0===a||!a.Upload)throw new Error("TUS library not present");var c=window.starmusTus||{},f=c.endpoint||(null===(u=Lc().endpoints)||void 0===u?void 0:u.tusUpload);if(!f)throw new Error("TUS endpoint missing");var s=function(r){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?da(Object(e),!0).forEach(function(t){la(r,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):da(Object(e)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))})}return r}({filename:Uc(t),filetype:r.type||"audio/webm"},Object.entries(Bc(e)).reduce(function(r,t){var e=ha(t,2),n=e[0],i=e[1];return r[n]=Uc(i),r},{}));return n&&(s.starmus_meta=Uc(JSON.stringify(n))),new Promise(function(t,e){var n,a={endpoint:f,chunkSize:c.chunkSize||Fc.chunkSize,retryDelays:c.retryDelays||Fc.retryDelays,metadata:s,fingerprint:function(r){return["starmus",i,r.size,r.lastModified||""].join("-")},onProgress:function(r,t){"function"==typeof o&&o(r,t)},onError:e,onSuccess:function(){return ua(va().m(function e(){var i,o,u,f;return va().w(function(e){for(;;)switch(e.p=e.n){case 0:if(Nc("[TUS] Success:",n.url),u=(null===(i=window.tus)||void 0===i||null===(i=i.defaultOptions)||void 0===i?void 0:i.removeFingerprint)||(null===(o=window.tus)||void 0===o||null===(o=o.Upload)||void 0===o||null===(o=o.prototype)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.removeFingerprint),!c.removeFingerprintOnSuccess||!u){e.n=5;break}return e.p=1,e.n=2,window.tus.defaultOptions.fingerprint(r,a);case 2:return f=e.v,e.n=3,u(f);case 3:e.n=5;break;case 4:e.p=4,e.v;case 5:t(n.url);case 6:return e.a(2)}},e,null,[[1,4]])}))()}};(n=new window.tus.Upload(r,a)).findPreviousUploads().then(function(r){return r.length&&n.resumeFromPreviousUpload(r[0])}).finally(function(){return n.start()})})}function Vc(r,t,e,n,i,o){var a,u,c=Lc(),f=null===(a=c.endpoints)||void 0===a?void 0:a.chunkedUpload,s=c.nonce||"";if(!f)throw new Error("Chunked REST endpoint missing");if(!s)throw new Error("Nonce missing");var l,d,v,p=Bc(e),y=c.chunkSize||Fc.chunkSize,h=Math.ceil(r.size/y),m=window.localStorage||window.sessionStorage,g=(l=i,d=t,v=r.size,"starmus_chunked_".concat(l,"_").concat(d,"_").concat(v)),b=m.getItem(g)||null,w=null!==(u=c.maxChunkRetries)&&void 0!==u?u:Fc.maxChunkRetries;return new Promise(function(){var e=ua(va().m(function e(i,a){var u,c,l,d,v,S,A;return va().w(function(e){for(;;)switch(e.p=e.n){case 0:S=function(e,i,a){return new Promise(function(u,c){var l=new FormData;l.append("audio_chunk",i,"".concat(t,".part").concat(e)),l.append("chunk_index",e),l.append("total_chunks",h),b?l.append("upload_id",b):l.append("create_upload_id","1"),Object.entries(p).forEach(function(r){var t=ha(r,2),e=t[0],n=t[1];return l.append(e,n)}),n&&l.append("_starmus_meta",JSON.stringify(n));var d=new XMLHttpRequest;d.open("POST",f,!0),d.setRequestHeader("X-WP-Nonce",s),d.upload.onprogress=function(t){return"function"==typeof o&&t.lengthComputable&&o(a+t.loaded,r.size)},d.onload=function(){if(d.status<200||d.status>=300)return c(new Error("Chunk ".concat(e," failed: ").concat(d.status)));try{var r=JSON.parse(d.responseText);!b&&r.upload_id&&(b=r.upload_id,m.setItem(g,b)),u(r)}catch(r){c(new Error("Invalid JSON response"))}},d.onerror=function(){return c(new Error("Network error"))},d.send(l)})},e.p=1,u=va().m(function t(){var e,n,i,o,a,u;return va().w(function(t){for(;;)switch(t.p=t.n){case 0:e=0,n=!1,i=c*y,o=Math.min(i+y,r.size),a=r.slice(i,o);case 1:if(n||!(e<w)){t.n=7;break}return e++,t.p=2,t.n=3,S(c,a,i);case 3:n=!0,t.n=6;break;case 4:if(t.p=4,u=t.v,e!==w){t.n=5;break}throw u;case 5:return t.n=6,new Promise(function(r){return setTimeout(r,300*e*e)});case 6:t.n=1;break;case 7:return t.a(2)}},t,null,[[2,4]])}),c=0;case 2:if(!(c<h)){e.n=4;break}return e.d(ya(u()),3);case 3:c++,e.n=2;break;case 4:return(l=new FormData).append("upload_id",b),l.append("finalize","1"),e.n=5,fetch(f,{method:"POST",headers:{"X-WP-Nonce":s},body:l});case 5:if((d=e.v).ok){e.n=6;break}throw new Error("Finalization failed: ".concat(d.status));case 6:return e.n=7,d.json();case 7:v=e.v,m.removeItem(g),i(v),e.n=9;break;case 8:e.p=8,A=e.v,a(A);case 9:return e.a(2)}},e,null,[[1,8]])}));return function(r,t){return e.apply(this,arguments)}}())}function Gc(r,t,e,n,i,o){var a,u=Lc(),c=null===(a=u.endpoints)||void 0===a?void 0:a.directUpload,f=u.nonce||"";if(!c)throw new Error("Direct upload endpoint missing");var s=Bc(e);return new Promise(function(e,i){var a=new FormData;Object.entries(s).forEach(function(r){var t=ha(r,2),e=t[0],n=t[1];return a.append(e,n)}),a.append("audio_file",r,t),null!=n&&n.transcript&&a.append("_starmus_transcript",n.transcript),null!=n&&n.calibration&&a.append("_starmus_calibration",JSON.stringify(n.calibration)),null!=n&&n.env&&a.append("_starmus_env",JSON.stringify(n.env));var u=new XMLHttpRequest;u.open("POST",c,!0),u.setRequestHeader("X-WP-Nonce",f),u.upload.onprogress=function(r){return"function"==typeof o&&r.lengthComputable&&o(r.loaded,r.total)},u.onload=function(){if(u.status<200||u.status>=300)return i(new Error("Upload failed: ".concat(u.status)));try{e(JSON.parse(u.responseText))}catch(r){i(new Error("Invalid JSON response"))}},u.onerror=function(){return i(new Error("Network error"))},u.send(a)})}var Hc,$c={};!function(){if(Hc)return $c;Hc=1;var r=Ne(),t=pe().includes,e=p(),n=En();r({target:"Array",proto:!0,forced:e(function(){return!Array(1).includes()})},{includes:function(r){return t(this,r,arguments.length>1?arguments[1]:void 0)}}),n("includes")}();var Yc,Jc;Jc||(Jc=1,Yc||(Yc=1,Oo()("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},ko())));var Kc,Qc,Xc,Zc,rf,tf={};function ef(){if(Qc)return Kc;Qc=1;var r=cr();return Kc=r(1.1.valueOf)}function nf(){if(Zc)return Xc;Zc=1;var r=se(),t=Do(),e=dr(),n=RangeError;return Xc=function(i){var o=t(e(this)),a="",u=r(i);if(u<0||u===1/0)throw new n("Wrong number of repetitions");for(;u>0;(u>>>=1)&&(o+=o))1&u&&(a+=o);return a}}!function(){if(rf)return tf;rf=1;var r=Ne(),t=cr(),e=se(),n=ef(),i=nf(),o=p(),a=RangeError,u=String,c=Math.floor,f=t(i),s=t("".slice),l=t(1.1.toFixed),d=function(r,t,e){return 0===t?e:t%2==1?d(r,t-1,e*r):d(r*r,t/2,e)},v=function(r,t,e){for(var n=-1,i=e;++n<6;)i+=t*r[n],r[n]=i%1e7,i=c(i/1e7)},y=function(r,t){for(var e=6,n=0;--e>=0;)n+=r[e],r[e]=c(n/t),n=n%t*1e7},h=function(r){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==r[t]){var n=u(r[t]);e=""===e?n:e+f("0",7-n.length)+n}return e};r({target:"Number",proto:!0,forced:o(function(){return"0.000"!==l(8e-5,3)||"1"!==l(.9,0)||"1.25"!==l(1.255,2)||"1000000000000000128"!==l(0xde0b6b3a7640080,0)})||!o(function(){l({})})},{toFixed:function(r){var t,i,o,c,l=n(this),p=e(r),m=[0,0,0,0,0,0],g="",b="0";if(p<0||p>20)throw new a("Incorrect fraction digits");if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return u(l);if(l<0&&(g="-",l=-l),l>1e-21)if(i=(t=function(r){for(var t=0,e=r;e>=4096;)t+=12,e/=4096;for(;e>=2;)t+=1,e/=2;return t}(l*d(2,69,1))-69)<0?l*d(2,-t,1):l/d(2,t,1),i*=4503599627370496,(t=52-t)>0){for(v(m,0,i),o=p;o>=7;)v(m,1e7,0),o-=7;for(v(m,d(10,o,1),0),o=t-1;o>=23;)y(m,1<<23),o-=23;y(m,1<<o),v(m,1,1),y(m,2),b=h(m)}else v(m,0,i),v(m,1<<-t,0),b=h(m)+f("0",p);return b=p>0?g+((c=b.length)<=p?"0."+f("0",p-c)+b:s(b,0,c-p)+"."+s(b,c-p)):g+b}})}();var of,af={};!function(){if(of)return af;of=1;var r=Ut().PROPER,t=Gt(),e=wt(),n=Do(),i=p(),o=Dc(),a="toString",u=RegExp.prototype,c=u[a],f=i(function(){return"/a/b"!==c.call({source:"a",flags:"b"})}),s=r&&c.name!==a;(f||s)&&t(u,a,function(){var r=e(this);return"/"+n(r.source)+"/"+n(o(r))},{unsafe:!0})}();var uf,cf,ff,sf,lf,df,vf,pf={};function yf(){if(sf)return ff;sf=1;var r=function(){if(cf)return uf;cf=1;var r=yr(),t=fr(),e=ot()("match");return uf=function(n){var i;return r(n)&&(void 0!==(i=n[e])?!!i:"RegExp"===t(n))}}(),t=TypeError;return ff=function(e){if(r(e))throw new t("The method doesn't accept regular expressions");return e}}!function(){if(vf)return pf;vf=1;var r=Ne(),t=cr(),e=yf(),n=dr(),i=Do(),o=function(){if(df)return lf;df=1;var r=ot()("match");return lf=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,"/./"[t](e)}catch(r){}}return!1}}(),a=t("".indexOf);r({target:"String",proto:!0,forced:!o("includes")},{includes:function(r){return!!~a(i(n(this)),i(e(r)),arguments.length>1?arguments[1]:void 0)}})}();var hf={dbName:"StarmusSubmissions",storeName:"pendingSubmissions",dbVersion:1,maxRetries:10,retryDelays:[0,5e3,1e4,3e4,6e4,12e4,3e5,6e5,12e5,18e5],maxBlobSize:41943040},mf=function(){return fa(function r(){ca(this,r),this.db=null,this.isProcessing=!1},[{key:"init",value:(o=ua(va().m(function r(){var t=this;return va().w(function(r){for(;;)switch(r.n){case 0:if(window.indexedDB){r.n=1;break}return console.error("[Offline] IndexedDB not supported â offline queue disabled."),r.a(2);case 1:return r.a(2,new Promise(function(r){var e=indexedDB.open(hf.dbName,hf.dbVersion);e.onerror=function(t){na("[Offline] DB open failed",t),r()},e.onblocked=function(){na("[Offline] DB open blocked â close other tabs")},e.onsuccess=function(e){t.db=e.target.result,t.db.onversionchange=function(){t.db.close(),na("[Offline] DB version change â closed connection")},na("[Offline] IndexedDB ready"),r()},e.onupgradeneeded=function(r){var t=r.target.result;if(!t.objectStoreNames.contains(hf.storeName)){var e=t.createObjectStore(hf.storeName,{keyPath:"id"});e.createIndex("timestamp","timestamp",{unique:!1}),e.createIndex("retryCount","retryCount",{unique:!1}),na("[Offline] Created object store",hf.storeName)}}}))}},r)})),function(){return o.apply(this,arguments)})},{key:"add",value:(i=ua(va().m(function r(t,e,n,i,o){var a,u,c,f=this;return va().w(function(r){for(;;)switch(r.n){case 0:if(this.db){r.n=1;break}throw new Error("IndexedDB not initialized");case 1:if(a="starmus-offline-".concat(Date.now(),"-").concat(Math.random().toString(36).slice(2,10)),u=e.size>hf.maxBlobSize?null:"function"==typeof structuredClone?structuredClone(e):new Blob([e],{type:e.type})){r.n=2;break}throw new Error("Blob too large for offline storage (".concat((e.size/1024/1024).toFixed(2),"MB)"));case 2:return c={id:a,instanceId:t,fileName:n,timestamp:Date.now(),audioBlob:u,formFields:i||{},metadata:o||{},retryCount:0,lastAttempt:null,error:null},r.a(2,new Promise(function(r,t){var e=f.db.transaction([hf.storeName],"readwrite");e.objectStore(hf.storeName).add(c),e.oncomplete=function(){na("[Offline] Queued submission",a),r(a)},e.onerror=function(r){var e=r.target.error;"QuotaExceededError"===(null==e?void 0:e.name)?t(new Error("IndexedDB quota exceeded â cannot queue submission offline.")):t(e)}}))}},r,this)})),function(r,t,e,n,o){return i.apply(this,arguments)})},{key:"getAll",value:(n=ua(va().m(function r(){var t=this;return va().w(function(r){for(;;)switch(r.n){case 0:if(this.db){r.n=1;break}return r.a(2,[]);case 1:return r.a(2,new Promise(function(r,e){var n=t.db.transaction([hf.storeName],"readonly").objectStore(hf.storeName).getAll();n.onsuccess=function(){return r(n.result||[])},n.onerror=function(){return e(n.error)}}))}},r,this)})),function(){return n.apply(this,arguments)})},{key:"remove",value:(e=ua(va().m(function r(t){var e=this;return va().w(function(r){for(;;)switch(r.n){case 0:if(this.db){r.n=1;break}return r.a(2);case 1:return r.a(2,new Promise(function(r,n){var i=e.db.transaction([hf.storeName],"readwrite");i.objectStore(hf.storeName).delete(t),i.oncomplete=function(){na("[Offline] Removed from queue",t),r()},i.onerror=function(r){return n(r.target.error)}}))}},r,this)})),function(r){return e.apply(this,arguments)})},{key:"_updateRetry",value:(t=ua(va().m(function r(t,e,n){var i=this;return va().w(function(r){for(;;)switch(r.n){case 0:if(this.db){r.n=1;break}return r.a(2);case 1:return r.a(2,new Promise(function(r,o){var a=i.db.transaction([hf.storeName],"readwrite"),u=a.objectStore(hf.storeName),c=u.get(t);c.onsuccess=function(){var r=c.result;r&&(r.retryCount=e,r.lastAttempt=Date.now(),r.error=n||null,u.put(r))},a.oncomplete=r,a.onerror=function(){return o(a.error)}}))}},r,this)})),function(r,e,n){return t.apply(this,arguments)})},{key:"processQueue",value:(r=ua(va().m(function r(){var t,e,n,i,o,a,u=this;return va().w(function(r){for(;;)switch(r.p=r.n){case 0:if(!this.isProcessing&&navigator.onLine){r.n=1;break}return r.a(2);case 1:return this.isProcessing=!0,na("[Offline] Processing queue..."),r.p=2,r.n=3,this.getAll();case 3:t=r.v,na("[Offline] Pending submissions:",t.length),e=sa(t),r.p=4,i=va().m(function r(){var t,e,i,o,a,c,f,s,l,d,v;return va().w(function(r){for(;;)switch(r.p=r.n){case 0:if(t=n.value,e=t.id,i=t.audioBlob,o=t.fileName,a=t.formFields,c=t.metadata,f=t.retryCount,s=t.instanceId,!(f>=hf.maxRetries)){r.n=1;break}return na("[Offline] Max retries reached for",e),r.a(2,0);case 1:return r.p=1,na("[Offline] Attempt ".concat(f+1," for"),e),r.n=2,qc({blob:i,fileName:o,formFields:a,metadata:c,instanceId:s,background:!0});case 2:return r.n=3,u.remove(e);case 3:na("[Offline] Upload succeeded:",e),r.n=7;break;case 4:if(r.p=4,v=r.v,l=(null==v?void 0:v.message)||"Unknown upload error",na("[Offline] Upload failed:",e,l),!(l.includes("400")||l.includes("Invalid JSON")||l.includes("QuotaExceeded"))){r.n=5;break}return na("[Offline] Non-retryable error â leaving item in queue"),r.a(2,0);case 5:return r.n=6,u._updateRetry(e,f+1,l);case 6:return d=hf.retryDelays[Math.min(f,hf.retryDelays.length-1)],na("[Offline] Retrying ".concat(e," after ").concat(d,"ms...")),r.n=7,new Promise(function(r){return setTimeout(r,d)});case 7:return r.a(2)}},r,null,[[1,4]])}),e.s();case 5:if((n=e.n()).done){r.n=8;break}return r.d(ya(i()),6);case 6:if(0!==r.v){r.n=7;break}return r.a(3,7);case 7:r.n=5;break;case 8:r.n=10;break;case 9:r.p=9,o=r.v,e.e(o);case 10:return r.p=10,e.f(),r.f(10);case 11:r.n=13;break;case 12:r.p=12,a=r.v,console.error("[Offline] Fatal queue processing error",a);case 13:return r.p=13,this.isProcessing=!1,r.f(13);case 14:return r.a(2)}},r,this,[[4,9,10,11],[2,12,13,14]])})),function(){return r.apply(this,arguments)})},{key:"setupNetworkListeners",value:function(){var r=this;window.addEventListener("online",function(){na("[Offline] Online â resuming queue"),r.processQueue()}),window.addEventListener("offline",function(){na("[Offline] Offline â pausing queue")}),setInterval(function(){navigator.onLine&&r.processQueue().catch(function(r){return na("[Offline] Retry loop error",r)})},6e4)}}]);var r,t,e,n,i,o}();new mf;var gf,bf,wf;function Sf(){if(bf)return gf;bf=1;var r=i().isFinite;return gf=Number.isFinite||function(t){return"number"==typeof t&&r(t)}}wf||(wf=1,Ne()({target:"Number",stat:!0},{isFinite:Sf()}));var Af,Tf,Of,Ef,xf,Rf={};!function(){if(xf)return Rf;xf=1;var r=Ne(),t=function(){if(Tf)return Af;Tf=1;var r=cr(),t=de(),e=Do(),n=nf(),i=dr(),o=r(n),a=r("".slice),u=Math.ceil,c=function(r){return function(n,c,f){var s,l,d=e(i(n)),v=t(c),p=d.length,y=void 0===f?" ":e(f);return v<=p||""===y?d:((l=o(y,u((s=v-p)/y.length))).length>s&&(l=a(l,0,s)),r?d+l:l+d)}};return Af={start:c(!1),end:c(!0)}}().start;r({target:"String",proto:!0,forced:function(){if(Ef)return Of;Ef=1;var r=gr();return Of=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(r)}()},{padStart:function(r){return t(this,r,arguments.length>1?arguments[1]:void 0)}})}();var kf,If,Pf,Cf,jf,Mf,_f,Df={};function Nf(){return If?kf:(If=1,kf="\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff")}function Ff(){if(Cf)return Pf;Cf=1;var r=cr(),t=dr(),e=Do(),n=Nf(),i=r("".replace),o=RegExp("^["+n+"]+"),a=RegExp("(^|[^"+n+"])["+n+"]+$"),u=function(r){return function(n){var u=e(t(n));return 1&r&&(u=i(u,o,"")),2&r&&(u=i(u,a,"$1")),u}};return Pf={start:u(1),end:u(2),trim:u(3)}}!function(){if(_f)return Df;_f=1;var r=Ne(),t=Ff().trim,e=function(){if(Mf)return jf;Mf=1;var r=Ut().PROPER,t=p(),e=Nf();return jf=function(n){return t(function(){return!!e[n]()||"âÂá "!=="âÂá "[n]()||r&&e[n].name!==n})}}();r({target:"String",proto:!0,forced:e("trim")},{trim:function(){return t(this)}})}();var Lf=window.StarmusHooks||{};Lf.subscribe,Lf.debugLog;var Uf,Bf,qf,zf,Wf,Vf,Gf,Hf,$f,Yf,Jf,Kf,Qf,Xf,Zf,rs,ts,es,ns,is={};function os(){return Bf?Uf:(Bf=1,Uf="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView)}function as(){if(zf)return qf;zf=1;var r=se(),t=de(),e=RangeError;return qf=function(n){if(void 0===n)return 0;var i=r(n),o=t(i);if(i!==o)throw new e("Wrong length or index");return o}}function us(){if(Yf)return $f;Yf=1;var r=Vf?Wf:(Vf=1,Wf=Math.sign||function(r){var t=+r;return 0===t||t!=t?t:t<0?-1:1}),t=function(){if(Hf)return Gf;Hf=1;var r=4503599627370496;return Gf=function(t){return t+r-r}}(),e=Math.abs;return $f=function(n,i,o,a){var u=+n,c=e(u),f=r(u);if(c<a)return f*t(c/a/i)*a*i;var s=(1+i/2220446049250313e-31)*c,l=s-(s-c);return l>o||l!=l?f*(1/0):f*l}}function cs(){if(Xf)return Qf;Xf=1;var r=Array,t=Math.abs,e=Math.pow,n=Math.floor,i=Math.log,o=Math.LN2;return Qf={pack:function(a,u,c){var f,s,l,d=r(c),v=8*c-u-1,p=(1<<v)-1,y=p>>1,h=23===u?e(2,-24)-e(2,-77):0,m=a<0||0===a&&1/a<0?1:0,g=0;for((a=t(a))!=a||a===1/0?(s=a!=a?1:0,f=p):(f=n(i(a)/o),a*(l=e(2,-f))<1&&(f--,l*=2),(a+=f+y>=1?h/l:h*e(2,1-y))*l>=2&&(f++,l/=2),f+y>=p?(s=0,f=p):f+y>=1?(s=(a*l-1)*e(2,u),f+=y):(s=a*e(2,y-1)*e(2,u),f=0));u>=8;)d[g++]=255&s,s/=256,u-=8;for(f=f<<u|s,v+=u;v>0;)d[g++]=255&f,f/=256,v-=8;return d[g-1]|=128*m,d},unpack:function(r,t){var n,i=r.length,o=8*i-t-1,a=(1<<o)-1,u=a>>1,c=o-7,f=i-1,s=r[f--],l=127&s;for(s>>=7;c>0;)l=256*l+r[f--],c-=8;for(n=l&(1<<-c)-1,l>>=-c,c+=t;c>0;)n=256*n+r[f--],c-=8;if(0===l)l=1-u;else{if(l===a)return n?NaN:s?-1/0:1/0;n+=e(2,t),l-=u}return(s?-1:1)*n*e(2,l-t)}}}function fs(){if(rs)return Zf;rs=1;var r=et(),t=le(),e=ve();return Zf=function(n){for(var i=r(this),o=e(i),a=arguments.length,u=t(a>1?arguments[1]:void 0,o),c=a>2?arguments[2]:void 0,f=void 0===c?o:t(c,o);f>u;)i[u++]=n;return i},Zf}function ss(){if(es)return ts;es=1;var r=i(),t=cr(),e=y(),n=os(),o=Ut(),a=At(),u=Eo(),c=xo(),f=p(),s=So(),l=se(),d=de(),v=as(),h=function(){if(Kf)return Jf;Kf=1;var r=us();return Jf=Math.fround||function(t){return r(t,1.1920928955078125e-7,34028234663852886e22,11754943508222875e-54)}}(),m=cs(),g=Rn(),b=jn(),w=fs(),S=ii(),A=To(),T=_e(),O=In(),E=Wt(),x=o.PROPER,R=o.CONFIGURABLE,k="ArrayBuffer",I="DataView",P="prototype",C="Wrong index",j=E.getterFor(k),M=E.getterFor(I),_=E.set,D=r[k],N=D,F=N&&N[P],L=r[I],U=L&&L[P],B=Object.prototype,q=r.Array,z=r.RangeError,W=t(w),V=t([].reverse),G=m.pack,H=m.unpack,$=function(r){return[255&r]},Y=function(r){return[255&r,r>>8&255]},J=function(r){return[255&r,r>>8&255,r>>16&255,r>>24&255]},K=function(r){return r[3]<<24|r[2]<<16|r[1]<<8|r[0]},Q=function(r){return G(h(r),23,4)},X=function(r){return G(r,52,8)},Z=function(r,t,e){u(r[P],t,{configurable:!0,get:function(){return e(this)[t]}})},rr=function(r,t,e,n){var i=M(r),o=v(e),a=!!n;if(o+t>i.byteLength)throw new z(C);var u=i.bytes,c=o+i.byteOffset,f=S(u,c,c+t);return a?f:V(f)},tr=function(r,t,e,n,i,o){var a=M(r),u=v(e),c=n(+i),f=!!o;if(u+t>a.byteLength)throw new z(C);for(var s=a.bytes,l=u+a.byteOffset,d=0;d<t;d++)s[l+d]=c[f?d:t-d-1]};if(n){var er=x&&D.name!==k;f(function(){D(1)})&&f(function(){new D(-1)})&&!f(function(){return new D,new D(1.5),new D(NaN),1!==D.length||er&&!R})?er&&R&&a(D,"name",k):((N=function(r){return s(this,F),A(new D(v(r)),this,N)})[P]=F,F.constructor=N,T(N,D)),b&&g(U)!==B&&b(U,B);var nr=new L(new N(2)),ir=t(U.setInt8);nr.setInt8(0,2147483648),nr.setInt8(1,2147483649),!nr.getInt8(0)&&nr.getInt8(1)||c(U,{setInt8:function(r,t){ir(this,r,t<<24>>24)},setUint8:function(r,t){ir(this,r,t<<24>>24)}},{unsafe:!0})}else F=(N=function(r){s(this,F);var t=v(r);_(this,{type:k,bytes:W(q(t),0),byteLength:t}),e||(this.byteLength=t,this.detached=!1)})[P],U=(L=function(r,t,n){s(this,U),s(r,F);var i=j(r),o=i.byteLength,a=l(t);if(a<0||a>o)throw new z("Wrong offset");if(a+(n=void 0===n?o-a:d(n))>o)throw new z("Wrong length");_(this,{type:I,buffer:r,byteLength:n,byteOffset:a,bytes:i.bytes}),e||(this.buffer=r,this.byteLength=n,this.byteOffset=a)})[P],e&&(Z(N,"byteLength",j),Z(L,"buffer",M),Z(L,"byteLength",M),Z(L,"byteOffset",M)),c(U,{getInt8:function(r){return rr(this,1,r)[0]<<24>>24},getUint8:function(r){return rr(this,1,r)[0]},getInt16:function(r){var t=rr(this,2,r,arguments.length>1&&arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(r){var t=rr(this,2,r,arguments.length>1&&arguments[1]);return t[1]<<8|t[0]},getInt32:function(r){return K(rr(this,4,r,arguments.length>1&&arguments[1]))},getUint32:function(r){return K(rr(this,4,r,arguments.length>1&&arguments[1]))>>>0},getFloat32:function(r){return H(rr(this,4,r,arguments.length>1&&arguments[1]),23)},getFloat64:function(r){return H(rr(this,8,r,arguments.length>1&&arguments[1]),52)},setInt8:function(r,t){tr(this,1,r,$,t)},setUint8:function(r,t){tr(this,1,r,$,t)},setInt16:function(r,t){tr(this,2,r,Y,t,arguments.length>2&&arguments[2])},setUint16:function(r,t){tr(this,2,r,Y,t,arguments.length>2&&arguments[2])},setInt32:function(r,t){tr(this,4,r,J,t,arguments.length>2&&arguments[2])},setUint32:function(r,t){tr(this,4,r,J,t,arguments.length>2&&arguments[2])},setFloat32:function(r,t){tr(this,4,r,Q,t,arguments.length>2&&arguments[2])},setFloat64:function(r,t){tr(this,8,r,X,t,arguments.length>2&&arguments[2])}});return O(N,k),O(L,I),ts={ArrayBuffer:N,DataView:L}}!function(){if(ns)return is;ns=1;var r=Ne(),t=i(),e=ss(),n=Ro(),o="ArrayBuffer",a=e[o];r({global:!0,constructor:!0,forced:t[o]!==a},{ArrayBuffer:a}),n(o)}();var ls,ds={};!function(){if(ls)return ds;ls=1;var r=Ne(),t=Fe(),e=p(),n=ss(),i=wt(),o=le(),a=de(),u=n.ArrayBuffer,c=n.DataView,f=c.prototype,s=t(u.prototype.slice),l=t(f.getUint8),d=t(f.setUint8);r({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:e(function(){return!new u(2).slice(1,void 0).byteLength})},{slice:function(r,t){if(s&&void 0===t)return s(i(this),r);for(var e=i(this).byteLength,n=o(r,e),f=o(void 0===t?e:t,e),v=new u(a(f-n)),p=new c(this),y=new c(v),h=0;n<f;)d(y,h++,l(p,n++));return v}})}();var vs,ps,ys,hs={};!function(){if(ys)return hs;ys=1;var r=Ne(),t=function(){if(ps)return vs;ps=1;var r=i(),t=p(),e=cr(),n=Do(),o=Ff().trim,a=Nf(),u=e("".charAt),c=r.parseFloat,f=r.Symbol,s=f&&f.iterator,l=1/c(a+"-0")!=-1/0||s&&!t(function(){c(Object(s))});return vs=l?function(r){var t=o(n(r)),e=c(t);return 0===e&&"-"===u(t,0)?-0:e}:c}();r({global:!0,forced:parseFloat!==t},{parseFloat:t})}();var ms,gs,bs,ws,Ss,As,Ts,Os,Es,xs,Rs,ks,Is,Ps,Cs,js,Ms,_s,Ds,Ns,Fs,Ls,Us={exports:{}};function Bs(){if(gs)return ms;gs=1;var r,t,e,n=os(),o=y(),a=i(),u=pr(),c=yr(),f=nt(),s=ri(),l=Tr(),d=At(),v=Gt(),p=Eo(),h=mr(),m=Rn(),g=jn(),b=ot(),w=it(),S=Wt(),A=S.enforce,T=S.get,O=a.Int8Array,E=O&&O.prototype,x=a.Uint8ClampedArray,R=x&&x.prototype,k=O&&m(O),I=E&&m(E),P=Object.prototype,C=a.TypeError,j=b("toStringTag"),M=w("TYPED_ARRAY_TAG"),_="TypedArrayConstructor",D=n&&!!g&&"Opera"!==s(a.opera),N=!1,F={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},L={BigInt64Array:8,BigUint64Array:8},U=function(r){var t=m(r);if(c(t)){var e=T(t);return e&&f(e,_)?e[_]:U(t)}},B=function(r){if(!c(r))return!1;var t=s(r);return f(F,t)||f(L,t)};for(r in F)(e=(t=a[r])&&t.prototype)?A(e)[_]=t:D=!1;for(r in L)(e=(t=a[r])&&t.prototype)&&(A(e)[_]=t);if((!D||!u(k)||k===Function.prototype)&&(k=function(){throw new C("Incorrect invocation")},D))for(r in F)a[r]&&g(a[r],k);if((!D||!I||I===P)&&(I=k.prototype,D))for(r in F)a[r]&&g(a[r].prototype,I);if(D&&m(R)!==I&&g(R,I),o&&!f(I,j))for(r in N=!0,p(I,j,{configurable:!0,get:function(){return c(this)?this[M]:void 0}}),F)a[r]&&d(a[r],M,r);return ms={NATIVE_ARRAY_BUFFER_VIEWS:D,TYPED_ARRAY_TAG:N&&M,aTypedArray:function(r){if(B(r))return r;throw new C("Target is not a typed array")},aTypedArrayConstructor:function(r){if(u(r)&&(!g||h(k,r)))return r;throw new C(l(r)+" is not a typed array constructor")},exportTypedArrayMethod:function(r,t,e,n){if(o){if(e)for(var i in F){var u=a[i];if(u&&f(u.prototype,r))try{delete u.prototype[r]}catch(e){try{u.prototype[r]=t}catch(r){}}}I[r]&&!e||v(I,r,e?t:D&&E[r]||t,n)}},exportTypedArrayStaticMethod:function(r,t,e){var n,i;if(o){if(g){if(e)for(n in F)if((i=a[n])&&f(i,r))try{delete i[r]}catch(r){}if(k[r]&&!e)return;try{return v(k,r,e?t:D&&k[r]||t)}catch(r){}}for(n in F)!(i=a[n])||i[r]&&!e||v(i,r,t)}},getTypedArrayConstructor:U,isView:function(r){if(!c(r))return!1;var t=s(r);return"DataView"===t||f(F,t)||f(L,t)},isTypedArray:B,TypedArray:k,TypedArrayPrototype:I}}function qs(){if(As)return Ss;As=1;var r=yr(),t=Math.floor;return Ss=Number.isInteger||function(e){return!r(e)&&isFinite(e)&&t(e)===e}}function zs(){if(Os)return Ts;Os=1;var r=se(),t=RangeError;return Ts=function(e){var n=r(e);if(n<0)throw new t("The argument can't be less than 0");return n}}function Ws(){if(xs)return Es;xs=1;var r=zs(),t=RangeError;return Es=function(e,n){var i=r(e);if(i%n)throw new t("Wrong offset");return i}}function Vs(){if(ks)return Rs;ks=1;var r=Math.round;return Rs=function(t){var e=r(t);return e<0?0:e>255?255:255&e}}function Gs(){if(Ps)return Is;Ps=1;var r=ri();return Is=function(t){var e=r(t);return"BigInt64Array"===e||"BigUint64Array"===e}}function Hs(){if(js)return Cs;js=1;var r=at(),t=TypeError;return Cs=function(e){var n=r(e,"number");if("number"==typeof n)throw new t("Can't convert number to bigint");return BigInt(n)}}function $s(){if(_s)return Ms;_s=1;var r=yo(),t=m(),e=Au(),n=et(),i=ve(),o=go(),a=mo(),u=ho(),c=Gs(),f=Bs().aTypedArrayConstructor,s=Hs();return Ms=function(l){var d,v,p,y,h,m,g,b,w=e(this),S=n(l),A=arguments.length,T=A>1?arguments[1]:void 0,O=void 0!==T,E=a(S);if(E&&!u(E))for(b=(g=o(S,E)).next,S=[];!(m=t(b,g)).done;)S.push(m.value);for(O&&A>2&&(T=r(T,arguments[2])),v=i(S),p=new(f(w))(v),y=c(p),d=0;v>d;d++)h=O?T(S[d],d):S[d],p[d]=y?s(h):+h;return p},Ms}function Ys(){if(Ns)return Ds;Ns=1;var r=ve();return Ds=function(t,e,n){for(var i=0,o=arguments.length>2?n:r(e),a=new t(o);o>i;)a[i]=e[i++];return a},Ds}function Js(){if(Fs)return Us.exports;Fs=1;var r=Ne(),t=i(),e=m(),n=y(),o=function(){if(ws)return bs;ws=1;var r=i(),t=p(),e=Ao(),n=Bs().NATIVE_ARRAY_BUFFER_VIEWS,o=r.ArrayBuffer,a=r.Int8Array;return bs=!n||!t(function(){a(1)})||!t(function(){new a(-1)})||!e(function(r){new a,new a(null),new a(1.5),new a(r)},!0)||t(function(){return 1!==new a(new o(2),1,void 0).length})}(),a=Bs(),u=ss(),c=So(),f=ur(),s=At(),l=qs(),d=de(),v=as(),h=Ws(),g=Vs(),b=ut(),w=nt(),S=ri(),A=yr(),T=Ar(),O=On(),E=mr(),x=jn(),R=me().f,k=$s(),I=Xo().forEach,P=Ro(),C=Eo(),j=St(),M=st(),_=Ys(),D=Wt(),N=To(),F=D.get,L=D.set,U=D.enforce,B=j.f,q=M.f,z=t.RangeError,W=u.ArrayBuffer,V=W.prototype,G=u.DataView,H=a.NATIVE_ARRAY_BUFFER_VIEWS,$=a.TYPED_ARRAY_TAG,Y=a.TypedArray,J=a.TypedArrayPrototype,K=a.isTypedArray,Q="BYTES_PER_ELEMENT",X="Wrong length",Z=function(r,t){C(r,t,{configurable:!0,get:function(){return F(this)[t]}})},rr=function(r){var t;return E(V,r)||"ArrayBuffer"===(t=S(r))||"SharedArrayBuffer"===t},tr=function(r,t){return K(r)&&!T(t)&&t in r&&l(+t)&&t>=0},er=function(r,t){return t=b(t),tr(r,t)?f(2,r[t]):q(r,t)},nr=function(r,t,e){return t=b(t),!(tr(r,t)&&A(e)&&w(e,"value"))||w(e,"get")||w(e,"set")||e.configurable||w(e,"writable")&&!e.writable||w(e,"enumerable")&&!e.enumerable?B(r,t,e):(r[t]=e.value,r)};return n?(H||(M.f=er,j.f=nr,Z(J,"buffer"),Z(J,"byteOffset"),Z(J,"byteLength"),Z(J,"length")),r({target:"Object",stat:!0,forced:!H},{getOwnPropertyDescriptor:er,defineProperty:nr}),Us.exports=function(n,i,a){var u=n.match(/\d+/)[0]/8,f=n+(a?"Clamped":"")+"Array",l="get"+n,p="set"+n,y=t[f],m=y,b=m&&m.prototype,w={},S=function(r,t){B(r,t,{get:function(){return function(r,t){var e=F(r);return e.view[l](t*u+e.byteOffset,!0)}(this,t)},set:function(r){return function(r,t,e){var n=F(r);n.view[p](t*u+n.byteOffset,a?g(e):e,!0)}(this,t,r)},enumerable:!0})};H?o&&(m=i(function(r,t,n,i){return c(r,b),N(A(t)?rr(t)?void 0!==i?new y(t,h(n,u),i):void 0!==n?new y(t,h(n,u)):new y(t):K(t)?_(m,t):e(k,m,t):new y(v(t)),r,m)}),x&&x(m,Y),I(R(y),function(r){r in m||s(m,r,y[r])}),m.prototype=b):(m=i(function(r,t,n,i){c(r,b);var o,a,f,s=0,l=0;if(A(t)){if(!rr(t))return K(t)?_(m,t):e(k,m,t);o=t,l=h(n,u);var p=t.byteLength;if(void 0===i){if(p%u)throw new z(X);if((a=p-l)<0)throw new z(X)}else if((a=d(i)*u)+l>p)throw new z(X);f=a/u}else f=v(t),o=new W(a=f*u);for(L(r,{buffer:o,byteOffset:l,byteLength:a,length:f,view:new G(o)});s<f;)S(r,s++)}),x&&x(m,Y),b=m.prototype=O(J)),b.constructor!==m&&s(b,"constructor",m),U(b).TypedArrayConstructor=m,$&&s(b,$,f);var T=m!==y;w[f]=m,r({global:!0,constructor:!0,forced:T,sham:!H},w),Q in m||s(m,Q,u),Q in b||s(b,Q,u),P(f)}):Us.exports=function(){},Us.exports}Ls||(Ls=1,Js()("Float32",function(r){return function(t,e,n){return r(this,t,e,n)}}));var Ks,Qs,Xs,Zs={};!function(){if(Xs)return Zs;Xs=1;var r=cr(),t=Bs(),e=function(){if(Qs)return Ks;Qs=1;var r=et(),t=le(),e=ve(),n=wi(),i=Math.min;return Ks=[].copyWithin||function(o,a){var u=r(this),c=e(u),f=t(o,c),s=t(a,c),l=arguments.length>2?arguments[2]:void 0,d=i((void 0===l?c:t(l,c))-s,c-f),v=1;for(s<f&&f<s+d&&(v=-1,s+=d-1,f+=d-1);d-- >0;)s in u?u[f]=u[s]:n(u,f),f+=v,s+=v;return u},Ks}(),n=r(e),i=t.aTypedArray;(0,t.exportTypedArrayMethod)("copyWithin",function(r,t){return n(i(this),r,t,arguments.length>2?arguments[2]:void 0)})}();var rl,tl={};!function(){if(rl)return tl;rl=1;var r=Bs(),t=Xo().every,e=r.aTypedArray;(0,r.exportTypedArrayMethod)("every",function(r){return t(e(this),r,arguments.length>1?arguments[1]:void 0)})}();var el,nl={};!function(){if(el)return nl;el=1;var r=Bs(),t=fs(),e=Hs(),n=ri(),i=m(),o=cr(),a=p(),u=r.aTypedArray,c=r.exportTypedArrayMethod,f=o("".slice);c("fill",function(r){var o=arguments.length;u(this);var a="Big"===f(n(this),0,3)?e(r):+r;return i(t,this,a,o>1?arguments[1]:void 0,o>2?arguments[2]:void 0)},a(function(){var r=0;return new Int8Array(2).fill({valueOf:function(){return r++}}),1!==r}))}();var il,ol,al,ul={};!function(){if(al)return ul;al=1;var r=Bs(),t=Xo().filter,e=function(){if(ol)return il;ol=1;var r=Ys(),t=Bs().getTypedArrayConstructor;return il=function(e,n){return r(t(e),n)}}(),n=r.aTypedArray;(0,r.exportTypedArrayMethod)("filter",function(r){var i=t(n(this),r,arguments.length>1?arguments[1]:void 0);return e(this,i)})}();var cl,fl={};!function(){if(cl)return fl;cl=1;var r=Bs(),t=Xo().find,e=r.aTypedArray;(0,r.exportTypedArrayMethod)("find",function(r){return t(e(this),r,arguments.length>1?arguments[1]:void 0)})}();var sl,ll={};!function(){if(sl)return ll;sl=1;var r=Bs(),t=Xo().findIndex,e=r.aTypedArray;(0,r.exportTypedArrayMethod)("findIndex",function(r){return t(e(this),r,arguments.length>1?arguments[1]:void 0)})}();var dl,vl={};!function(){if(dl)return vl;dl=1;var r=Bs(),t=Xo().forEach,e=r.aTypedArray;(0,r.exportTypedArrayMethod)("forEach",function(r){t(e(this),r,arguments.length>1?arguments[1]:void 0)})}();var pl,yl={};!function(){if(pl)return yl;pl=1;var r=Bs(),t=pe().includes,e=r.aTypedArray;(0,r.exportTypedArrayMethod)("includes",function(r){return t(e(this),r,arguments.length>1?arguments[1]:void 0)})}();var hl,ml={};!function(){if(hl)return ml;hl=1;var r=Bs(),t=pe().indexOf,e=r.aTypedArray;(0,r.exportTypedArrayMethod)("indexOf",function(r){return t(e(this),r,arguments.length>1?arguments[1]:void 0)})}();var gl,bl={};!function(){if(gl)return bl;gl=1;var r=i(),t=p(),e=cr(),n=Bs(),o=Dn(),a=ot()("iterator"),u=r.Uint8Array,c=e(o.values),f=e(o.keys),s=e(o.entries),l=n.aTypedArray,d=n.exportTypedArrayMethod,v=u&&u.prototype,y=!t(function(){v[a].call([1])}),h=!!v&&v.values&&v[a]===v.values&&"values"===v.values.name,m=function(){return c(l(this))};d("entries",function(){return s(l(this))},y),d("keys",function(){return f(l(this))},y),d("values",m,y||!h,{name:"values"}),d(a,m,y||!h,{name:"values"})}();var wl,Sl={};!function(){if(wl)return Sl;wl=1;var r=Bs(),t=cr(),e=r.aTypedArray,n=r.exportTypedArrayMethod,i=t([].join);n("join",function(r){return i(e(this),r)})}();var Al,Tl,Ol,El={};!function(){if(Ol)return El;Ol=1;var r=Bs(),t=Ou(),e=function(){if(Tl)return Al;Tl=1;var r=Ou(),t=vr(),e=se(),n=ve(),i=Le(),o=Math.min,a=[].lastIndexOf,u=!!a&&1/[1].lastIndexOf(1,-0)<0,c=i("lastIndexOf");return Al=u||!c?function(i){if(u)return r(a,this,arguments)||0;var c=t(this),f=n(c);if(0===f)return-1;var s=f-1;for(arguments.length>1&&(s=o(s,e(arguments[1]))),s<0&&(s=f+s);s>=0;s--)if(s in c&&c[s]===i)return s||0;return-1}:a,Al}(),n=r.aTypedArray;(0,r.exportTypedArrayMethod)("lastIndexOf",function(r){var i=arguments.length;return t(e,n(this),i>1?[r,arguments[1]]:[r])})}();var xl,Rl={};!function(){if(xl)return Rl;xl=1;var r=Bs(),t=Xo().map,e=r.aTypedArray,n=r.getTypedArrayConstructor;(0,r.exportTypedArrayMethod)("map",function(r){return t(e(this),r,arguments.length>1?arguments[1]:void 0,function(r,t){return new(n(r))(t)})})}();var kl,Il={};!function(){if(kl)return Il;kl=1;var r=Bs(),t=Ma().left,e=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduce",function(r){var n=arguments.length;return t(e(this),r,n,n>1?arguments[1]:void 0)})}();var Pl,Cl={};!function(){if(Pl)return Cl;Pl=1;var r=Bs(),t=Ma().right,e=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduceRight",function(r){var n=arguments.length;return t(e(this),r,n,n>1?arguments[1]:void 0)})}();var jl,Ml={};!function(){if(jl)return Ml;jl=1;var r=Bs(),t=r.aTypedArray,e=r.exportTypedArrayMethod,n=Math.floor;e("reverse",function(){for(var r,e=this,i=t(e).length,o=n(i/2),a=0;a<o;)r=e[a],e[a++]=e[--i],e[i]=r;return e})}();var _l,Dl={};!function(){if(_l)return Dl;_l=1;var r=i(),t=m(),e=Bs(),n=ve(),o=Ws(),a=et(),u=p(),c=r.RangeError,f=r.Int8Array,s=f&&f.prototype,l=s&&s.set,d=e.aTypedArray,v=e.exportTypedArrayMethod,y=!u(function(){var r=new Uint8ClampedArray(2);return t(l,r,{length:1,0:3},1),3!==r[1]}),h=y&&e.NATIVE_ARRAY_BUFFER_VIEWS&&u(function(){var r=new f(2);return r.set(1),r.set("2",1),0!==r[0]||2!==r[1]});v("set",function(r){d(this);var e=o(arguments.length>1?arguments[1]:void 0,1),i=a(r);if(y)return t(l,this,i,e);var u=this.length,f=n(i),s=0;if(f+e>u)throw new c("Wrong length");for(;s<f;)this[e+s]=i[s++]},!y||h)}();var Nl,Fl={};!function(){if(Nl)return Fl;Nl=1;var r=Bs(),t=p(),e=ii(),n=r.aTypedArray,i=r.getTypedArrayConstructor;(0,r.exportTypedArrayMethod)("slice",function(r,t){for(var o=e(n(this),r,t),a=i(this),u=0,c=o.length,f=new a(c);c>u;)f[u]=o[u++];return f},t(function(){new Int8Array(1).slice()}))}();var Ll,Ul={};!function(){if(Ll)return Ul;Ll=1;var r=Bs(),t=Xo().some,e=r.aTypedArray;(0,r.exportTypedArrayMethod)("some",function(r){return t(e(this),r,arguments.length>1?arguments[1]:void 0)})}();var Bl,ql,zl,Wl,Vl,Gl,Hl,$l,Yl,Jl={};!function(){if(Yl)return Jl;Yl=1;var r=i(),t=Fe(),e=p(),n=Or(),o=function(){if(ql)return Bl;ql=1;var r=ii(),t=Math.floor,e=function(n,i){var o=n.length;if(o<8)for(var a,u,c=1;c<o;){for(u=c,a=n[c];u&&i(n[u-1],a)>0;)n[u]=n[--u];u!==c++&&(n[u]=a)}else for(var f=t(o/2),s=e(r(n,0,f),i),l=e(r(n,f),i),d=s.length,v=l.length,p=0,y=0;p<d||y<v;)n[p+y]=p<d&&y<v?i(s[p],l[y])<=0?s[p++]:l[y++]:p<d?s[p++]:l[y++];return n};return Bl=e}(),a=Bs(),u=function(){if(Wl)return zl;Wl=1;var r=gr().match(/firefox\/(\d+)/i);return zl=!!r&&+r[1]}(),c=function(){if(Gl)return Vl;Gl=1;var r=gr();return Vl=/MSIE|Trident/.test(r)}(),f=br(),s=function(){if($l)return Hl;$l=1;var r=gr().match(/AppleWebKit\/(\d+)\./);return Hl=!!r&&+r[1]}(),l=a.aTypedArray,d=a.exportTypedArrayMethod,v=r.Uint16Array,y=v&&t(v.prototype.sort),h=!(!y||e(function(){y(new v(2),null)})&&e(function(){y(new v(2),{})})),m=!!y&&!e(function(){if(f)return f<74;if(u)return u<67;if(c)return!0;if(s)return s<602;var r,t,e=new v(516),n=Array(516);for(r=0;r<516;r++)t=r%4,e[r]=515-r,n[r]=r-2*t+3;for(y(e,function(r,t){return(r/4|0)-(t/4|0)}),r=0;r<516;r++)if(e[r]!==n[r])return!0});d("sort",function(r){return void 0!==r&&n(r),m?y(this,r):o(l(this),function(r){return function(t,e){return void 0!==r?+r(t,e)||0:e!=e?-1:t!=t?1:0===t&&0===e?1/t>0&&1/e<0?1:-1:t>e}}(r))},!m||h)}();var Kl,Ql={};!function(){if(Kl)return Ql;Kl=1;var r=Bs(),t=de(),e=le(),n=r.aTypedArray,i=r.getTypedArrayConstructor;(0,r.exportTypedArrayMethod)("subarray",function(r,o){var a=n(this),u=a.length,c=e(r,u);return new(i(a))(a.buffer,a.byteOffset+c*a.BYTES_PER_ELEMENT,t((void 0===o?u:e(o,u))-c))})}();var Xl,Zl={};!function(){if(Xl)return Zl;Xl=1;var r=i(),t=Ou(),e=Bs(),n=p(),o=ii(),a=r.Int8Array,u=e.aTypedArray,c=e.exportTypedArrayMethod,f=[].toLocaleString,s=!!a&&n(function(){f.call(new a(1))});c("toLocaleString",function(){return t(f,s?o(u(this)):u(this),o(arguments))},n(function(){return[1,2].toLocaleString()!==new a([1,2]).toLocaleString()})||!n(function(){a.prototype.toLocaleString.call([1,2])}))}();var rd,td={};!function(){if(rd)return td;rd=1;var r=Bs().exportTypedArrayMethod,t=p(),e=i(),n=cr(),o=e.Uint8Array,a=o&&o.prototype||{},u=[].toString,c=n([].join);t(function(){u.call({})})&&(u=function(){return c(this)});var f=a.toString!==u;r("toString",u,f)}(),function(r){var t=r.StarmusHooks,e=t&&t.debugLog||function(){},n={},i=null;function o(r,e,n){try{t&&"function"==typeof t.dispatch&&t.dispatch("starmus_event",{instanceId:r,event:e,severity:n.severity||"info",message:n.message||"",data:n.data||{}})}catch(r){console.warn("[Starmus] Telemetry emit failed:",r)}}function a(){var t=r.AudioContext||r.webkitAudioContext;if(!t)throw new Error("AudioContext not supported");if((!i||"closed"===i.state)&&(i=new t({latencyHint:"interactive"}),e("[Recorder] Created AudioContext, state:",i.state),"function"!=typeof i.createMediaStreamSource))throw new Error("AudioContext lacks createMediaStreamSource");return i}function u(r){var t=a(),n=t.createMediaStreamSource(r);try{var i=function(r){var t=r.createMediaStreamDestination||r.createMediaStreamAudioDestination;if("function"!=typeof t)throw new Error("MediaStreamDestination not supported");var e=t.call(r);if(!e||!e.stream)throw new Error("Destination stream invalid");return e}(t),o=t.createBiquadFilter();o.type="highpass",o.frequency.value=85;var u=t.createDynamicsCompressor();u.threshold.value=-20,u.knee.value=40,u.ratio.value=12,u.attack.value=0,u.release.value=.25;var c=t.createAnalyser();return c.fftSize=2048,n.connect(o),o.connect(u),u.connect(c),c.connect(i),{audioContext:t,destinationStream:i.stream,analyser:c,nodes:[n,o,u,c,i],fallbackActive:!1}}catch(i){e("[Recorder] Audio graph failed â fallback to raw stream:",i.message);var f=t.createAnalyser();return f.fftSize=2048,n.connect(f),{audioContext:t,destinationStream:r,analyser:f,nodes:[n,f],fallbackActive:!0}}}r.initStarmusRecorder=function(i,c){var f=i.getState&&i.getState().tier||"A";e("[Recorder]["+c+"] Tier:",f),t.subscribe("setup-mic",function(r,t){if(t&&t.instanceId===c){if(!navigator.mediaDevices||"function"!=typeof navigator.mediaDevices.getUserMedia){var e="Microphone not supported.";return o(c,"E_RECORDER_UNSUPPORTED",{severity:"error",message:e}),void i.dispatch({type:"starmus/error",payload:{message:e,retryable:!1}})}navigator.mediaDevices.getUserMedia({audio:!0}).then(function(r){return o(c,"E_MIC_ACCESS",{severity:"info",message:"Mic access granted"}),i.dispatch({type:"starmus/calibration-start"}),(t=r,e=function(r,t){i.dispatch({type:"starmus/calibration-update",message:r,volumePercent:t})},new Promise(function(r){var n;try{n=a()}catch(t){return void r({gain:1,snr:1,noiseFloor:0,speechLevel:0,timestamp:(new Date).toISOString()})}var i=n.createAnalyser();i.fftSize=2048;var o=n.createMediaStreamSource(t);o.connect(i);var u=new Float32Array(i.fftSize),c=[],f=Date.now();!function t(){if("running"===n.state){i.getFloatTimeDomainData(u);for(var a=0,s=0;s<u.length;s++)a+=u[s]*u[s];var l=Math.sqrt(a/u.length);if(isFinite(l)){if(c.push(l),e){var d=Math.min(100,2e3*l);e("Calibratingâ¦",d,!1)}if(Date.now()-f<15e3)requestAnimationFrame(t);else{var v=Math.max(1,Math.floor(c.length/3)),p=c.slice(0,v),y=c.slice(v,2*v),h=function(r){for(var t=0,e=0;e<r.length;e++)t+=r[e];return t/r.length},m=h(p),g=h(y),b=g/Math.max(m,1e-6),w=b<3?6:Math.max(1,Math.min(4,.1/Math.max(g,1e-6))),S={gain:parseFloat(w.toFixed(3)),snr:parseFloat(b.toFixed(3)),noiseFloor:parseFloat(m.toFixed(6)),speechLevel:parseFloat(g.toFixed(6)),timestamp:(new Date).toISOString()};try{o.disconnect()}catch(r){}try{i.disconnect()}catch(r){}e&&e("Mic calibrated",null,!0),r(S)}}else requestAnimationFrame(t)}else requestAnimationFrame(t)}()})).then(function(t){try{r.getTracks().forEach(function(r){r.stop()})}catch(r){}i.dispatch({type:"starmus/calibration-complete",calibration:t})});var t,e}).catch(function(r){var t=r&&"NotAllowedError"===r.name?"Microphone permission denied.":"Failed to access microphone.";o(c,"E_MIC_ACCESS",{severity:"error",message:t,data:{error:r.message}}),i.dispatch({type:"starmus/error",payload:{message:t,retryable:!0}})})}}),t.subscribe("start-recording",function(t,a){if(a&&a.instanceId===c){var f=i.getState();"calibrating"!==f.status?f.calibration&&!0===f.calibration.complete?navigator.mediaDevices&&"function"==typeof navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({audio:!0}).then(function(t){var a,f=u(t),s=f.destinationStream,l=f.analyser;"suspended"===f.audioContext.state&&f.audioContext.resume().catch(function(){}),(a=s,new Promise(function(r){var t=a.getAudioTracks&&a.getAudioTracks()||[];if(t.length){var e=t[0];if("live"!==e.readyState){var n=0,i=setInterval(function(){("live"===e.readyState||n>100)&&(clearInterval(i),r()),n+=1},50);setTimeout(function(){clearInterval(i),r()},5e3)}else r()}else r()})).then(function(){if((s.getAudioTracks&&s.getAudioTracks()||[]).length){var a,u=[];try{a=new r.MediaRecorder(s,{})}catch(r){e("[Recorder] MediaRecorder creation failed:",r);try{t.getTracks().forEach(function(r){r.stop()})}catch(r){}return void i.dispatch({type:"starmus/error",payload:{message:"Unable to start recording",retryable:!0}})}var d={mediaRecorder:a,rawStream:t,processedStream:s,audioContext:f.audioContext,analyser:l,nodes:f.nodes,fallbackActive:f.fallbackActive};n[c]=d,a.ondataavailable=function(r){r.data&&r.data.size>0&&u.push(r.data)},a.onstop=function(){if(n[c]===d){try{d.audioContext&&d.audioContext.close&&d.audioContext.close()}catch(r){}var r=new Blob(u,{type:a.mimeType||"audio/webm"}),e="starmus-recording-"+Date.now()+".webm";i.dispatch({type:"starmus/recording-available",payload:{blob:r,fileName:e}});try{t.getTracks().forEach(function(r){r.stop()})}catch(r){}try{s.getTracks().forEach(function(r){r.stop()})}catch(r){}d.nodes.forEach(function(r){try{r.disconnect()}catch(r){}}),delete n[c]}},a.onerror=function(r){e("[Recorder] MediaRecorder error:",r),o(c,"E_RECORDER_ERROR",{severity:"error",message:r.message}),i.dispatch({type:"starmus/error",payload:{message:"Recording error",retryable:!0}})};try{if("inactive"!==a.state)throw new Error("MediaRecorder not in inactive state");a.start(3e3),i.dispatch({type:"starmus/mic-start"})}catch(r){e("[Recorder] mediaRecorder.start failed:",r);try{t.getTracks().forEach(function(r){r.stop()})}catch(r){}return delete n[c],i.dispatch({type:"starmus/error",payload:{message:"Cannot start recording",retryable:!0}}),void o(c,"E_RECORDER_START_FAIL",{severity:"error",message:r.message})}var v=new Float32Array(l.fftSize);d.startTime=Date.now(),d.rafId=requestAnimationFrame(function r(){var t=n[c];if(t&&t.mediaRecorder&&("recording"===t.mediaRecorder.state||"paused"===t.mediaRecorder.state)){try{t.analyser.getFloatTimeDomainData(v);for(var e=0,o=0;o<v.length;o++)e+=v[o]*v[o];var a=Math.sqrt(e/v.length),u=Math.min(100,Math.max(0,4e3*a)),f=(Date.now()-d.startTime)/1e3;i.dispatch({type:"starmus/recorder-tick",duration:f,amplitude:u})}catch(r){}d.rafId=requestAnimationFrame(r)}})}else{try{t.getTracks().forEach(function(r){r.stop()})}catch(r){}i.dispatch({type:"starmus/error",payload:{message:"Invalid audio stream",retryable:!0}})}})}).catch(function(r){var t="Could not access microphone.";o(c,"E_MIC_ACCESS",{severity:"error",message:t,data:{error:r.message}}),i.dispatch({type:"starmus/error",payload:{message:t,retryable:!0}})}):i.dispatch({type:"starmus/error",payload:{message:"Microphone not available.",retryable:!1}}):i.dispatch({type:"starmus/error",payload:{message:"Please setup your microphone first.",retryable:!0}}):i.dispatch({type:"starmus/error",payload:{message:"Please wait for calibration to complete.",retryable:!0}})}}),t.subscribe("stop-mic",function(r,t){if(t&&t.instanceId===c){var e=n[c];if(e&&e.mediaRecorder&&"recording"===e.mediaRecorder.state){i.dispatch({type:"starmus/mic-stop"});try{e.mediaRecorder.stop()}catch(r){}}}}),t.subscribe("pause-mic",function(r,t){if(t&&t.instanceId===c){var e=n[c];e&&e.mediaRecorder&&"recording"===e.mediaRecorder.state&&"function"==typeof e.mediaRecorder.pause&&(i.dispatch({type:"starmus/mic-pause"}),e.mediaRecorder.pause())}}),t.subscribe("resume-mic",function(r,t){if(t&&t.instanceId===c){var e=n[c];e&&e.mediaRecorder&&"paused"===e.mediaRecorder.state&&"function"==typeof e.mediaRecorder.resume&&(i.dispatch({type:"starmus/mic-resume"}),e.mediaRecorder.resume())}}),t.subscribe("reset",function(r,t){if(t&&t.instanceId===c){var e=n[c];if(e){try{e.mediaRecorder&&"inactive"!==e.mediaRecorder.state&&e.mediaRecorder.stop()}catch(r){}e.rafId&&cancelAnimationFrame(e.rafId),e.rawStream&&e.rawStream.getTracks().forEach(function(r){r.stop()}),e.processedStream&&e.processedStream.getTracks().forEach(function(r){r.stop()}),e.nodes&&e.nodes.forEach(function(r){try{r.disconnect()}catch(r){}}),delete n[c]}}})}}("undefined"!=typeof window?window:globalThis);var ed=function(){return fa(function r(t,e,n){ca(this,r),this.peaks=t,this.container=document.getElementById(e),this.data=n||[],this.activeTokenIndex=-1,this.isUserScrolling=!1,this.scrollTimeout=null,this.init()},[{key:"init",value:function(){this.container?(this.render(),this.bindEvents()):console.warn("Starmus Transcript: Container not found. Transcript sync disabled.")}},{key:"render",value:function(){var r,t=this,e=document.createElement("div");this.data.forEach(function(r,n){var i=document.createElement("span");i.textContent=r.text,i.className="starmus-word",i.dataset.index=n,i.dataset.start=r.start,i.dataset.end=r.end,r.confidence&&r.confidence<.8&&(i.dataset.confidence="low",i.title="Low confidence: ".concat(Math.round(100*r.confidence),"%")),e.appendChild(i),n<t.data.length-1&&e.appendChild(document.createTextNode(" "))}),(r=this.container).replaceChildren.apply(r,ma(e.childNodes))}},{key:"bindEvents",value:function(){var r=this;this.container.addEventListener("click",function(t){if(t.target.classList.contains("starmus-word")){var e=parseFloat(t.target.dataset.start);r.peaks.player.seek(e)}}),this.container.addEventListener("scroll",function(){r.isUserScrolling=!0,clearTimeout(r.scrollTimeout),r.scrollTimeout=setTimeout(function(){r.isUserScrolling=!1},1e3)});var t=this.peaks.player.getMediaElement();t&&t.addEventListener("timeupdate",function(){r.syncHighlight(r.peaks.player.getCurrentTime())})}},{key:"findTokenIndex",value:function(r){for(var t=0,e=this.data.length-1;t<=e;){var n=Math.floor((t+e)/2),i=this.data[n];if(r>=i.start&&r<=i.end)return n;r<i.start?e=n-1:t=n+1}return-1}},{key:"syncHighlight",value:function(r){var t=this.data[this.activeTokenIndex];if(!(t&&r>=t.start&&r<=t.end)){var e=this.findTokenIndex(r);-1!==e&&e!==this.activeTokenIndex&&this.updateDOM(e)}}},{key:"updateDOM",value:function(r){var t=this.container.querySelectorAll(".starmus-word");if(-1!==this.activeTokenIndex){var e=t[this.activeTokenIndex];e&&e.classList.remove("is-active")}this.activeTokenIndex=r;var n=t[r];n&&(n.classList.add("is-active"),this.isUserScrolling||this.scrollToWord(n))}},{key:"scrollToWord",value:function(r){var t=this.container.getBoundingClientRect(),e=r.getBoundingClientRect(),n=e.top<t.top,i=e.bottom>t.bottom;(n||i)&&r.scrollIntoView({behavior:"smooth",block:"center"})}},{key:"updateData",value:function(r){this.data=r||[],this.activeTokenIndex=-1,this.render()}},{key:"destroy",value:function(){this.scrollTimeout&&clearTimeout(this.scrollTimeout),this.container&&(this.container.innerHTML="")}}])}();"undefined"!=typeof window&&(window.StarmusTranscript=ed),"undefined"!=typeof module&&module.exports&&(module.exports=ed);var nd,id={};!function(){if(nd)return id;nd=1;var r=Ne(),t=y(),e=St().f;r({target:"Object",stat:!0,forced:Object.defineProperty!==e,sham:!t},{defineProperty:e})}(),function(r){if(r.Starmus=r.Starmus||{},r.STARMUS_EDITOR_DATA?(r.STARMUS_BOOTSTRAP=r.STARMUS_EDITOR_DATA,r.STARMUS_BOOTSTRAP.pageType="editor"):r.STARMUS_RERECORDER_DATA?(r.STARMUS_BOOTSTRAP=r.STARMUS_RERECORDER_DATA,r.STARMUS_BOOTSTRAP.pageType="rerecorder"):r.STARMUS_RECORDER_DATA&&(r.STARMUS_BOOTSTRAP=r.STARMUS_RECORDER_DATA,r.STARMUS_BOOTSTRAP.pageType="recorder"),r.Starmus_DisableOptionalNodes=!0,r.Starmus_DisableOptionalNodes){var t=(r.AudioContext||r.webkitAudioContext||{}).prototype;t&&(t.createConstantSource&&(t.createConstantSource=function(){throw new Error("ConstantSourceNode disabled")}),t.createIIRFilter&&(t.createIIRFilter=function(){throw new Error("IIRFilterNode disabled")}))}!function(r){try{if("function"==typeof r.Peaks||"object"===ba(r.Peaks))return void(r.Starmus.Peaks=r.Peaks);Object.defineProperty(r,"Peaks",{get:function(){return r.Starmus.Peaks},set:function(t){r.Starmus.Peaks=t},configurable:!0})}catch(r){console.warn("[Starmus] Peaks.js exposure failed:",r)}}(r);var e=r.StarmusHooks,n=r.StarmusStateStore,i=r.StarmusUI_initInstance,o=r.StarmusCore_init,a=r.StarmusOffline_init;if(e&&n&&i&&o&&a){r.StarmusApp=r.StarmusApp||{},r.StarmusApp.isRecordingSupported=p,a().catch(function(r){console.error("[Starmus] Offline queue init failed:",r)});var u={},c=!1,f=null;document.addEventListener("sparxstar:environment-ready",function(r){c=!0,f&&(clearTimeout(f),f=null),m(r)}),f=setTimeout(function(){c||(console.warn("[Starmus] environment-ready not fired; using fallback."),g())},2e3),r.Starmus.instances=u}else console.error("[Starmus Integrator] Critical dependencies missing â cannot initialize.");function s(t,e){try{r.StarmusHooks&&"function"==typeof r.StarmusHooks.doAction&&r.StarmusHooks.doAction("starmus_event",{instanceId:e.instanceId||null,event:t,severity:e.severity||"info",message:e.message||"",data:e.data||{}})}catch(r){console.warn("[Starmus] Global telemetry emit failed:",r)}}function l(){try{return navigator.deviceMemory||null}catch(r){return null}}function d(){try{return navigator.hardwareConcurrency||null}catch(r){return null}}function v(){return(v=ua(va().m(function r(t){var e,n;return va().w(function(r){for(;;)switch(r.p=r.n){case 0:if("C"!==t){r.n=1;break}return r.a(2,"C");case 1:if(!navigator.storage||!navigator.storage.estimate){r.n=6;break}return r.p=2,r.n=3,navigator.storage.estimate();case 3:if(e=r.v,!((n=(e.quota||0)/1024/1024)&&n<80)){r.n=4;break}return r.a(2,"C");case 4:r.n=6;break;case 5:r.p=5,r.v;case 6:if(!navigator.permissions||!navigator.permissions.query){r.n=11;break}return r.p=7,r.n=8,navigator.permissions.query({name:"microphone"});case 8:if("denied"!==r.v.state){r.n=9;break}return r.a(2,"C");case 9:r.n=11;break;case 10:r.p=10,r.v;case 11:return r.a(2,t)}},r,null,[[7,10],[2,5]])}))).apply(this,arguments)}function p(){try{var t=!(!navigator.mediaDevices||"function"!=typeof navigator.mediaDevices.getUserMedia),e="function"==typeof r.MediaRecorder,n=!(!r.AudioContext&&!r.webkitAudioContext);return t&&e&&n}catch(r){return!1}}function y(r,t,e){var n=document.createElement("script");n.src=r,n.async=!0,n.onload=t,n.onerror=e,document.head.appendChild(n)}function h(t,e){var a=e.getAttribute("data-starmus-id");if(a||(a="starmus_"+Date.now()+"_"+Math.random().toString(16).slice(2),e.setAttribute("data-starmus-id",a)),u[a])return a;var c=function(r){var t=r.capabilities||{},e=r.network||{};if(/\bCrOS\b|Chrome OS/i.test(navigator.userAgent))return"A";if(!t.mediaRecorder||!t.webrtc)return"C";var n=l(),i=d();if(n&&n<1)return"C";if(i){if(1===i)return"C";if(2===i)return"B"}return/wv|Crosswalk|Android WebView|Opera Mini/i.test(navigator.userAgent)?"C":"2g"===e.effectiveType||"slow-2g"===e.effectiveType||n&&n<2?"B":"A"}(t);(function(r){return v.apply(this,arguments)})(c).then(function(c){console.log("[Starmus] Instance",a,"-> Tier",c),s("TIER_ASSIGN",{instanceId:a,severity:"info",message:"Tier "+c+" assigned",data:{tier:c}});var f=n({instanceId:a,env:t,tier:c});f.getState().tier||f.dispatch({type:"starmus/tier-ready",payload:{tier:c}});var l={step1:e.querySelector(".starmus-step-1"),step2:e.querySelector(".starmus-step-2"),continueBtn:e.querySelector('[data-starmus-action="continue"]'),messageBox:e.querySelector("[data-starmus-message-box]"),setupMicBtn:e.querySelector('[data-starmus-action="setup-mic"]'),recordBtn:e.querySelector('[data-starmus-action="record"]'),pauseBtn:e.querySelector('[data-starmus-action="pause"]'),resumeBtn:e.querySelector('[data-starmus-action="resume"]'),stopBtn:e.querySelector('[data-starmus-action="stop"]'),submitBtn:e.querySelector('[data-starmus-action="submit"]'),resetBtn:e.querySelector('[data-starmus-action="reset"]'),fileInput:e.querySelector('input[type="file"]'),statusEl:e.querySelector("[data-starmus-status]"),progressEl:e.querySelector("[data-starmus-progress]"),progressWrap:e.querySelector(".starmus-progress-wrap"),recorderContainer:e.querySelector("[data-starmus-recorder-container]"),fallbackContainer:e.querySelector("[data-starmus-fallback-container]")};i(f,l),o(f,a,t),"C"!==c&&p()?y("starmus-recorder.js",function(){"function"==typeof r.initStarmusRecorder?r.initStarmusRecorder(f,a):(console.warn("[Starmus] Recorder init missing â falling back"),y("starmus-recorder-legacy.js",function(){"function"==typeof r.initStarmusRecorderLegacy?r.initStarmusRecorderLegacy(f,a):f.dispatch({type:"starmus/error",payload:{message:"Recorder init failed",retryable:!1}})}))},function(){console.warn("[Starmus] Full recorder load failed â falling back to legacy"),y("starmus-recorder-legacy.js",function(){"function"==typeof r.initStarmusRecorderLegacy?r.initStarmusRecorderLegacy(f,a):f.dispatch({type:"starmus/error",payload:{message:"Recorder fallback load failed",retryable:!1}})})}):(l.recorderContainer&&(l.recorderContainer.style.display="none"),l.fallbackContainer&&(l.fallbackContainer.style.display="block"),y("starmus-recorder-legacy.js",function(){"function"==typeof r.initStarmusRecorderLegacy?r.initStarmusRecorderLegacy(f,a):f.dispatch({type:"starmus/error",payload:{message:"Legacy recorder not available",retryable:!1}})},function(){console.error("[Starmus] Failed to load legacy recorder."),f.dispatch({type:"starmus/error",payload:{message:"Legacy recorder load failed",retryable:!1}})})),u[a]={store:f,form:e,elements:l,tier:c}})}function m(r){var t=r.detail||{},e=document.querySelectorAll('form[data-starmus="recorder"]');if(e&&0!==e.length)for(var n=0;n<e.length;n++)h(t,e[n])}function g(){var t=function(){try{return navigator.connection||navigator.mozConnection||navigator.webkitConnection||null}catch(r){return null}}()||{},e={browser:{userAgent:navigator.userAgent},device:{type:/mobile|android|iphone|ipad/i.test(navigator.userAgent)?"mobile":"desktop",memory:l(),concurrency:d()},capabilities:{webrtc:!(!navigator.mediaDevices||"function"!=typeof navigator.mediaDevices.getUserMedia),mediaRecorder:!!r.MediaRecorder,indexedDB:!!r.indexedDB},network:{effectiveType:t.effectiveType||"unknown",downlink:t.downlink||null,saveData:t.saveData||!1}};s("E_ENV_FALLBACK_INIT",{severity:"warning",message:"Fallback env used",data:{fallbackEnv:e}}),m({detail:e})}}("undefined"!=typeof window?window:globalThis)}();
