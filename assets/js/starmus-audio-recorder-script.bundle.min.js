function r(r,t){(null==t||t>r.length)&&(t=r.length);for(var e=0,n=Array(t);e<t;e++)n[e]=r[e];return n}function t(r,t,e,n,i,o,a){try{var u=r[o](a),c=u.value}catch(r){return void e(r)}u.done?t(c):Promise.resolve(c).then(n,i)}function e(r){return function(){var e=this,n=arguments;return new Promise(function(i,o){var a=r.apply(e,n);function u(r){t(a,i,o,u,c,"next",r)}function c(r){t(a,i,o,u,c,"throw",r)}u(void 0)})}}function n(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function i(r,t,e){return t&&function(r,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,p(n.key),n)}}(r.prototype,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function o(r,t){var e="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!e){if(Array.isArray(r)||(e=y(r))||t){e&&(r=e);var n=0,i=function(){};return{s:i,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(r){throw r},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){e=e.call(r)},n:function(){var r=e.next();return a=r.done,r},e:function(r){u=!0,o=r},f:function(){try{a||null==e.return||e.return()}finally{if(u)throw o}}}}function a(r,t,e){return(t=p(t))in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function u(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})),e.push.apply(e,n)}return e}function c(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */
var r,t,e="function"==typeof Symbol?Symbol:{},n=e.iterator||"@@iterator",i=e.toStringTag||"@@toStringTag";function o(e,n,i,o){var c=n&&n.prototype instanceof u?n:u,f=Object.create(c.prototype);return s(f,"_invoke",function(e,n,i){var o,u,c,s=0,f=i||[],l=!1,d={p:0,n:0,v:r,a:p,f:p.bind(r,4),d:function(t,e){return o=t,u=0,c=r,d.n=e,a}};function p(e,n){for(u=e,c=n,t=0;!l&&s&&!i&&t<f.length;t++){var i,o=f[t],p=d.p,v=o[2];e>3?(i=v===n)&&(c=o[(u=o[4])?5:(u=3,3)],o[4]=o[5]=r):o[0]<=p&&((i=e<2&&p<o[1])?(u=0,d.v=n,d.n=o[1]):p<v&&(i=e<3||o[0]>n||n>v)&&(o[4]=e,o[5]=n,d.n=v,u=0))}if(i||e>1)return a;throw l=!0,n}return function(i,f,v){if(s>1)throw TypeError("Generator is already running");for(l&&1===f&&p(f,v),u=f,c=v;(t=u<2?r:c)||!l;){o||(u?u<3?(u>1&&(d.n=-1),p(u,c)):d.n=c:d.v=c);try{if(s=2,o){if(u||(i="next"),t=o[i]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,u<2&&(u=0)}else 1===u&&(t=o.return)&&t.call(o),u<2&&(c=TypeError("The iterator does not provide a '"+i+"' method"),u=1);o=r}else if((t=(l=d.n<0)?c:e.call(n,d))!==a)break}catch(t){o=r,u=1,c=t}finally{s=1}}return{value:t,done:l}}}(e,i,o),!0),f}var a={};function u(){}function f(){}function l(){}t=Object.getPrototypeOf;var d=[][n]?t(t([][n]())):(s(t={},n,function(){return this}),t),p=l.prototype=u.prototype=Object.create(d);function v(r){return Object.setPrototypeOf?Object.setPrototypeOf(r,l):(r.__proto__=l,s(r,i,"GeneratorFunction")),r.prototype=Object.create(p),r}return f.prototype=l,s(p,"constructor",l),s(l,"constructor",f),f.displayName="GeneratorFunction",s(l,i,"GeneratorFunction"),s(p),s(p,i,"Generator"),s(p,n,function(){return this}),s(p,"toString",function(){return"[object Generator]"}),(c=function(){return{w:o,m:v}})()}function s(r,t,e,n){var i=Object.defineProperty;try{i({},"",{})}catch(r){i=0}s=function(r,t,e,n){function o(t,e){s(r,t,function(r){return this._invoke(t,e,r)})}t?i?i(r,t,{value:e,enumerable:!n,configurable:!n,writable:!n}):r[t]=e:(o("next",0),o("throw",1),o("return",2))},s(r,t,e,n)}function f(r){if(null!=r){var t=r["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],e=0;if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length))return{next:function(){return r&&e>=r.length&&(r=void 0),{value:r&&r[e++],done:!r}}}}throw new TypeError(typeof r+" is not iterable")}function l(r,t){return function(r){if(Array.isArray(r))return r}(r)||function(r,t){var e=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=e){var n,i,o,a,u=[],c=!0,s=!1;try{if(o=(e=e.call(r)).next,0===t);else for(;!(c=(n=o.call(e)).done)&&(u.push(n.value),u.length!==t);c=!0);}catch(r){s=!0,i=r}finally{try{if(!c&&null!=e.return&&(a=e.return(),Object(a)!==a))return}finally{if(s)throw i}}return u}}(r,t)||y(r,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(t)||y(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(r){var t=function(r,t){if("object"!=typeof r||!r)return r;var e=r[Symbol.toPrimitive];if(void 0!==e){var n=e.call(r,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(r,"string");return"symbol"==typeof t?t:t+""}function v(r){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},v(r)}function y(t,e){if(t){if("string"==typeof t)return r(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}var h,m,g="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},b={};function w(){if(m)return h;m=1;var r=function(r){return r&&r.Math===Math&&r};return h=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof g&&g)||r("object"==typeof h&&h)||function(){return this}()||Function("return this")()}var S,T,A,O,E,x,k,R,I={};function P(){return T?S:(T=1,S=function(r){try{return!!r()}catch(r){return!0}})}function C(){if(O)return A;O=1;var r=P();return A=!r(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})}function M(){if(x)return E;x=1;var r=P();return E=!r(function(){var r=function(){}.bind();return"function"!=typeof r||r.hasOwnProperty("prototype")})}function j(){if(R)return k;R=1;var r=M(),t=Function.prototype.call;return k=r?t.bind(t):function(){return t.apply(t,arguments)},k}var _,N,D,B,L,F,U,q,z,H,W,G,V,$,Y,J,Q,K,X,Z,rr,tr,er,nr,ir,or,ar,ur,cr,sr,fr,lr,dr,pr,vr,yr,hr,mr,gr,br,wr,Sr={};function Tr(){if(_)return Sr;_=1;var r={}.propertyIsEnumerable,t=Object.getOwnPropertyDescriptor,e=t&&!r.call({1:2},1);return Sr.f=e?function(r){var e=t(this,r);return!!e&&e.enumerable}:r,Sr}function Ar(){return D?N:(D=1,N=function(r,t){return{enumerable:!(1&r),configurable:!(2&r),writable:!(4&r),value:t}})}function Or(){if(L)return B;L=1;var r=M(),t=Function.prototype,e=t.call,n=r&&t.bind.bind(e,e);return B=r?n:function(r){return function(){return e.apply(r,arguments)}},B}function Er(){if(U)return F;U=1;var r=Or(),t=r({}.toString),e=r("".slice);return F=function(r){return e(t(r),8,-1)}}function xr(){if(z)return q;z=1;var r=Or(),t=P(),e=Er(),n=Object,i=r("".split);return q=t(function(){return!n("z").propertyIsEnumerable(0)})?function(r){return"String"===e(r)?i(r,""):n(r)}:n}function kr(){return W?H:(W=1,H=function(r){return null==r})}function Rr(){if(V)return G;V=1;var r=kr(),t=TypeError;return G=function(e){if(r(e))throw new t("Can't call method on "+e);return e}}function Ir(){if(Y)return $;Y=1;var r=xr(),t=Rr();return $=function(e){return r(t(e))}}function Pr(){if(Q)return J;Q=1;var r="object"==typeof document&&document.all;return J=void 0===r&&void 0!==r?function(t){return"function"==typeof t||t===r}:function(r){return"function"==typeof r}}function Cr(){if(X)return K;X=1;var r=Pr();return K=function(t){return"object"==typeof t?null!==t:r(t)}}function Mr(){if(rr)return Z;rr=1;var r=w(),t=Pr();return Z=function(e,n){return arguments.length<2?(i=r[e],t(i)?i:void 0):r[e]&&r[e][n];var i},Z}function jr(){if(er)return tr;er=1;var r=Or();return tr=r({}.isPrototypeOf)}function _r(){if(ir)return nr;ir=1;var r=w().navigator,t=r&&r.userAgent;return nr=t?String(t):""}function Nr(){if(ar)return or;ar=1;var r,t,e=w(),n=_r(),i=e.process,o=e.Deno,a=i&&i.versions||o&&o.version,u=a&&a.v8;return u&&(t=(r=u.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!t&&n&&(!(r=n.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=n.match(/Chrome\/(\d+)/))&&(t=+r[1]),or=t}function Dr(){if(cr)return ur;cr=1;var r=Nr(),t=P(),e=w().String;return ur=!!Object.getOwnPropertySymbols&&!t(function(){var t=Symbol("symbol detection");return!e(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41})}function Br(){if(fr)return sr;fr=1;var r=Dr();return sr=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator}function Lr(){if(dr)return lr;dr=1;var r=Mr(),t=Pr(),e=jr(),n=Br(),i=Object;return lr=n?function(r){return"symbol"==typeof r}:function(n){var o=r("Symbol");return t(o)&&e(o.prototype,i(n))}}function Fr(){if(vr)return pr;vr=1;var r=String;return pr=function(t){try{return r(t)}catch(r){return"Object"}}}function Ur(){if(hr)return yr;hr=1;var r=Pr(),t=Fr(),e=TypeError;return yr=function(n){if(r(n))return n;throw new e(t(n)+" is not a function")}}function qr(){if(gr)return mr;gr=1;var r=Ur(),t=kr();return mr=function(e,n){var i=e[n];return t(i)?void 0:r(i)}}function zr(){if(wr)return br;wr=1;var r=j(),t=Pr(),e=Cr(),n=TypeError;return br=function(i,o){var a,u;if("string"===o&&t(a=i.toString)&&!e(u=r(a,i)))return u;if(t(a=i.valueOf)&&!e(u=r(a,i)))return u;if("string"!==o&&t(a=i.toString)&&!e(u=r(a,i)))return u;throw new n("Can't convert object to primitive value")}}var Hr,Wr,Gr,Vr,$r,Yr,Jr,Qr,Kr,Xr,Zr,rt,tt,et,nt,it,ot,at,ut,ct,st,ft,lt,dt,pt={exports:{}};function vt(){return Wr?Hr:(Wr=1,Hr=!1)}function yt(){if(Vr)return Gr;Vr=1;var r=w(),t=Object.defineProperty;return Gr=function(e,n){try{t(r,e,{value:n,configurable:!0,writable:!0})}catch(t){r[e]=n}return n}}function ht(){if($r)return pt.exports;$r=1;var r=vt(),t=w(),e=yt(),n="__core-js_shared__",i=pt.exports=t[n]||e(n,{});return(i.versions||(i.versions=[])).push({version:"3.47.0",mode:r?"pure":"global",copyright:"Â© 2014-2025 Denis Pushkarev (zloirock.ru), 2025 CoreJS Company (core-js.io)",license:"https://github.com/zloirock/core-js/blob/v3.47.0/LICENSE",source:"https://github.com/zloirock/core-js"}),pt.exports}function mt(){if(Jr)return Yr;Jr=1;var r=ht();return Yr=function(t,e){return r[t]||(r[t]=e||{})}}function gt(){if(Kr)return Qr;Kr=1;var r=Rr(),t=Object;return Qr=function(e){return t(r(e))}}function bt(){if(Zr)return Xr;Zr=1;var r=Or(),t=gt(),e=r({}.hasOwnProperty);return Xr=Object.hasOwn||function(r,n){return e(t(r),n)}}function wt(){if(tt)return rt;tt=1;var r=Or(),t=0,e=Math.random(),n=r(1.1.toString);return rt=function(r){return"Symbol("+(void 0===r?"":r)+")_"+n(++t+e,36)}}function St(){if(nt)return et;nt=1;var r=w(),t=mt(),e=bt(),n=wt(),i=Dr(),o=Br(),a=r.Symbol,u=t("wks"),c=o?a.for||a:a&&a.withoutSetter||n;return et=function(r){return e(u,r)||(u[r]=i&&e(a,r)?a[r]:c("Symbol."+r)),u[r]}}function Tt(){if(ot)return it;ot=1;var r=j(),t=Cr(),e=Lr(),n=qr(),i=zr(),o=St(),a=TypeError,u=o("toPrimitive");return it=function(o,c){if(!t(o)||e(o))return o;var s,f=n(o,u);if(f){if(void 0===c&&(c="default"),s=r(f,o,c),!t(s)||e(s))return s;throw new a("Can't convert object to primitive value")}return void 0===c&&(c="number"),i(o,c)}}function At(){if(ut)return at;ut=1;var r=Tt(),t=Lr();return at=function(e){var n=r(e,"string");return t(n)?n:n+""}}function Ot(){if(st)return ct;st=1;var r=w(),t=Cr(),e=r.document,n=t(e)&&t(e.createElement);return ct=function(r){return n?e.createElement(r):{}}}function Et(){if(lt)return ft;lt=1;var r=C(),t=P(),e=Ot();return ft=!r&&!t(function(){return 7!==Object.defineProperty(e("div"),"a",{get:function(){return 7}}).a})}function xt(){if(dt)return I;dt=1;var r=C(),t=j(),e=Tr(),n=Ar(),i=Ir(),o=At(),a=bt(),u=Et(),c=Object.getOwnPropertyDescriptor;return I.f=r?c:function(r,s){if(r=i(r),s=o(s),u)try{return c(r,s)}catch(r){}if(a(r,s))return n(!t(e.f,r,s),r[s])},I}var kt,Rt,It,Pt,Ct,Mt,jt,_t={};function Nt(){if(Rt)return kt;Rt=1;var r=C(),t=P();return kt=r&&t(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})}function Dt(){if(Pt)return It;Pt=1;var r=Cr(),t=String,e=TypeError;return It=function(n){if(r(n))return n;throw new e(t(n)+" is not an object")}}function Bt(){if(Ct)return _t;Ct=1;var r=C(),t=Et(),e=Nt(),n=Dt(),i=At(),o=TypeError,a=Object.defineProperty,u=Object.getOwnPropertyDescriptor,c="enumerable",s="configurable",f="writable";return _t.f=r?e?function(r,t,e){if(n(r),t=i(t),n(e),"function"==typeof r&&"prototype"===t&&"value"in e&&f in e&&!e[f]){var o=u(r,t);o&&o[f]&&(r[t]=e.value,e={configurable:s in e?e[s]:o[s],enumerable:c in e?e[c]:o[c],writable:!1})}return a(r,t,e)}:a:function(r,e,u){if(n(r),e=i(e),n(u),t)try{return a(r,e,u)}catch(r){}if("get"in u||"set"in u)throw new o("Accessors not supported");return"value"in u&&(r[e]=u.value),r},_t}function Lt(){if(jt)return Mt;jt=1;var r=C(),t=Bt(),e=Ar();return Mt=r?function(r,n,i){return t.f(r,n,e(1,i))}:function(r,t,e){return r[t]=e,r}}var Ft,Ut,qt,zt,Ht,Wt,Gt,Vt,$t,Yt,Jt,Qt,Kt,Xt,Zt,re={exports:{}};function te(){if(Ut)return Ft;Ut=1;var r=C(),t=bt(),e=Function.prototype,n=r&&Object.getOwnPropertyDescriptor,i=t(e,"name"),o=i&&"something"===function(){}.name,a=i&&(!r||r&&n(e,"name").configurable);return Ft={EXISTS:i,PROPER:o,CONFIGURABLE:a}}function ee(){if(zt)return qt;zt=1;var r=Or(),t=Pr(),e=ht(),n=r(Function.toString);return t(e.inspectSource)||(e.inspectSource=function(r){return n(r)}),qt=e.inspectSource}function ne(){if(Vt)return Gt;Vt=1;var r=mt(),t=wt(),e=r("keys");return Gt=function(r){return e[r]||(e[r]=t(r))}}function ie(){return Yt?$t:(Yt=1,$t={})}function oe(){if(Qt)return Jt;Qt=1;var r,t,e,n=function(){if(Wt)return Ht;Wt=1;var r=w(),t=Pr(),e=r.WeakMap;return Ht=t(e)&&/native code/.test(String(e))}(),i=w(),o=Cr(),a=Lt(),u=bt(),c=ht(),s=ne(),f=ie(),l="Object already initialized",d=i.TypeError,p=i.WeakMap;if(n||c.state){var v=c.state||(c.state=new p);v.get=v.get,v.has=v.has,v.set=v.set,r=function(r,t){if(v.has(r))throw new d(l);return t.facade=r,v.set(r,t),t},t=function(r){return v.get(r)||{}},e=function(r){return v.has(r)}}else{var y=s("state");f[y]=!0,r=function(r,t){if(u(r,y))throw new d(l);return t.facade=r,a(r,y,t),t},t=function(r){return u(r,y)?r[y]:{}},e=function(r){return u(r,y)}}return Jt={set:r,get:t,has:e,enforce:function(n){return e(n)?t(n):r(n,{})},getterFor:function(r){return function(e){var n;if(!o(e)||(n=t(e)).type!==r)throw new d("Incompatible receiver, "+r+" required");return n}}}}function ae(){if(Kt)return re.exports;Kt=1;var r=Or(),t=P(),e=Pr(),n=bt(),i=C(),o=te().CONFIGURABLE,a=ee(),u=oe(),c=u.enforce,s=u.get,f=String,l=Object.defineProperty,d=r("".slice),p=r("".replace),v=r([].join),y=i&&!t(function(){return 8!==l(function(){},"length",{value:8}).length}),h=String(String).split("String"),m=re.exports=function(r,t,e){"Symbol("===d(f(t),0,7)&&(t="["+p(f(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),e&&e.getter&&(t="get "+t),e&&e.setter&&(t="set "+t),(!n(r,"name")||o&&r.name!==t)&&(i?l(r,"name",{value:t,configurable:!0}):r.name=t),y&&e&&n(e,"arity")&&r.length!==e.arity&&l(r,"length",{value:e.arity});try{e&&n(e,"constructor")&&e.constructor?i&&l(r,"prototype",{writable:!1}):r.prototype&&(r.prototype=void 0)}catch(r){}var a=c(r);return n(a,"source")||(a.source=v(h,"string"==typeof t?t:"")),r};return Function.prototype.toString=m(function(){return e(this)&&s(this).source||a(this)},"toString"),re.exports}function ue(){if(Zt)return Xt;Zt=1;var r=Pr(),t=Bt(),e=ae(),n=yt();return Xt=function(i,o,a,u){u||(u={});var c=u.enumerable,s=void 0!==u.name?u.name:o;if(r(a)&&e(a,s,u),u.global)c?i[o]=a:n(o,a);else{try{u.unsafe?i[o]&&(c=!0):delete i[o]}catch(r){}c?i[o]=a:t.f(i,o,{value:a,enumerable:!1,configurable:!u.nonConfigurable,writable:!u.nonWritable})}return i}}var ce,se,fe,le,de,pe,ve,ye,he,me,ge,be,we,Se,Te,Ae,Oe,Ee={};function xe(){if(le)return fe;le=1;var r=function(){if(se)return ce;se=1;var r=Math.ceil,t=Math.floor;return ce=Math.trunc||function(e){var n=+e;return(n>0?t:r)(n)}}();return fe=function(t){var e=+t;return e!=e||0===e?0:r(e)}}function ke(){if(pe)return de;pe=1;var r=xe(),t=Math.max,e=Math.min;return de=function(n,i){var o=r(n);return o<0?t(o+i,0):e(o,i)}}function Re(){if(ye)return ve;ye=1;var r=xe(),t=Math.min;return ve=function(e){var n=r(e);return n>0?t(n,9007199254740991):0}}function Ie(){if(me)return he;me=1;var r=Re();return he=function(t){return r(t.length)}}function Pe(){if(be)return ge;be=1;var r=Ir(),t=ke(),e=Ie(),n=function(n){return function(i,o,a){var u=r(i),c=e(u);if(0===c)return!n&&-1;var s,f=t(a,c);if(n&&o!=o){for(;c>f;)if((s=u[f++])!=s)return!0}else for(;c>f;f++)if((n||f in u)&&u[f]===o)return n||f||0;return!n&&-1}};return ge={includes:n(!0),indexOf:n(!1)}}function Ce(){if(Se)return we;Se=1;var r=Or(),t=bt(),e=Ir(),n=Pe().indexOf,i=ie(),o=r([].push);return we=function(r,a){var u,c=e(r),s=0,f=[];for(u in c)!t(i,u)&&t(c,u)&&o(f,u);for(;a.length>s;)t(c,u=a[s++])&&(~n(f,u)||o(f,u));return f}}function Me(){return Ae?Te:(Ae=1,Te=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"])}function je(){if(Oe)return Ee;Oe=1;var r=Ce(),t=Me().concat("length","prototype");return Ee.f=Object.getOwnPropertyNames||function(e){return r(e,t)},Ee}var _e,Ne,De,Be,Le,Fe,Ue,qe,ze,He,We,Ge,Ve,$e,Ye={};function Je(){if(De)return Ne;De=1;var r=Mr(),t=Or(),e=je(),n=(_e||(_e=1,Ye.f=Object.getOwnPropertySymbols),Ye),i=Dt(),o=t([].concat);return Ne=r("Reflect","ownKeys")||function(r){var t=e.f(i(r)),a=n.f;return a?o(t,a(r)):t}}function Qe(){if(Le)return Be;Le=1;var r=bt(),t=Je(),e=xt(),n=Bt();return Be=function(i,o,a){for(var u=t(o),c=n.f,s=e.f,f=0;f<u.length;f++){var l=u[f];r(i,l)||a&&r(a,l)||c(i,l,s(o,l))}}}function Ke(){if(Ue)return Fe;Ue=1;var r=P(),t=Pr(),e=/#|\.prototype\./,n=function(e,n){var c=o[i(e)];return c===u||c!==a&&(t(n)?r(n):!!n)},i=n.normalize=function(r){return String(r).replace(e,".").toLowerCase()},o=n.data={},a=n.NATIVE="N",u=n.POLYFILL="P";return Fe=n}function Xe(){if(ze)return qe;ze=1;var r=w(),t=xt().f,e=Lt(),n=ue(),i=yt(),o=Qe(),a=Ke();return qe=function(u,c){var s,f,l,d,p,v=u.target,y=u.global,h=u.stat;if(s=y?r:h?r[v]||i(v,{}):r[v]&&r[v].prototype)for(f in c){if(d=c[f],l=u.dontCallGetSet?(p=t(s,f))&&p.value:s[f],!a(y?f:v+(h?".":"#")+f,u.forced)&&void 0!==l){if(typeof d==typeof l)continue;o(d,l)}(u.sham||l&&l.sham)&&e(d,"sham",!0),n(s,f,d,u)}}}function Ze(){if(We)return He;We=1;var r=Er(),t=Or();return He=function(e){if("Function"===r(e))return t(e)}}function rn(){if(Ve)return Ge;Ve=1;var r=P();return Ge=function(t,e){var n=[][t];return!!n&&r(function(){n.call(null,e||function(){return 1},1)})}}!function(){if($e)return b;$e=1;var r=Xe(),t=Ze(),e=Pe().indexOf,n=rn(),i=t([].indexOf),o=!!i&&1/i([1],1,-0)<0;r({target:"Array",proto:!0,forced:o||!n("indexOf")},{indexOf:function(r){var t=arguments.length>1?arguments[1]:void 0;return o?i(this,r,t)||0:e(this,r,t)}})}();var tn,en,nn,on,an,un,cn,sn,fn,ln,dn,pn,vn,yn,hn,mn,gn,bn,wn,Sn,Tn,An,On,En,xn,kn,Rn,In,Pn,Cn,Mn,jn,_n,Nn,Dn,Bn={};function Ln(){if(en)return tn;en=1;var r=Ce(),t=Me();return tn=Object.keys||function(e){return r(e,t)}}function Fn(){if(an)return on;an=1;var r=Mr();return on=r("document","documentElement")}function Un(){if(cn)return un;cn=1;var r,t=Dt(),e=function(){if(nn)return Bn;nn=1;var r=C(),t=Nt(),e=Bt(),n=Dt(),i=Ir(),o=Ln();return Bn.f=r&&!t?Object.defineProperties:function(r,t){n(r);for(var a,u=i(t),c=o(t),s=c.length,f=0;s>f;)e.f(r,a=c[f++],u[a]);return r},Bn}(),n=Me(),i=ie(),o=Fn(),a=Ot(),u=ne(),c="prototype",s="script",f=u("IE_PROTO"),l=function(){},d=function(r){return"<"+s+">"+r+"</"+s+">"},p=function(r){r.write(d("")),r.close();var t=r.parentWindow.Object;return r=null,t},v=function(){try{r=new ActiveXObject("htmlfile")}catch(r){}var t,e,i;v="undefined"!=typeof document?document.domain&&r?p(r):(e=a("iframe"),i="java"+s+":",e.style.display="none",o.appendChild(e),e.src=String(i),(t=e.contentWindow.document).open(),t.write(d("document.F=Object")),t.close(),t.F):p(r);for(var u=n.length;u--;)delete v[c][n[u]];return v()};return i[f]=!0,un=Object.create||function(r,n){var i;return null!==r?(l[c]=t(r),i=new l,l[c]=null,i[f]=r):i=v(),void 0===n?i:e.f(i,n)}}function qn(){if(fn)return sn;fn=1;var r=St(),t=Un(),e=Bt().f,n=r("unscopables"),i=Array.prototype;return void 0===i[n]&&e(i,n,{configurable:!0,value:t(null)}),sn=function(r){i[n][r]=!0}}function zn(){return dn?ln:(dn=1,ln={})}function Hn(){if(hn)return yn;hn=1;var r=bt(),t=Pr(),e=gt(),n=ne(),i=function(){if(vn)return pn;vn=1;var r=P();return pn=!r(function(){function r(){}return r.prototype.constructor=null,Object.getPrototypeOf(new r)!==r.prototype})}(),o=n("IE_PROTO"),a=Object,u=a.prototype;return yn=i?a.getPrototypeOf:function(n){var i=e(n);if(r(i,o))return i[o];var c=i.constructor;return t(c)&&i instanceof c?c.prototype:i instanceof a?u:null}}function Wn(){if(gn)return mn;gn=1;var r,t,e,n=P(),i=Pr(),o=Cr(),a=Un(),u=Hn(),c=ue(),s=St(),f=vt(),l=s("iterator"),d=!1;return[].keys&&("next"in(e=[].keys())?(t=u(u(e)))!==Object.prototype&&(r=t):d=!0),!o(r)||n(function(){var t={};return r[l].call(t)!==t})?r={}:f&&(r=a(r)),i(r[l])||c(r,l,function(){return this}),mn={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:d}}function Gn(){if(wn)return bn;wn=1;var r=Bt().f,t=bt(),e=St()("toStringTag");return bn=function(n,i,o){n&&!o&&(n=n.prototype),n&&!t(n,e)&&r(n,e,{configurable:!0,value:i})}}function Vn(){if(xn)return En;xn=1;var r=Cr();return En=function(t){return r(t)||null===t}}function $n(){if(Rn)return kn;Rn=1;var r=Vn(),t=String,e=TypeError;return kn=function(n){if(r(n))return n;throw new e("Can't set "+t(n)+" as a prototype")}}function Yn(){if(Pn)return In;Pn=1;var r=function(){if(On)return An;On=1;var r=Or(),t=Ur();return An=function(e,n,i){try{return r(t(Object.getOwnPropertyDescriptor(e,n)[i]))}catch(r){}}}(),t=Cr(),e=Rr(),n=$n();return In=Object.setPrototypeOf||("__proto__"in{}?function(){var i,o=!1,a={};try{(i=r(Object.prototype,"__proto__","set"))(a,[]),o=a instanceof Array}catch(r){}return function(r,a){return e(r),n(a),t(r)?(o?i(r,a):r.__proto__=a,r):r}}():void 0)}function Jn(){if(Mn)return Cn;Mn=1;var r=Xe(),t=j(),e=vt(),n=te(),i=Pr(),o=function(){if(Tn)return Sn;Tn=1;var r=Wn().IteratorPrototype,t=Un(),e=Ar(),n=Gn(),i=zn(),o=function(){return this};return Sn=function(a,u,c,s){var f=u+" Iterator";return a.prototype=t(r,{next:e(+!s,c)}),n(a,f,!1,!0),i[f]=o,a}}(),a=Hn(),u=Yn(),c=Gn(),s=Lt(),f=ue(),l=St(),d=zn(),p=Wn(),v=n.PROPER,y=n.CONFIGURABLE,h=p.IteratorPrototype,m=p.BUGGY_SAFARI_ITERATORS,g=l("iterator"),b="keys",w="values",S="entries",T=function(){return this};return Cn=function(n,l,p,A,O,E,x){o(p,l,A);var k,R,I,P=function(r){if(r===O&&N)return N;if(!m&&r&&r in j)return j[r];switch(r){case b:case w:case S:return function(){return new p(this,r)}}return function(){return new p(this)}},C=l+" Iterator",M=!1,j=n.prototype,_=j[g]||j["@@iterator"]||O&&j[O],N=!m&&_||P(O),D="Array"===l&&j.entries||_;if(D&&(k=a(D.call(new n)))!==Object.prototype&&k.next&&(e||a(k)===h||(u?u(k,h):i(k[g])||f(k,g,T)),c(k,C,!0,!0),e&&(d[C]=T)),v&&O===w&&_&&_.name!==w&&(!e&&y?s(j,"name",w):(M=!0,N=function(){return t(_,this)})),O)if(R={values:P(w),keys:E?N:P(b),entries:P(S)},x)for(I in R)(m||M||!(I in j))&&f(j,I,R[I]);else r({target:l,proto:!0,forced:m||M},R);return e&&!x||j[g]===N||f(j,g,N,{name:O}),d[l]=N,R}}function Qn(){return _n?jn:(_n=1,jn=function(r,t){return{value:r,done:t}})}function Kn(){if(Dn)return Nn;Dn=1;var r=Ir(),t=qn(),e=zn(),n=oe(),i=Bt().f,o=Jn(),a=Qn(),u=vt(),c=C(),s="Array Iterator",f=n.set,l=n.getterFor(s);Nn=o(Array,"Array",function(t,e){f(this,{type:s,target:r(t),index:0,kind:e})},function(){var r=l(this),t=r.target,e=r.index++;if(!t||e>=t.length)return r.target=null,a(void 0,!0);switch(r.kind){case"keys":return a(e,!1);case"values":return a(t[e],!1)}return a([e,t[e]],!1)},"values");var d=e.Arguments=e.Array;if(t("keys"),t("values"),t("entries"),!u&&c&&"values"!==d.name)try{i(d,"name",{value:"values"})}catch(r){}return Nn}Kn();var Xn,Zn,ri,ti,ei,ni,ii,oi,ai,ui,ci,si,fi,li,di,pi={};function vi(){if(Zn)return Xn;Zn=1;var r=Er();return Xn=Array.isArray||function(t){return"Array"===r(t)}}function yi(){if(ti)return ri;ti=1;var r={};return r[St()("toStringTag")]="z",ri="[object z]"===String(r)}function hi(){if(ni)return ei;ni=1;var r=yi(),t=Pr(),e=Er(),n=St()("toStringTag"),i=Object,o="Arguments"===e(function(){return arguments}());return ei=r?e:function(r){var a,u,c;return void 0===r?"Undefined":null===r?"Null":"string"==typeof(u=function(r,t){try{return r[t]}catch(r){}}(a=i(r),n))?u:o?e(a):"Object"===(c=e(a))&&t(a.callee)?"Arguments":c}}function mi(){if(oi)return ii;oi=1;var r=Or(),t=P(),e=Pr(),n=hi(),i=Mr(),o=ee(),a=function(){},u=i("Reflect","construct"),c=/^\s*(?:class|function)\b/,s=r(c.exec),f=!c.test(a),l=function(r){if(!e(r))return!1;try{return u(a,[],r),!0}catch(r){return!1}},d=function(r){if(!e(r))return!1;switch(n(r)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return f||!!s(c,o(r))}catch(r){return!0}};return d.sham=!0,ii=!u||t(function(){var r;return l(l.call)||!l(Object)||!l(function(){r=!0})||r})?d:l}function gi(){if(ui)return ai;ui=1;var r=C(),t=Bt(),e=Ar();return ai=function(n,i,o){r?t.f(n,i,e(0,o)):n[i]=o}}function bi(){if(si)return ci;si=1;var r=P(),t=St(),e=Nr(),n=t("species");return ci=function(t){return e>=51||!r(function(){var r=[];return(r.constructor={})[n]=function(){return{foo:1}},1!==r[t](Boolean).foo})}}function wi(){if(li)return fi;li=1;var r=Or();return fi=r([].slice)}!function(){if(di)return pi;di=1;var r=Xe(),t=vi(),e=mi(),n=Cr(),i=ke(),o=Ie(),a=Ir(),u=gi(),c=St(),s=bi(),f=wi(),l=s("slice"),d=c("species"),p=Array,v=Math.max;r({target:"Array",proto:!0,forced:!l},{slice:function(r,c){var s,l,y,h=a(this),m=o(h),g=i(r,m),b=i(void 0===c?m:c,m);if(t(h)&&(s=h.constructor,(e(s)&&(s===p||t(s.prototype))||n(s)&&null===(s=s[d]))&&(s=void 0),s===p||void 0===s))return f(h,g,b);for(l=new(void 0===s?p:s)(v(b-g,0)),y=0;g<b;g++,y++)g in h&&u(l,y,h[g]);return l.length=y,l}})}();var Si,Ti,Ai,Oi,Ei,xi,ki,Ri,Ii,Pi,Ci,Mi={};function ji(){if(Oi)return Ai;Oi=1;var r=TypeError;return Ai=function(t){if(t>9007199254740991)throw r("Maximum allowed index exceeded");return t}}function _i(){if(xi)return Ei;xi=1;var r=vi(),t=mi(),e=Cr(),n=St()("species"),i=Array;return Ei=function(o){var a;return r(o)&&(a=o.constructor,(t(a)&&(a===i||r(a.prototype))||e(a)&&null===(a=a[n]))&&(a=void 0)),void 0===a?i:a}}function Ni(){if(Ri)return ki;Ri=1;var r=_i();return ki=function(t,e){return new(r(t))(0===e?0:e)}}function Di(){if(Pi)return Ii;Pi=1;var r=Fr(),t=TypeError;return Ii=function(e,n){if(!delete e[n])throw new t("Cannot delete property "+r(n)+" of "+r(e))}}!function(){if(Ci)return Mi;Ci=1;var r=Xe(),t=gt(),e=ke(),n=xe(),i=Ie(),o=function(){if(Ti)return Si;Ti=1;var r=C(),t=vi(),e=TypeError,n=Object.getOwnPropertyDescriptor,i=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(r){return r instanceof TypeError}}();return Si=i?function(r,i){if(t(r)&&!n(r,"length").writable)throw new e("Cannot set read only .length");return r.length=i}:function(r,t){return r.length=t}}(),a=ji(),u=Ni(),c=gi(),s=Di(),f=bi()("splice"),l=Math.max,d=Math.min;r({target:"Array",proto:!0,forced:!f},{splice:function(r,f){var p,v,y,h,m,g,b=t(this),w=i(b),S=e(r,w),T=arguments.length;for(0===T?p=v=0:1===T?(p=0,v=w-S):(p=T-2,v=d(l(n(f),0),w-S)),a(w+p-v),y=u(b,v),h=0;h<v;h++)(m=S+h)in b&&c(y,h,b[m]);if(y.length=v,p<v){for(h=S;h<w-v;h++)g=h+p,(m=h+v)in b?b[g]=b[m]:s(b,g);for(h=w;h>w-v+p;h--)s(b,h-1)}else if(p>v)for(h=w-v;h>S;h--)g=h+p-1,(m=h+v-1)in b?b[g]=b[m]:s(b,g);for(h=0;h<p;h++)b[h+S]=arguments[h+2];return o(b,w-v+p),y}})}();var Bi,Li,Fi,Ui={};!function(){if(Fi)return Ui;Fi=1;var r=yi(),t=ue(),e=function(){if(Li)return Bi;Li=1;var r=yi(),t=hi();return Bi=r?{}.toString:function(){return"[object "+t(this)+"]"}}();r||t(Object.prototype,"toString",e,{unsafe:!0})}();var qi,zi,Hi,Wi,Gi,Vi,$i,Yi,Ji,Qi,Ki,Xi,Zi,ro,to,eo,no,io,oo,ao,uo,co,so,fo,lo,po,vo,yo,ho,mo,go,bo,wo,So,To,Ao,Oo,Eo,xo={exports:{}},ko={};function Ro(){if(qi)return ko;qi=1;var r=Er(),t=Ir(),e=je().f,n=wi(),i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];return ko.f=function(o){return i&&"Window"===r(o)?function(r){try{return e(r)}catch(r){return n(i)}}(o):e(t(o))},ko}function Io(){if(Gi)return Wi;Gi=1;var r=P(),t=Cr(),e=Er(),n=function(){if(Hi)return zi;Hi=1;var r=P();return zi=r(function(){if("function"==typeof ArrayBuffer){var r=new ArrayBuffer(8);Object.isExtensible(r)&&Object.defineProperty(r,"a",{value:8})}})}(),i=Object.isExtensible,o=r(function(){});return Wi=o||n?function(r){return!!t(r)&&((!n||"ArrayBuffer"!==e(r))&&(!i||i(r)))}:i}function Po(){if(Yi)return xo.exports;Yi=1;var r=Xe(),t=Or(),e=ie(),n=Cr(),i=bt(),o=Bt().f,a=je(),u=Ro(),c=Io(),s=wt(),f=function(){if($i)return Vi;$i=1;var r=P();return Vi=!r(function(){return Object.isExtensible(Object.preventExtensions({}))})}(),l=!1,d=s("meta"),p=0,v=function(r){o(r,d,{value:{objectID:"O"+p++,weakData:{}}})},y=xo.exports={enable:function(){y.enable=function(){},l=!0;var e=a.f,n=t([].splice),i={};i[d]=1,e(i).length&&(a.f=function(r){for(var t=e(r),i=0,o=t.length;i<o;i++)if(t[i]===d){n(t,i,1);break}return t},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:u.f}))},fastKey:function(r,t){if(!n(r))return"symbol"==typeof r?r:("string"==typeof r?"S":"P")+r;if(!i(r,d)){if(!c(r))return"F";if(!t)return"E";v(r)}return r[d].objectID},getWeakData:function(r,t){if(!i(r,d)){if(!c(r))return!0;if(!t)return!1;v(r)}return r[d].weakData},onFreeze:function(r){return f&&l&&c(r)&&!i(r,d)&&v(r),r}};return e[d]=!0,xo.exports}function Co(){if(Qi)return Ji;Qi=1;var r=Ze(),t=Ur(),e=M(),n=r(r.bind);return Ji=function(r,i){return t(r),void 0===i?r:e?n(r,i):function(){return r.apply(i,arguments)}},Ji}function Mo(){if(Xi)return Ki;Xi=1;var r=St(),t=zn(),e=r("iterator"),n=Array.prototype;return Ki=function(r){return void 0!==r&&(t.Array===r||n[e]===r)}}function jo(){if(ro)return Zi;ro=1;var r=hi(),t=qr(),e=kr(),n=zn(),i=St()("iterator");return Zi=function(o){if(!e(o))return t(o,i)||t(o,"@@iterator")||n[r(o)]}}function _o(){if(eo)return to;eo=1;var r=j(),t=Ur(),e=Dt(),n=Fr(),i=jo(),o=TypeError;return to=function(a,u){var c=arguments.length<2?i(a):u;if(t(c))return e(r(c,a));throw new o(n(a)+" is not iterable")},to}function No(){if(io)return no;io=1;var r=j(),t=Dt(),e=qr();return no=function(n,i,o){var a,u;t(n);try{if(!(a=e(n,"return"))){if("throw"===i)throw o;return o}a=r(a,n)}catch(r){u=!0,a=r}if("throw"===i)throw o;if(u)throw a;return t(a),o}}function Do(){if(ao)return oo;ao=1;var r=Co(),t=j(),e=Dt(),n=Fr(),i=Mo(),o=Ie(),a=jr(),u=_o(),c=jo(),s=No(),f=TypeError,l=function(r,t){this.stopped=r,this.result=t},d=l.prototype;return oo=function(p,v,y){var h,m,g,b,w,S,T,A=y&&y.that,O=!(!y||!y.AS_ENTRIES),E=!(!y||!y.IS_RECORD),x=!(!y||!y.IS_ITERATOR),k=!(!y||!y.INTERRUPTED),R=r(v,A),I=function(r){return h&&s(h,"normal"),new l(!0,r)},P=function(r){return O?(e(r),k?R(r[0],r[1],I):R(r[0],r[1])):k?R(r,I):R(r)};if(E)h=p.iterator;else if(x)h=p;else{if(!(m=c(p)))throw new f(n(p)+" is not iterable");if(i(m)){for(g=0,b=o(p);b>g;g++)if((w=P(p[g]))&&a(d,w))return w;return new l(!1)}h=u(p,m)}for(S=E?p.next:h.next;!(T=t(S,h)).done;){try{w=P(T.value)}catch(r){s(h,"throw",r)}if("object"==typeof w&&w&&a(d,w))return w}return new l(!1)}}function Bo(){if(co)return uo;co=1;var r=jr(),t=TypeError;return uo=function(e,n){if(r(n,e))return e;throw new t("Incorrect invocation")}}function Lo(){if(fo)return so;fo=1;var r=St()("iterator"),t=!1;try{var e=0,n={next:function(){return{done:!!e++}},return:function(){t=!0}};n[r]=function(){return this},Array.from(n,function(){throw 2})}catch(r){}return so=function(e,n){try{if(!n&&!t)return!1}catch(r){return!1}var i=!1;try{var o={};o[r]=function(){return{next:function(){return{done:i=!0}}}},e(o)}catch(r){}return i}}function Fo(){if(po)return lo;po=1;var r=Pr(),t=Cr(),e=Yn();return lo=function(n,i,o){var a,u;return e&&r(a=i.constructor)&&a!==o&&t(u=a.prototype)&&u!==o.prototype&&e(n,u),n}}function Uo(){if(yo)return vo;yo=1;var r=Xe(),t=w(),e=Or(),n=Ke(),i=ue(),o=Po(),a=Do(),u=Bo(),c=Pr(),s=kr(),f=Cr(),l=P(),d=Lo(),p=Gn(),v=Fo();return vo=function(y,h,m){var g=-1!==y.indexOf("Map"),b=-1!==y.indexOf("Weak"),w=g?"set":"add",S=t[y],T=S&&S.prototype,A=S,O={},E=function(r){var t=e(T[r]);i(T,r,"add"===r?function(r){return t(this,0===r?0:r),this}:"delete"===r?function(r){return!(b&&!f(r))&&t(this,0===r?0:r)}:"get"===r?function(r){return b&&!f(r)?void 0:t(this,0===r?0:r)}:"has"===r?function(r){return!(b&&!f(r))&&t(this,0===r?0:r)}:function(r,e){return t(this,0===r?0:r,e),this})};if(n(y,!c(S)||!(b||T.forEach&&!l(function(){(new S).entries().next()}))))A=m.getConstructor(h,y,g,w),o.enable();else if(n(y,!0)){var x=new A,k=x[w](b?{}:-0,1)!==x,R=l(function(){x.has(1)}),I=d(function(r){new S(r)}),P=!b&&l(function(){for(var r=new S,t=5;t--;)r[w](t,t);return!r.has(-0)});I||((A=h(function(r,t){u(r,T);var e=v(new S,r,A);return s(t)||a(t,e[w],{that:e,AS_ENTRIES:g}),e})).prototype=T,T.constructor=A),(R||P)&&(E("delete"),E("has"),g&&E("get")),(P||k)&&E(w),b&&T.clear&&delete T.clear}return O[y]=A,r({global:!0,constructor:!0,forced:A!==S},O),p(A,y),b||m.setStrong(A,y,g),A}}function qo(){if(mo)return ho;mo=1;var r=ae(),t=Bt();return ho=function(e,n,i){return i.get&&r(i.get,n,{getter:!0}),i.set&&r(i.set,n,{setter:!0}),t.f(e,n,i)}}function zo(){if(bo)return go;bo=1;var r=ue();return go=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}}function Ho(){if(So)return wo;So=1;var r=Mr(),t=qo(),e=St(),n=C(),i=e("species");return wo=function(e){var o=r(e);n&&o&&!o[i]&&t(o,i,{configurable:!0,get:function(){return this}})}}function Wo(){if(Ao)return To;Ao=1;var r=Un(),t=qo(),e=zo(),n=Co(),i=Bo(),o=kr(),a=Do(),u=Jn(),c=Qn(),s=Ho(),f=C(),l=Po().fastKey,d=oe(),p=d.set,v=d.getterFor;return To={getConstructor:function(u,c,s,d){var y=u(function(t,e){i(t,h),p(t,{type:c,index:r(null),first:null,last:null,size:0}),f||(t.size=0),o(e)||a(e,t[d],{that:t,AS_ENTRIES:s})}),h=y.prototype,m=v(c),g=function(r,t,e){var n,i,o=m(r),a=b(r,t);return a?a.value=e:(o.last=a={index:i=l(t,!0),key:t,value:e,previous:n=o.last,next:null,removed:!1},o.first||(o.first=a),n&&(n.next=a),f?o.size++:r.size++,"F"!==i&&(o.index[i]=a)),r},b=function(r,t){var e,n=m(r),i=l(t);if("F"!==i)return n.index[i];for(e=n.first;e;e=e.next)if(e.key===t)return e};return e(h,{clear:function(){for(var t=m(this),e=t.first;e;)e.removed=!0,e.previous&&(e.previous=e.previous.next=null),e=e.next;t.first=t.last=null,t.index=r(null),f?t.size=0:this.size=0},delete:function(r){var t=this,e=m(t),n=b(t,r);if(n){var i=n.next,o=n.previous;delete e.index[n.index],n.removed=!0,o&&(o.next=i),i&&(i.previous=o),e.first===n&&(e.first=i),e.last===n&&(e.last=o),f?e.size--:t.size--}return!!n},forEach:function(r){for(var t,e=m(this),i=n(r,arguments.length>1?arguments[1]:void 0);t=t?t.next:e.first;)for(i(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(r){return!!b(this,r)}}),e(h,s?{get:function(r){var t=b(this,r);return t&&t.value},set:function(r,t){return g(this,0===r?0:r,t)}}:{add:function(r){return g(this,r=0===r?0:r,r)}}),f&&t(h,"size",{configurable:!0,get:function(){return m(this).size}}),y},setStrong:function(r,t,e){var n=t+" Iterator",i=v(t),o=v(n);u(r,t,function(r,t){p(this,{type:n,target:r,state:i(r),kind:t,last:null})},function(){for(var r=o(this),t=r.kind,e=r.last;e&&e.removed;)e=e.previous;return r.target&&(r.last=e=e?e.next:r.state.first)?c("keys"===t?e.key:"values"===t?e.value:[e.key,e.value],!1):(r.target=null,c(void 0,!0))},e?"entries":"values",!e,!0),s(t)}},To}Eo||(Eo=1,Oo||(Oo=1,Uo()("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},Wo())));var Go,Vo,$o,Yo,Jo,Qo={};function Ko(){if(Vo)return Go;Vo=1;var r=hi(),t=String;return Go=function(e){if("Symbol"===r(e))throw new TypeError("Cannot convert a Symbol value to a string");return t(e)}}function Xo(){if(Yo)return $o;Yo=1;var r=Or(),t=xe(),e=Ko(),n=Rr(),i=r("".charAt),o=r("".charCodeAt),a=r("".slice),u=function(r){return function(u,c){var s,f,l=e(n(u)),d=t(c),p=l.length;return d<0||d>=p?r?"":void 0:(s=o(l,d))<55296||s>56319||d+1===p||(f=o(l,d+1))<56320||f>57343?r?i(l,d):s:r?a(l,d,d+2):f-56320+(s-55296<<10)+65536}};return $o={codeAt:u(!1),charAt:u(!0)}}!function(){if(Jo)return Qo;Jo=1;var r=Xo().charAt,t=Ko(),e=oe(),n=Jn(),i=Qn(),o="String Iterator",a=e.set,u=e.getterFor(o);n(String,"String",function(r){a(this,{type:o,string:t(r),index:0})},function(){var t,e=u(this),n=e.string,o=e.index;return o>=n.length?i(void 0,!0):(t=r(n,o),e.index+=t.length,i(t,!1))})}();var Zo,ra,ta={};ra||(ra=1,function(){if(Zo)return ta;Zo=1;var r=Xe(),t=w();r({global:!0,forced:t.globalThis!==t},{globalThis:t})}());var ea,na,ia,oa,aa,ua,ca,sa,fa,la={};function da(){return na?ea:(na=1,ea={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0})}function pa(){if(oa)return ia;oa=1;var r=Ot()("span").classList,t=r&&r.constructor&&r.constructor.prototype;return ia=t===Object.prototype?void 0:t}function va(){if(ua)return aa;ua=1;var r=Co(),t=Or(),e=xr(),n=gt(),i=Ie(),o=Ni(),a=t([].push),u=function(t){var u=1===t,c=2===t,s=3===t,f=4===t,l=6===t,d=7===t,p=5===t||l;return function(v,y,h,m){for(var g,b,w=n(v),S=e(w),T=i(S),A=r(y,h),O=0,E=m||o,x=u?E(v,T):c||d?E(v,0):void 0;T>O;O++)if((p||O in S)&&(b=A(g=S[O],O,w),t))if(u)x[O]=b;else if(b)switch(t){case 3:return!0;case 5:return g;case 6:return O;case 2:a(x,g)}else switch(t){case 4:return!1;case 7:a(x,g)}return l?-1:s||f?f:x}};return aa={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}}!function(){if(fa)return la;fa=1;var r=w(),t=da(),e=pa(),n=function(){if(sa)return ca;sa=1;var r=va().forEach,t=rn()("forEach");return ca=t?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)},ca}(),i=Lt(),o=function(r){if(r&&r.forEach!==n)try{i(r,"forEach",n)}catch(t){r.forEach=n}};for(var a in t)t[a]&&o(r[a]&&r[a].prototype);o(e)}();var ya,ha={};!function(){if(ya)return ha;ya=1;var r=w(),t=da(),e=pa(),n=Kn(),i=Lt(),o=Gn(),a=St()("iterator"),u=n.values,c=function(r,e){if(r){if(r[a]!==u)try{i(r,a,u)}catch(t){r[a]=u}if(o(r,e,!0),t[e])for(var c in n)if(r[c]!==n[c])try{i(r,c,n[c])}catch(t){r[c]=n[c]}}};for(var s in t)c(r[s]&&r[s].prototype,s);c(e,"DOMTokenList")}(),function(r){var t=!(!r.starmusConfig||!r.starmusConfig.debug);function e(){if(t)try{(console.log||function(){}).apply(console,arguments)}catch(r){}}var n="function"==typeof Set,i={},o={};void 0===r.StarmusHooks&&(r.StarmusHooks={}),r.StarmusHooks.subscribe=function(r,t){var e,o;return i[r]||(i[r]=n?new Set:[]),e=i[r],o=t,n?e.add(o):-1===e.indexOf(o)&&e.push(o),function(){i[r]&&function(r,t){if(n)r.delete(t);else{var e=r.indexOf(t);-1!==e&&r.splice(e,1)}}(i[r],t)}},r.StarmusHooks.dispatch=function(r,t,a){t=t||{};var u=r+"::"+((a=a||{}).instanceId||"");if(o[u])e("Prevented recursive dispatch:",r);else{o[u]=!0;try{var c=i[r];if(!c)return;!function(r,t){if(n)r.forEach(t);else for(var e=r.slice(),i=0;i<e.length;i++)t(e[i])}(c,function(e){try{e(t,a)}catch(t){console.error("Error executing handler for command "+r+":",t)}})}finally{delete o[u]}}},r.StarmusHooks.debugLog=e}("undefined"!=typeof window?window:globalThis);var ma,ga="undefined"!=typeof window?window:globalThis,ba=ga.StarmusHooks&&ga.StarmusHooks.debugLog||function(){},wa={};!function(){if(ma)return wa;ma=1;var r=C(),t=te().EXISTS,e=Or(),n=qo(),i=Function.prototype,o=e(i.toString),a=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,u=e(a.exec);r&&!t&&n(i,"name",{configurable:!0,get:function(){try{return u(a,o(this))[1]}catch(r){return""}}})}(),function(r){var t={instanceId:null,env:{},tier:null,status:"uninitialized",error:null,source:{kind:null,blob:null,file:null,fileName:"",transcript:"",interimTranscript:""},calibration:{phase:null,message:"",volumePercent:0,complete:!1,gain:1},recorder:{duration:0,amplitude:0,isPlaying:!1,isPaused:!1},submission:{progress:0,isQueued:!1}};function e(r){var t={};for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e]);return t}function n(r,t){var n=e(r);for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n}function i(r){var i=n(t,r||{}),o=[];return{getState:function(){return i},dispatch:function(r){i=function(r,i){if(!i||!i.type)return r;switch(!r.instanceId&&i.payload&&i.payload.instanceId&&(r=n(r,{instanceId:i.payload.instanceId})),i.type){case"starmus/tier-ready":return r.tier?r:n(r,{tier:i.payload&&i.payload.tier?i.payload.tier:r.tier});case"starmus/init":return n(r,n(i.payload||{},{status:"idle",error:null}));case"starmus/ui/step-continue":return n(r,{status:"ready_to_record",error:null});case"starmus/calibration-start":return n(r,{status:"calibrating"});case"starmus/calibration-update":return n(r,{calibration:n(r.calibration,{message:i.message,volumePercent:i.volumePercent})});case"starmus/calibration-complete":return n(r,{status:"ready",calibration:n(r.calibration,n(i.calibration||{},{complete:!0}))});case"starmus/mic-start":return n(r,{status:"recording",error:null,recorder:n(r.recorder,{duration:0,amplitude:0,isPaused:!1})});case"starmus/mic-pause":return n(r,{status:"paused",recorder:n(r.recorder,{isPaused:!0})});case"starmus/mic-resume":return n(r,{status:"recording",recorder:n(r.recorder,{isPaused:!1})});case"starmus/mic-stop":return n(r,{status:"processing"});case"starmus/recorder-tick":return n(r,{recorder:n(r.recorder,{duration:i.duration,amplitude:i.amplitude})});case"starmus/recording-available":return n(r,{status:"ready_to_submit",source:n(r.source,{kind:"blob",blob:i.payload.blob,fileName:i.payload.fileName})});case"starmus/recorder-playback-state":return n(r,{recorder:n(r.recorder,{isPlaying:i.isPlaying})});case"starmus/transcript-update":return n(r,{source:n(r.source,{transcript:i.transcript})});case"starmus/transcript-interim":return n(r,{source:n(r.source,{interimTranscript:i.interim})});case"starmus/env-update":return n(r,{env:n(r.env,i.payload||{}),tier:i.tier||r.tier});case"starmus/file-attached":return n(r,{status:"ready_to_submit",source:{kind:"file",file:i.file,fileName:i.file.name}});case"starmus/submit-start":return n(r,{status:"submitting",error:null});case"starmus/submit-progress":return n(r,{submission:n(r.submission,{progress:i.progress})});case"starmus/submit-complete":return n(r,{status:"complete",submission:{progress:1,isQueued:!1}});case"starmus/submit-queued":return n(r,{status:"complete",submission:{progress:0,isQueued:!0}});case"starmus/error":return n(r,{error:i.error||i.payload});case"starmus/reset":return n(e(t),{instanceId:r.instanceId,env:r.env,tier:r.tier,status:"idle",source:{kind:null,blob:null,file:null,fileName:"",transcript:"",interimTranscript:""}});default:return r}}(i,r);for(var a=0;a<o.length;a++)try{o[a](i)}catch(r){console.error(r)}},subscribe:function(r){return-1===o.indexOf(r)&&o.push(r),function(){var t=o.indexOf(r);-1!==t&&o.splice(t,1)}}}}"undefined"!=typeof module&&module.exports?module.exports={createStore:i}:(r.StarmusStore=r.StarmusStore||{},r.StarmusStore.createStore=i)}("undefined"!=typeof window?window:globalThis),"undefined"!=typeof window&&(window.initStateStore=createStore);var Sa,Ta={};!function(){if(Sa)return Ta;Sa=1;var r=Xe(),t=P(),e=vi(),n=Cr(),i=gt(),o=Ie(),a=ji(),u=gi(),c=Ni(),s=bi(),f=St(),l=Nr(),d=f("isConcatSpreadable"),p=l>=51||!t(function(){var r=[];return r[d]=!1,r.concat()[0]!==r}),v=function(r){if(!n(r))return!1;var t=r[d];return void 0!==t?!!t:e(r)};r({target:"Array",proto:!0,arity:1,forced:!p||!s("concat")},{concat:function(r){var t,e,n,s,f,l=i(this),d=c(l,0),p=0;for(t=-1,n=arguments.length;t<n;t++)if(v(f=-1===t?l:arguments[t]))for(s=o(f),a(p+s),e=0;e<s;e++,p++)e in f&&u(d,p,f[e]);else a(p+1),u(d,p++,f);return d.length=p,d}})}();var Aa,Oa={};!function(){if(Aa)return Oa;Aa=1;var r=Xe(),t=Or(),e=xr(),n=Ir(),i=rn(),o=t([].join);r({target:"Array",proto:!0,forced:e!==Object||!i("join",",")},{join:function(r){return o(n(this),void 0===r?",":r)}})}();var Ea,xa,ka,Ra,Ia,Pa,Ca,Ma={};function ja(){if(xa)return Ea;xa=1;var r=Ur(),t=gt(),e=xr(),n=Ie(),i=TypeError,o="Reduce of empty array with no initial value",a=function(a){return function(u,c,s,f){var l=t(u),d=e(l),p=n(l);if(r(c),0===p&&s<2)throw new i(o);var v=a?p-1:0,y=a?-1:1;if(s<2)for(;;){if(v in d){f=d[v],v+=y;break}if(v+=y,a?v<0:p<=v)throw new i(o)}for(;a?v>=0:p>v;v+=y)v in d&&(f=c(f,d[v],v,l));return f}};return Ea={left:a(!1),right:a(!0)}}function _a(){if(Ra)return ka;Ra=1;var r=w(),t=_r(),e=Er(),n=function(r){return t.slice(0,r.length)===r};return ka=n("Bun/")?"BUN":n("Cloudflare-Workers")?"CLOUDFLARE":n("Deno/")?"DENO":n("Node.js/")?"NODE":r.Bun&&"string"==typeof Bun.version?"BUN":r.Deno&&"object"==typeof Deno.version?"DENO":"process"===e(r.process)?"NODE":r.window&&r.document?"BROWSER":"REST"}function Na(){if(Pa)return Ia;Pa=1;var r=_a();return Ia="NODE"===r}!function(){if(Ca)return Ma;Ca=1;var r=Xe(),t=ja().left,e=rn(),n=Nr();r({target:"Array",proto:!0,forced:!Na()&&n>79&&n<83||!e("reduce")},{reduce:function(r){var e=arguments.length;return t(this,r,e,e>1?arguments[1]:void 0)}})}();var Da,Ba,La,Fa={};!function(){if(La)return Fa;La=1;var r=Xe(),t=function(){if(Ba)return Da;Ba=1;var r=C(),t=P(),e=Or(),n=Hn(),i=Ln(),o=Ir(),a=e(Tr().f),u=e([].push),c=r&&t(function(){var r=Object.create(null);return r[2]=2,!a(r,2)}),s=function(t){return function(e){for(var s,f=o(e),l=i(f),d=c&&null===n(f),p=l.length,v=0,y=[];p>v;)s=l[v++],r&&!(d?s in f:a(f,s))||u(y,t?[s,f[s]]:f[s]);return y}};return Da={entries:s(!0),values:s(!1)}}().entries;r({target:"Object",stat:!0},{entries:function(r){return t(r)}})}();var Ua,qa={};!function(){if(Ua)return qa;Ua=1;var r=Xe(),t=gt(),e=Ln();r({target:"Object",stat:!0,forced:P()(function(){e(1)})},{keys:function(r){return e(t(r))}})}();var za,Ha,Wa,Ga,Va,$a,Ya,Ja,Qa,Ka,Xa,Za,ru,tu,eu,nu,iu,ou,au,uu,cu,su,fu,lu,du,pu,vu,yu,hu,mu,gu,bu,wu={};function Su(){if(Ha)return za;Ha=1;var r=w();return za=r}function Tu(){if(Ga)return Wa;Ga=1;var r=mi(),t=Fr(),e=TypeError;return Wa=function(n){if(r(n))return n;throw new e(t(n)+" is not a constructor")}}function Au(){if($a)return Va;$a=1;var r=Dt(),t=Tu(),e=kr(),n=St()("species");return Va=function(i,o){var a,u=r(i).constructor;return void 0===u||e(a=r(u)[n])?o:t(a)}}function Ou(){if(Ja)return Ya;Ja=1;var r=M(),t=Function.prototype,e=t.apply,n=t.call;return Ya="object"==typeof Reflect&&Reflect.apply||(r?n.bind(e):function(){return n.apply(e,arguments)}),Ya}function Eu(){if(Ka)return Qa;Ka=1;var r=TypeError;return Qa=function(t,e){if(t<e)throw new r("Not enough arguments");return t}}function xu(){if(Za)return Xa;Za=1;var r=_r();return Xa=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)}function ku(){if(tu)return ru;tu=1;var r,t,e,n,i=w(),o=Ou(),a=Co(),u=Pr(),c=bt(),s=P(),f=Fn(),l=wi(),d=Ot(),p=Eu(),v=xu(),y=Na(),h=i.setImmediate,m=i.clearImmediate,g=i.process,b=i.Dispatch,S=i.Function,T=i.MessageChannel,A=i.String,O=0,E={},x="onreadystatechange";s(function(){r=i.location});var k=function(r){if(c(E,r)){var t=E[r];delete E[r],t()}},R=function(r){return function(){k(r)}},I=function(r){k(r.data)},C=function(t){i.postMessage(A(t),r.protocol+"//"+r.host)};return h&&m||(h=function(r){p(arguments.length,1);var e=u(r)?r:S(r),n=l(arguments,1);return E[++O]=function(){o(e,void 0,n)},t(O),O},m=function(r){delete E[r]},y?t=function(r){g.nextTick(R(r))}:b&&b.now?t=function(r){b.now(R(r))}:T&&!v?(n=(e=new T).port2,e.port1.onmessage=I,t=a(n.postMessage,n)):i.addEventListener&&u(i.postMessage)&&!i.importScripts&&r&&"file:"!==r.protocol&&!s(C)?(t=C,i.addEventListener("message",I,!1)):t=x in d("script")?function(r){f.appendChild(d("script"))[x]=function(){f.removeChild(this),k(r)}}:function(r){setTimeout(R(r),0)}),ru={set:h,clear:m}}function Ru(){if(nu)return eu;nu=1;var r=w(),t=C(),e=Object.getOwnPropertyDescriptor;return eu=function(n){if(!t)return r[n];var i=e(r,n);return i&&i.value}}function Iu(){if(ou)return iu;ou=1;var r=function(){this.head=null,this.tail=null};return r.prototype={add:function(r){var t={item:r,next:null},e=this.tail;e?e.next=t:this.head=t,this.tail=t},get:function(){var r=this.head;if(r)return null===(this.head=r.next)&&(this.tail=null),r.item}},iu=r}function Pu(){if(lu)return fu;lu=1;var r,t,e,n,i,o=w(),a=Ru(),u=Co(),c=ku().set,s=Iu(),f=xu(),l=function(){if(uu)return au;uu=1;var r=_r();return au=/ipad|iphone|ipod/i.test(r)&&"undefined"!=typeof Pebble}(),d=function(){if(su)return cu;su=1;var r=_r();return cu=/web0s(?!.*chrome)/i.test(r)}(),p=Na(),v=o.MutationObserver||o.WebKitMutationObserver,y=o.document,h=o.process,m=o.Promise,g=a("queueMicrotask");if(!g){var b=new s,S=function(){var t,e;for(p&&(t=h.domain)&&t.exit();e=b.get();)try{e()}catch(t){throw b.head&&r(),t}t&&t.enter()};f||p||d||!v||!y?!l&&m&&m.resolve?((n=m.resolve(void 0)).constructor=m,i=u(n.then,n),r=function(){i(S)}):p?r=function(){h.nextTick(S)}:(c=u(c,o),r=function(){c(S)}):(t=!0,e=y.createTextNode(""),new v(S).observe(e,{characterData:!0}),r=function(){e.data=t=!t}),g=function(t){b.head||r(),b.add(t)}}return fu=g}function Cu(){return pu||(pu=1,du=function(r,t){try{1===arguments.length?console.error(r):console.error(r,t)}catch(r){}}),du}function Mu(){return yu?vu:(yu=1,vu=function(r){try{return{error:!1,value:r()}}catch(r){return{error:!0,value:r}}})}function ju(){if(mu)return hu;mu=1;var r=w();return hu=r.Promise}function _u(){if(bu)return gu;bu=1;var r=w(),t=ju(),e=Pr(),n=Ke(),i=ee(),o=St(),a=_a(),u=vt(),c=Nr(),s=t&&t.prototype,f=o("species"),l=!1,d=e(r.PromiseRejectionEvent),p=n("Promise",function(){var r=i(t),e=r!==String(t);if(!e&&66===c)return!0;if(u&&(!s.catch||!s.finally))return!0;if(!c||c<51||!/native code/.test(r)){var n=new t(function(r){r(1)}),o=function(r){r(function(){},function(){})};if((n.constructor={})[f]=o,!(l=n.then(function(){})instanceof o))return!0}return!(e||"BROWSER"!==a&&"DENO"!==a||d)});return gu={CONSTRUCTOR:p,REJECTION_EVENT:d,SUBCLASSING:l}}var Nu,Du,Bu={};function Lu(){if(Nu)return Bu;Nu=1;var r=Ur(),t=TypeError,e=function(e){var n,i;this.promise=new e(function(r,e){if(void 0!==n||void 0!==i)throw new t("Bad Promise constructor");n=r,i=e}),this.resolve=r(n),this.reject=r(i)};return Bu.f=function(r){return new e(r)},Bu}var Fu,Uu,qu,zu={};function Hu(){if(Uu)return Fu;Uu=1;var r=ju(),t=Lo(),e=_u().CONSTRUCTOR;return Fu=e||!t(function(t){r.all(t).then(void 0,function(){})})}var Wu,Gu={};var Vu,$u={};var Yu,Ju={};var Qu,Ku,Xu,Zu,rc={};function tc(){if(Ku)return Qu;Ku=1;var r=Dt(),t=Cr(),e=Lu();return Qu=function(n,i){if(r(n),t(i)&&i.constructor===n)return i;var o=e.f(n);return(0,o.resolve)(i),o.promise}}Zu||(Zu=1,function(){if(Du)return wu;Du=1;var r,t,e,n,i=Xe(),o=vt(),a=Na(),u=w(),c=Su(),s=j(),f=ue(),l=Yn(),d=Gn(),p=Ho(),v=Ur(),y=Pr(),h=Cr(),m=Bo(),g=Au(),b=ku().set,S=Pu(),T=Cu(),A=Mu(),O=Iu(),E=oe(),x=ju(),k=_u(),R=Lu(),I="Promise",P=k.CONSTRUCTOR,C=k.REJECTION_EVENT,M=k.SUBCLASSING,_=E.getterFor(I),N=E.set,D=x&&x.prototype,B=x,L=D,F=u.TypeError,U=u.document,q=u.process,z=R.f,H=z,W=!!(U&&U.createEvent&&u.dispatchEvent),G="unhandledrejection",V=function(r){var t;return!(!h(r)||!y(t=r.then))&&t},$=function(r,t){var e,n,i,o=t.value,a=1===t.state,u=a?r.ok:r.fail,c=r.resolve,f=r.reject,l=r.domain;try{u?(a||(2===t.rejection&&X(t),t.rejection=1),!0===u?e=o:(l&&l.enter(),e=u(o),l&&(l.exit(),i=!0)),e===r.promise?f(new F("Promise-chain cycle")):(n=V(e))?s(n,e,c,f):c(e)):f(o)}catch(r){l&&!i&&l.exit(),f(r)}},Y=function(r,t){r.notified||(r.notified=!0,S(function(){for(var e,n=r.reactions;e=n.get();)$(e,r);r.notified=!1,t&&!r.rejection&&Q(r)}))},J=function(r,t,e){var n,i;W?((n=U.createEvent("Event")).promise=t,n.reason=e,n.initEvent(r,!1,!0),u.dispatchEvent(n)):n={promise:t,reason:e},!C&&(i=u["on"+r])?i(n):r===G&&T("Unhandled promise rejection",e)},Q=function(r){s(b,u,function(){var t,e=r.facade,n=r.value;if(K(r)&&(t=A(function(){a?q.emit("unhandledRejection",n,e):J(G,e,n)}),r.rejection=a||K(r)?2:1,t.error))throw t.value})},K=function(r){return 1!==r.rejection&&!r.parent},X=function(r){s(b,u,function(){var t=r.facade;a?q.emit("rejectionHandled",t):J("rejectionhandled",t,r.value)})},Z=function(r,t,e){return function(n){r(t,n,e)}},rr=function(r,t,e){r.done||(r.done=!0,e&&(r=e),r.value=t,r.state=2,Y(r,!0))},tr=function(r,t,e){if(!r.done){r.done=!0,e&&(r=e);try{if(r.facade===t)throw new F("Promise can't be resolved itself");var n=V(t);n?S(function(){var e={done:!1};try{s(n,t,Z(tr,e,r),Z(rr,e,r))}catch(t){rr(e,t,r)}}):(r.value=t,r.state=1,Y(r,!1))}catch(t){rr({done:!1},t,r)}}};if(P&&(L=(B=function(t){m(this,L),v(t),s(r,this);var e=_(this);try{t(Z(tr,e),Z(rr,e))}catch(r){rr(e,r)}}).prototype,(r=function(r){N(this,{type:I,done:!1,notified:!1,parent:!1,reactions:new O,rejection:!1,state:0,value:null})}).prototype=f(L,"then",function(r,t){var e=_(this),n=z(g(this,B));return e.parent=!0,n.ok=!y(r)||r,n.fail=y(t)&&t,n.domain=a?q.domain:void 0,0===e.state?e.reactions.add(n):S(function(){$(n,e)}),n.promise}),t=function(){var t=new r,e=_(t);this.promise=t,this.resolve=Z(tr,e),this.reject=Z(rr,e)},R.f=z=function(r){return r===B||r===e?new t(r):H(r)},!o&&y(x)&&D!==Object.prototype)){n=D.then,M||f(D,"then",function(r,t){var e=this;return new B(function(r,t){s(n,e,r,t)}).then(r,t)},{unsafe:!0});try{delete D.constructor}catch(r){}l&&l(D,L)}i({global:!0,constructor:!0,wrap:!0,forced:P},{Promise:B}),e=c.Promise,d(B,I,!1,!0),p(I)}(),function(){if(qu)return zu;qu=1;var r=Xe(),t=j(),e=Ur(),n=Lu(),i=Mu(),o=Do();r({target:"Promise",stat:!0,forced:Hu()},{all:function(r){var a=this,u=n.f(a),c=u.resolve,s=u.reject,f=i(function(){var n=e(a.resolve),i=[],u=0,f=1;o(r,function(r){var e=u++,o=!1;f++,t(n,a,r).then(function(r){o||(o=!0,i[e]=r,--f||c(i))},s)}),--f||c(i)});return f.error&&s(f.value),u.promise}})}(),function(){if(Wu)return Gu;Wu=1;var r=Xe(),t=vt(),e=_u().CONSTRUCTOR,n=ju(),i=Mr(),o=Pr(),a=ue(),u=n&&n.prototype;if(r({target:"Promise",proto:!0,forced:e,real:!0},{catch:function(r){return this.then(void 0,r)}}),!t&&o(n)){var c=i("Promise").prototype.catch;u.catch!==c&&a(u,"catch",c,{unsafe:!0})}}(),function(){if(Vu)return $u;Vu=1;var r=Xe(),t=j(),e=Ur(),n=Lu(),i=Mu(),o=Do();r({target:"Promise",stat:!0,forced:Hu()},{race:function(r){var a=this,u=n.f(a),c=u.reject,s=i(function(){var n=e(a.resolve);o(r,function(r){t(n,a,r).then(u.resolve,c)})});return s.error&&c(s.value),u.promise}})}(),function(){if(Yu)return Ju;Yu=1;var r=Xe(),t=Lu();r({target:"Promise",stat:!0,forced:_u().CONSTRUCTOR},{reject:function(r){var e=t.f(this);return(0,e.reject)(r),e.promise}})}(),function(){if(Xu)return rc;Xu=1;var r=Xe(),t=Mr(),e=vt(),n=ju(),i=_u().CONSTRUCTOR,o=tc(),a=t("Promise"),u=e&&!i;r({target:"Promise",stat:!0,forced:e||i},{resolve:function(r){return o(u&&this===a?n:this,r)}})}());var ec,nc={};!function(){if(ec)return nc;ec=1;var r=Xe(),t=vt(),e=ju(),n=P(),i=Mr(),o=Pr(),a=Au(),u=tc(),c=ue(),s=e&&e.prototype;if(r({target:"Promise",proto:!0,real:!0,forced:!!e&&n(function(){s.finally.call({then:function(){}},function(){})})},{finally:function(r){var t=a(this,i("Promise")),e=o(r);return this.then(e?function(e){return u(t,r()).then(function(){return e})}:r,e?function(e){return u(t,r()).then(function(){throw e})}:r)}}),!t&&o(e)){var f=i("Promise").prototype.finally;s.finally!==f&&c(s,"finally",f,{unsafe:!0})}}();var ic,oc,ac,uc,cc,sc,fc,lc,dc,pc,vc,yc={};function hc(){if(oc)return ic;oc=1;var r=Dt();return ic=function(){var t=r(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}}function mc(){if(pc)return dc;pc=1;var r,t,e=j(),n=Or(),i=Ko(),o=hc(),a=function(){if(uc)return ac;uc=1;var r=P(),t=w().RegExp,e=r(function(){var r=t("a","y");return r.lastIndex=2,null!==r.exec("abcd")}),n=e||r(function(){return!t("a","y").sticky}),i=e||r(function(){var r=t("^r","gy");return r.lastIndex=2,null!==r.exec("str")});return ac={BROKEN_CARET:i,MISSED_STICKY:n,UNSUPPORTED_Y:e}}(),u=mt(),c=Un(),s=oe().get,f=function(){if(sc)return cc;sc=1;var r=P(),t=w().RegExp;return cc=r(function(){var r=t(".","s");return!(r.dotAll&&r.test("\n")&&"s"===r.flags)})}(),l=function(){if(lc)return fc;lc=1;var r=P(),t=w().RegExp;return fc=r(function(){var r=t("(?<a>b)","g");return"b"!==r.exec("b").groups.a||"bc"!=="b".replace(r,"$<a>c")})}(),d=u("native-string-replace",String.prototype.replace),p=RegExp.prototype.exec,v=p,y=n("".charAt),h=n("".indexOf),m=n("".replace),g=n("".slice),b=(t=/b*/g,e(p,r=/a/,"a"),e(p,t,"a"),0!==r.lastIndex||0!==t.lastIndex),S=a.BROKEN_CARET,T=void 0!==/()??/.exec("")[1];return(b||T||S||f||l)&&(v=function(r){var t,n,a,u,f,l,w,A=this,O=s(A),E=i(r),x=O.raw;if(x)return x.lastIndex=A.lastIndex,t=e(v,x,E),A.lastIndex=x.lastIndex,t;var k=O.groups,R=S&&A.sticky,I=e(o,A),P=A.source,C=0,M=E;if(R&&(I=m(I,"y",""),-1===h(I,"g")&&(I+="g"),M=g(E,A.lastIndex),A.lastIndex>0&&(!A.multiline||A.multiline&&"\n"!==y(E,A.lastIndex-1))&&(P="(?: "+P+")",M=" "+M,C++),n=new RegExp("^(?:"+P+")",I)),T&&(n=new RegExp("^"+P+"$(?!\\s)",I)),b&&(a=A.lastIndex),u=e(p,R?n:A,M),R?u?(u.input=g(u.input,C),u[0]=g(u[0],C),u.index=A.lastIndex,A.lastIndex+=u[0].length):A.lastIndex=0:b&&u&&(A.lastIndex=A.global?u.index+u[0].length:a),T&&u&&u.length>1&&e(d,u[0],n,function(){for(f=1;f<arguments.length-2;f++)void 0===arguments[f]&&(u[f]=void 0)}),u&&k)for(u.groups=l=c(null),f=0;f<k.length;f++)l[(w=k[f])[0]]=u[w[1]];return u}),dc=v}function gc(){if(vc)return yc;vc=1;var r=Xe(),t=mc();return r({target:"RegExp",proto:!0,forced:/./.exec!==t},{exec:t}),yc}gc();var bc,wc,Sc,Tc,Ac,Oc,Ec,xc,kc,Rc,Ic,Pc,Cc,Mc={};function jc(){if(Tc)return Sc;Tc=1;var r=Xo().charAt;return Sc=function(t,e,n){return e+(n?r(t,e).length:1)}}function _c(){if(Oc)return Ac;Oc=1;var r=Or(),t=gt(),e=Math.floor,n=r("".charAt),i=r("".replace),o=r("".slice),a=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,u=/\$([$&'`]|\d{1,2})/g;return Ac=function(r,c,s,f,l,d){var p=s+r.length,v=f.length,y=u;return void 0!==l&&(l=t(l),y=a),i(d,y,function(t,i){var a;switch(n(i,0)){case"$":return"$";case"&":return r;case"`":return o(c,0,s);case"'":return o(c,p);case"<":a=l[o(i,1,-1)];break;default:var u=+i;if(0===u)return t;if(u>v){var d=e(u/10);return 0===d?t:d<=v?void 0===f[d-1]?n(i,1):f[d-1]+n(i,1):t}a=f[u-1]}return void 0===a?"":a})}}function Nc(){if(Rc)return kc;Rc=1;var r=j(),t=bt(),e=jr(),n=function(){if(xc)return Ec;xc=1;var r=w(),t=P(),e=r.RegExp,n=!t(function(){var r=!0;try{e(".","d")}catch(t){r=!1}var t={},n="",i=r?"dgimsy":"gimsy",o=function(r,e){Object.defineProperty(t,r,{get:function(){return n+=e,!0}})},a={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var u in r&&(a.hasIndices="d"),a)o(u,a[u]);return Object.getOwnPropertyDescriptor(e.prototype,"flags").get.call(t)!==i||n!==i});return Ec={correct:n}}(),i=hc(),o=RegExp.prototype;return kc=n.correct?function(r){return r.flags}:function(a){return n.correct||!e(o,a)||t(a,"flags")?a.flags:r(i,a)}}!function(){if(Cc)return Mc;Cc=1;var r=Ou(),t=j(),e=Or(),n=function(){if(wc)return bc;wc=1,gc();var r=j(),t=ue(),e=mc(),n=P(),i=St(),o=Lt(),a=i("species"),u=RegExp.prototype;return bc=function(c,s,f,l){var d=i(c),p=!n(function(){var r={};return r[d]=function(){return 7},7!==""[c](r)}),v=p&&!n(function(){var r=!1,t=/a/;if("split"===c){var e={};e[a]=function(){return t},(t={constructor:e,flags:""})[d]=/./[d]}return t.exec=function(){return r=!0,null},t[d](""),!r});if(!p||!v||f){var y=/./[d],h=s(d,""[c],function(t,n,i,o,a){var c=n.exec;return c===e||c===u.exec?p&&!a?{done:!0,value:r(y,n,i,o)}:{done:!0,value:r(t,i,n,o)}:{done:!1}});t(String.prototype,c,h[0]),t(u,d,h[1])}l&&o(u[d],"sham",!0)}}(),i=P(),o=Dt(),a=Pr(),u=Cr(),c=xe(),s=Re(),f=Ko(),l=Rr(),d=jc(),p=qr(),v=_c(),y=Nc(),h=function(){if(Pc)return Ic;Pc=1;var r=j(),t=Dt(),e=Pr(),n=Er(),i=mc(),o=TypeError;return Ic=function(a,u){var c=a.exec;if(e(c)){var s=r(c,a,u);return null!==s&&t(s),s}if("RegExp"===n(a))return r(i,a,u);throw new o("RegExp#exec called on incompatible receiver")}}(),m=St()("replace"),g=Math.max,b=Math.min,w=e([].concat),S=e([].push),T=e("".indexOf),A=e("".slice),O=function(r){return void 0===r?r:String(r)},E="$0"==="a".replace(/./,"$0"),x=!!/./[m]&&""===/./[m]("a","$0");n("replace",function(e,n,i){var E=x?"$":"$0";return[function(r,e){var i=l(this),o=u(r)?p(r,m):void 0;return o?t(o,r,i,e):t(n,f(i),r,e)},function(t,e){var u=o(this),l=f(t);if("string"==typeof e&&-1===T(e,E)&&-1===T(e,"$<")){var p=i(n,u,l,e);if(p.done)return p.value}var m=a(e);m||(e=f(e));var x,k=f(y(u)),R=-1!==T(k,"g");R&&(x=-1!==T(k,"u"),u.lastIndex=0);for(var I,P=[];null!==(I=h(u,l))&&(S(P,I),R);){""===f(I[0])&&(u.lastIndex=d(l,s(u.lastIndex),x))}for(var C="",M=0,j=0;j<P.length;j++){for(var _,N=f((I=P[j])[0]),D=g(b(c(I.index),l.length),0),B=[],L=1;L<I.length;L++)S(B,O(I[L]));var F=I.groups;if(m){var U=w([N],B,D,l);void 0!==F&&S(U,F),_=f(r(e,void 0,U))}else _=v(N,l,D,B,F,e);D>=M&&(C+=A(l,M,D)+_,M=D+N.length)}return C+A(l,M)}]},!!i(function(){var r=/./;return r.exec=function(){var r=[];return r.groups={a:"7"},r},"7"!=="".replace(r,"$<a>")})||!E||x)}();var Dc=window.StarmusHooks.debugLog,Bc={chunkSize:1048576,retryDelays:[0,3e3,5e3,1e4,2e4,6e4],maxChunkRetries:3},Lc=function(){return window.starmusConfig||{}};function Fc(r){return(r=(r="string"==typeof r?r:String(r)).replace(/[\r\n\t]/g," ")).length>500?r.slice(0,497)+"...":r}function Uc(r){return r&&"object"===v(r)?r:{}}function qc(r,t,e,n,i,o){return zc.apply(this,arguments)}function zc(){return(zc=e(c().m(function r(t,e,n,i,o,a){var u,s,f,l,d,p,v,y,h,m,g,b,w;return c().w(function(r){for(;;)switch(r.p=r.n){case 0:if(d=Lc(),p=(null===(u=window.tus)||void 0===u?void 0:u.Upload)&&(null===(s=d.endpoints)||void 0===s?void 0:s.tusUpload),v=null===(f=d.endpoints)||void 0===f?void 0:f.chunkedUpload,y=null===(l=d.endpoints)||void 0===l?void 0:l.directUpload,!p){r.n=4;break}return r.p=1,r.n=2,Hc(t,e,n,i,o,a);case 2:return h=r.v,r.a(2,{method:"tus",url:h});case 3:r.p=3,b=r.v,Dc("[Priority] TUS failed:",b.message);case 4:if(!v){r.n=8;break}return r.p=5,r.n=6,Wc(t,e,n,i,o,a);case 6:return m=r.v,r.a(2,{method:"chunked_rest",result:m});case 7:r.p=7,w=r.v,Dc("[Priority] Chunked REST failed:",w.message);case 8:if(!y){r.n=10;break}return r.n=9,Gc(t,e,n,i,o,a);case 9:return g=r.v,r.a(2,{method:"fallback_post",result:g});case 10:throw new Error("All upload methods failed or missing endpoints");case 11:return r.a(2)}},r,null,[[5,7],[1,3]])}))).apply(this,arguments)}function Hc(r,t,n,i,o,s){var f,d;if(null===(f=window.tus)||void 0===f||!f.Upload)throw new Error("TUS library not present");var p=window.starmusTus||{},v=p.endpoint||(null===(d=Lc().endpoints)||void 0===d?void 0:d.tusUpload);if(!v)throw new Error("TUS endpoint missing");var y=function(r){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?u(Object(e),!0).forEach(function(t){a(r,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):u(Object(e)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))})}return r}({filename:Fc(t),filetype:r.type||"audio/webm"},Object.entries(Uc(n)).reduce(function(r,t){var e=l(t,2),n=e[0],i=e[1];return r[n]=Fc(i),r},{}));return i&&(y.starmus_meta=Fc(JSON.stringify(i))),new Promise(function(t,n){var i,a={endpoint:v,chunkSize:p.chunkSize||Bc.chunkSize,retryDelays:p.retryDelays||Bc.retryDelays,metadata:y,fingerprint:function(r){return["starmus",o,r.size,r.lastModified||""].join("-")},onProgress:function(r,t){"function"==typeof s&&s(r,t)},onError:n,onSuccess:function(){return e(c().m(function e(){var n,o,u,s;return c().w(function(e){for(;;)switch(e.p=e.n){case 0:if(Dc("[TUS] Success:",i.url),u=(null===(n=window.tus)||void 0===n||null===(n=n.defaultOptions)||void 0===n?void 0:n.removeFingerprint)||(null===(o=window.tus)||void 0===o||null===(o=o.Upload)||void 0===o||null===(o=o.prototype)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.removeFingerprint),!p.removeFingerprintOnSuccess||!u){e.n=5;break}return e.p=1,e.n=2,window.tus.defaultOptions.fingerprint(r,a);case 2:return s=e.v,e.n=3,u(s);case 3:e.n=5;break;case 4:e.p=4,e.v;case 5:t(i.url);case 6:return e.a(2)}},e,null,[[1,4]])}))()}};(i=new window.tus.Upload(r,a)).findPreviousUploads().then(function(r){return r.length&&i.resumeFromPreviousUpload(r[0])}).finally(function(){return i.start()})})}function Wc(r,t,n,i,o,a){var u,s,d=Lc(),p=null===(u=d.endpoints)||void 0===u?void 0:u.chunkedUpload,v=d.nonce||"";if(!p)throw new Error("Chunked REST endpoint missing");if(!v)throw new Error("Nonce missing");var y,h,m,g=Uc(n),b=d.chunkSize||Bc.chunkSize,w=Math.ceil(r.size/b),S=window.localStorage||window.sessionStorage,T=(y=o,h=t,m=r.size,"starmus_chunked_".concat(y,"_").concat(h,"_").concat(m)),A=S.getItem(T)||null,O=null!==(s=d.maxChunkRetries)&&void 0!==s?s:Bc.maxChunkRetries;return new Promise(function(){var n=e(c().m(function e(n,o){var u,s,d,y,h,m,E;return c().w(function(e){for(;;)switch(e.p=e.n){case 0:m=function(e,n,o){return new Promise(function(u,c){var s=new FormData;s.append("audio_chunk",n,"".concat(t,".part").concat(e)),s.append("chunk_index",e),s.append("total_chunks",w),A?s.append("upload_id",A):s.append("create_upload_id","1"),Object.entries(g).forEach(function(r){var t=l(r,2),e=t[0],n=t[1];return s.append(e,n)}),i&&s.append("_starmus_meta",JSON.stringify(i));var f=new XMLHttpRequest;f.open("POST",p,!0),f.setRequestHeader("X-WP-Nonce",v),f.upload.onprogress=function(t){return"function"==typeof a&&t.lengthComputable&&a(o+t.loaded,r.size)},f.onload=function(){if(f.status<200||f.status>=300)return c(new Error("Chunk ".concat(e," failed: ").concat(f.status)));try{var r=JSON.parse(f.responseText);!A&&r.upload_id&&(A=r.upload_id,S.setItem(T,A)),u(r)}catch(r){c(new Error("Invalid JSON response"))}},f.onerror=function(){return c(new Error("Network error"))},f.send(s)})},e.p=1,u=c().m(function t(){var e,n,i,o,a,u;return c().w(function(t){for(;;)switch(t.p=t.n){case 0:e=0,n=!1,i=s*b,o=Math.min(i+b,r.size),a=r.slice(i,o);case 1:if(n||!(e<O)){t.n=7;break}return e++,t.p=2,t.n=3,m(s,a,i);case 3:n=!0,t.n=6;break;case 4:if(t.p=4,u=t.v,e!==O){t.n=5;break}throw u;case 5:return t.n=6,new Promise(function(r){return setTimeout(r,300*e*e)});case 6:t.n=1;break;case 7:return t.a(2)}},t,null,[[2,4]])}),s=0;case 2:if(!(s<w)){e.n=4;break}return e.d(f(u()),3);case 3:s++,e.n=2;break;case 4:return(d=new FormData).append("upload_id",A),d.append("finalize","1"),e.n=5,fetch(p,{method:"POST",headers:{"X-WP-Nonce":v},body:d});case 5:if((y=e.v).ok){e.n=6;break}throw new Error("Finalization failed: ".concat(y.status));case 6:return e.n=7,y.json();case 7:h=e.v,S.removeItem(T),n(h),e.n=9;break;case 8:e.p=8,E=e.v,o(E);case 9:return e.a(2)}},e,null,[[1,8]])}));return function(r,t){return n.apply(this,arguments)}}())}function Gc(r,t,e,n,i,o){var a,u=Lc(),c=null===(a=u.endpoints)||void 0===a?void 0:a.directUpload,s=u.nonce||"";if(!c)throw new Error("Direct upload endpoint missing");var f=Uc(e);return new Promise(function(e,i){var a=new FormData;Object.entries(f).forEach(function(r){var t=l(r,2),e=t[0],n=t[1];return a.append(e,n)}),a.append("audio_file",r,t),null!=n&&n.transcript&&a.append("_starmus_transcript",n.transcript),null!=n&&n.calibration&&a.append("_starmus_calibration",JSON.stringify(n.calibration)),null!=n&&n.env&&a.append("_starmus_env",JSON.stringify(n.env));var u=new XMLHttpRequest;u.open("POST",c,!0),u.setRequestHeader("X-WP-Nonce",s),u.upload.onprogress=function(r){return"function"==typeof o&&r.lengthComputable&&o(r.loaded,r.total)},u.onload=function(){if(u.status<200||u.status>=300)return i(new Error("Upload failed: ".concat(u.status)));try{e(JSON.parse(u.responseText))}catch(r){i(new Error("Invalid JSON response"))}},u.onerror=function(){return i(new Error("Network error"))},u.send(a)})}var Vc,$c={};!function(){if(Vc)return $c;Vc=1;var r=Xe(),t=Pe().includes,e=P(),n=qn();r({target:"Array",proto:!0,forced:e(function(){return!Array(1).includes()})},{includes:function(r){return t(this,r,arguments.length>1?arguments[1]:void 0)}}),n("includes")}();var Yc,Jc;Jc||(Jc=1,Yc||(Yc=1,Uo()("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},Wo())));var Qc,Kc,Xc,Zc,rs,ts={};function es(){if(Kc)return Qc;Kc=1;var r=Or();return Qc=r(1.1.valueOf)}function ns(){if(Zc)return Xc;Zc=1;var r=xe(),t=Ko(),e=Rr(),n=RangeError;return Xc=function(i){var o=t(e(this)),a="",u=r(i);if(u<0||u===1/0)throw new n("Wrong number of repetitions");for(;u>0;(u>>>=1)&&(o+=o))1&u&&(a+=o);return a}}!function(){if(rs)return ts;rs=1;var r=Xe(),t=Or(),e=xe(),n=es(),i=ns(),o=P(),a=RangeError,u=String,c=Math.floor,s=t(i),f=t("".slice),l=t(1.1.toFixed),d=function(r,t,e){return 0===t?e:t%2==1?d(r,t-1,e*r):d(r*r,t/2,e)},p=function(r,t,e){for(var n=-1,i=e;++n<6;)i+=t*r[n],r[n]=i%1e7,i=c(i/1e7)},v=function(r,t){for(var e=6,n=0;--e>=0;)n+=r[e],r[e]=c(n/t),n=n%t*1e7},y=function(r){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==r[t]){var n=u(r[t]);e=""===e?n:e+s("0",7-n.length)+n}return e};r({target:"Number",proto:!0,forced:o(function(){return"0.000"!==l(8e-5,3)||"1"!==l(.9,0)||"1.25"!==l(1.255,2)||"1000000000000000128"!==l(0xde0b6b3a7640080,0)})||!o(function(){l({})})},{toFixed:function(r){var t,i,o,c,l=n(this),h=e(r),m=[0,0,0,0,0,0],g="",b="0";if(h<0||h>20)throw new a("Incorrect fraction digits");if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return u(l);if(l<0&&(g="-",l=-l),l>1e-21)if(i=(t=function(r){for(var t=0,e=r;e>=4096;)t+=12,e/=4096;for(;e>=2;)t+=1,e/=2;return t}(l*d(2,69,1))-69)<0?l*d(2,-t,1):l/d(2,t,1),i*=4503599627370496,(t=52-t)>0){for(p(m,0,i),o=h;o>=7;)p(m,1e7,0),o-=7;for(p(m,d(10,o,1),0),o=t-1;o>=23;)v(m,1<<23),o-=23;v(m,1<<o),p(m,1,1),v(m,2),b=y(m)}else p(m,0,i),p(m,1<<-t,0),b=y(m)+s("0",h);return b=h>0?g+((c=b.length)<=h?"0."+s("0",h-c)+b:f(b,0,c-h)+"."+f(b,c-h)):g+b}})}();var is,os={};!function(){if(is)return os;is=1;var r=te().PROPER,t=ue(),e=Dt(),n=Ko(),i=P(),o=Nc(),a="toString",u=RegExp.prototype,c=u[a],s=i(function(){return"/a/b"!==c.call({source:"a",flags:"b"})}),f=r&&c.name!==a;(s||f)&&t(u,a,function(){var r=e(this);return"/"+n(r.source)+"/"+n(o(r))},{unsafe:!0})}();var as,us,cs,ss,fs,ls,ds,ps={};function vs(){if(ss)return cs;ss=1;var r=function(){if(us)return as;us=1;var r=Cr(),t=Er(),e=St()("match");return as=function(n){var i;return r(n)&&(void 0!==(i=n[e])?!!i:"RegExp"===t(n))}}(),t=TypeError;return cs=function(e){if(r(e))throw new t("The method doesn't accept regular expressions");return e}}!function(){if(ds)return ps;ds=1;var r=Xe(),t=Or(),e=vs(),n=Rr(),i=Ko(),o=function(){if(ls)return fs;ls=1;var r=St()("match");return fs=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,"/./"[t](e)}catch(r){}}return!1}}(),a=t("".indexOf);r({target:"String",proto:!0,forced:!o("includes")},{includes:function(r){return!!~a(i(n(this)),i(e(r)),arguments.length>1?arguments[1]:void 0)}})}();var ys={dbName:"StarmusSubmissions",storeName:"pendingSubmissions",dbVersion:1,maxRetries:10,retryDelays:[0,5e3,1e4,3e4,6e4,12e4,3e5,6e5,12e5,18e5],maxBlobSize:41943040},hs=new(function(){return i(function r(){n(this,r),this.db=null,this.isProcessing=!1},[{key:"init",value:(l=e(c().m(function r(){var t=this;return c().w(function(r){for(;;)switch(r.n){case 0:if(window.indexedDB){r.n=1;break}return console.error("[Offline] IndexedDB not supported â offline queue disabled."),r.a(2);case 1:return r.a(2,new Promise(function(r){var e=indexedDB.open(ys.dbName,ys.dbVersion);e.onerror=function(t){ba("[Offline] DB open failed",t),r()},e.onblocked=function(){ba("[Offline] DB open blocked â close other tabs")},e.onsuccess=function(e){t.db=e.target.result,t.db.onversionchange=function(){t.db.close(),ba("[Offline] DB version change â closed connection")},ba("[Offline] IndexedDB ready"),r()},e.onupgradeneeded=function(r){var t=r.target.result;if(!t.objectStoreNames.contains(ys.storeName)){var e=t.createObjectStore(ys.storeName,{keyPath:"id"});e.createIndex("timestamp","timestamp",{unique:!1}),e.createIndex("retryCount","retryCount",{unique:!1}),ba("[Offline] Created object store",ys.storeName)}}}))}},r)})),function(){return l.apply(this,arguments)})},{key:"add",value:(s=e(c().m(function r(t,e,n,i,o){var a,u,s,f=this;return c().w(function(r){for(;;)switch(r.n){case 0:if(this.db){r.n=1;break}throw new Error("IndexedDB not initialized");case 1:if(a="starmus-offline-".concat(Date.now(),"-").concat(Math.random().toString(36).slice(2,10)),u=e.size>ys.maxBlobSize?null:"function"==typeof structuredClone?structuredClone(e):new Blob([e],{type:e.type})){r.n=2;break}throw new Error("Blob too large for offline storage (".concat((e.size/1024/1024).toFixed(2),"MB)"));case 2:return s={id:a,instanceId:t,fileName:n,timestamp:Date.now(),audioBlob:u,formFields:i||{},metadata:o||{},retryCount:0,lastAttempt:null,error:null},r.a(2,new Promise(function(r,t){var e=f.db.transaction([ys.storeName],"readwrite");e.objectStore(ys.storeName).add(s),e.oncomplete=function(){ba("[Offline] Queued submission",a),r(a)},e.onerror=function(r){var e=r.target.error;"QuotaExceededError"===(null==e?void 0:e.name)?t(new Error("IndexedDB quota exceeded â cannot queue submission offline.")):t(e)}}))}},r,this)})),function(r,t,e,n,i){return s.apply(this,arguments)})},{key:"getAll",value:(u=e(c().m(function r(){var t=this;return c().w(function(r){for(;;)switch(r.n){case 0:if(this.db){r.n=1;break}return r.a(2,[]);case 1:return r.a(2,new Promise(function(r,e){var n=t.db.transaction([ys.storeName],"readonly").objectStore(ys.storeName).getAll();n.onsuccess=function(){return r(n.result||[])},n.onerror=function(){return e(n.error)}}))}},r,this)})),function(){return u.apply(this,arguments)})},{key:"remove",value:(a=e(c().m(function r(t){var e=this;return c().w(function(r){for(;;)switch(r.n){case 0:if(this.db){r.n=1;break}return r.a(2);case 1:return r.a(2,new Promise(function(r,n){var i=e.db.transaction([ys.storeName],"readwrite");i.objectStore(ys.storeName).delete(t),i.oncomplete=function(){ba("[Offline] Removed from queue",t),r()},i.onerror=function(r){return n(r.target.error)}}))}},r,this)})),function(r){return a.apply(this,arguments)})},{key:"_updateRetry",value:(t=e(c().m(function r(t,e,n){var i=this;return c().w(function(r){for(;;)switch(r.n){case 0:if(this.db){r.n=1;break}return r.a(2);case 1:return r.a(2,new Promise(function(r,o){var a=i.db.transaction([ys.storeName],"readwrite"),u=a.objectStore(ys.storeName),c=u.get(t);c.onsuccess=function(){var r=c.result;r&&(r.retryCount=e,r.lastAttempt=Date.now(),r.error=n||null,u.put(r))},a.oncomplete=r,a.onerror=function(){return o(a.error)}}))}},r,this)})),function(r,e,n){return t.apply(this,arguments)})},{key:"processQueue",value:(r=e(c().m(function r(){var t,e,n,i,a,u,s=this;return c().w(function(r){for(;;)switch(r.p=r.n){case 0:if(!this.isProcessing&&navigator.onLine){r.n=1;break}return r.a(2);case 1:return this.isProcessing=!0,ba("[Offline] Processing queue..."),r.p=2,r.n=3,this.getAll();case 3:t=r.v,ba("[Offline] Pending submissions:",t.length),e=o(t),r.p=4,i=c().m(function r(){var t,e,i,o,a,u,f,l,d,p,v;return c().w(function(r){for(;;)switch(r.p=r.n){case 0:if(t=n.value,e=t.id,i=t.audioBlob,o=t.fileName,a=t.formFields,u=t.metadata,f=t.retryCount,l=t.instanceId,!(f>=ys.maxRetries)){r.n=1;break}return ba("[Offline] Max retries reached for",e),r.a(2,0);case 1:return r.p=1,ba("[Offline] Attempt ".concat(f+1," for"),e),r.n=2,qc({blob:i,fileName:o,formFields:a,metadata:u,instanceId:l,background:!0});case 2:return r.n=3,s.remove(e);case 3:ba("[Offline] Upload succeeded:",e),r.n=7;break;case 4:if(r.p=4,v=r.v,d=(null==v?void 0:v.message)||"Unknown upload error",ba("[Offline] Upload failed:",e,d),!(d.includes("400")||d.includes("Invalid JSON")||d.includes("QuotaExceeded"))){r.n=5;break}return ba("[Offline] Non-retryable error â leaving item in queue"),r.a(2,0);case 5:return r.n=6,s._updateRetry(e,f+1,d);case 6:return p=ys.retryDelays[Math.min(f,ys.retryDelays.length-1)],ba("[Offline] Retrying ".concat(e," after ").concat(p,"ms...")),r.n=7,new Promise(function(r){return setTimeout(r,p)});case 7:return r.a(2)}},r,null,[[1,4]])}),e.s();case 5:if((n=e.n()).done){r.n=8;break}return r.d(f(i()),6);case 6:if(0!==r.v){r.n=7;break}return r.a(3,7);case 7:r.n=5;break;case 8:r.n=10;break;case 9:r.p=9,a=r.v,e.e(a);case 10:return r.p=10,e.f(),r.f(10);case 11:r.n=13;break;case 12:r.p=12,u=r.v,console.error("[Offline] Fatal queue processing error",u);case 13:return r.p=13,this.isProcessing=!1,r.f(13);case 14:return r.a(2)}},r,this,[[4,9,10,11],[2,12,13,14]])})),function(){return r.apply(this,arguments)})},{key:"setupNetworkListeners",value:function(){var r=this;window.addEventListener("online",function(){ba("[Offline] Online â resuming queue"),r.processQueue()}),window.addEventListener("offline",function(){ba("[Offline] Offline â pausing queue")}),setInterval(function(){navigator.onLine&&r.processQueue().catch(function(r){return ba("[Offline] Retry loop error",r)})},6e4)}}]);var r,t,a,u,s,l}());function ms(){return gs.apply(this,arguments)}function gs(){return(gs=e(c().m(function r(){return c().w(function(r){for(;;)switch(r.n){case 0:if(hs.db){r.n=2;break}return r.n=1,hs.init();case 1:hs.setupNetworkListeners();case 2:return r.a(2,hs)}},r)}))).apply(this,arguments)}function bs(){return(bs=e(c().m(function r(t,e,n,i,o){var a;return c().w(function(r){for(;;)switch(r.n){case 0:return r.n=1,ms();case 1:return a=r.v,r.a(2,a.add(t,e,n,i,o))}},r)}))).apply(this,arguments)}"undefined"!=typeof window&&(window.initOffline=function(){return ms()});var ws,Ss,Ts;function As(){if(Ss)return ws;Ss=1;var r=w().isFinite;return ws=Number.isFinite||function(t){return"number"==typeof t&&r(t)}}Ts||(Ts=1,Xe()({target:"Number",stat:!0},{isFinite:As()}));var Os,Es,xs,ks,Rs,Is={};!function(){if(Rs)return Is;Rs=1;var r=Xe(),t=function(){if(Es)return Os;Es=1;var r=Or(),t=Re(),e=Ko(),n=ns(),i=Rr(),o=r(n),a=r("".slice),u=Math.ceil,c=function(r){return function(n,c,s){var f,l,d=e(i(n)),p=t(c),v=d.length,y=void 0===s?" ":e(s);return p<=v||""===y?d:((l=o(y,u((f=p-v)/y.length))).length>f&&(l=a(l,0,f)),r?d+l:l+d)}};return Os={start:c(!1),end:c(!0)}}().start;r({target:"String",proto:!0,forced:function(){if(ks)return xs;ks=1;var r=_r();return xs=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(r)}()},{padStart:function(r){return t(this,r,arguments.length>1?arguments[1]:void 0)}})}();var Ps=!1;function Cs(r){var t=document.createElement("div");return t.textContent=r,t.innerHTML}function Ms(r,t){var e=r.status,n=r.error,i=r.source,o=void 0===i?{}:i,a=r.submission,u=void 0===a?{}:a,c=r.calibration,s=void 0===c?{}:c,f=r.recorder,l=void 0===f?{}:f,d=r.instanceId;if("C"===r.tier||!0===r.fallbackActive)return["recordBtn","pauseBtn","resumeBtn","stopBtn","recorderContainer"].forEach(function(r){t[r]&&(t[r].style.display="none")}),void(t.fallbackContainer&&(t.fallbackContainer.style.display="block"));if(t.step1&&t.step2){if("uninitialized"===e)return t.step1.style.display="block",void(t.step2.style.display="none");var p="idle"!==e&&"uninitialized"!==e;t.step1.style.display=p?"none":"block",t.step2.style.display=p?"block":"none"}if(t.timer||t.timerElapsed){var v=function(r){if(!Number.isFinite(r))return"00m 00s";var t=Math.floor(r/60),e=Math.floor(r%60);return"".concat(t.toString().padStart(2,"0"),"m ").concat(e.toString().padStart(2,"0"),"s")}(l.duration||0);t.timerElapsed?t.timerElapsed.textContent=v:t.timer&&(t.timer.textContent=v),t.timer&&("recording"===e?t.timer.classList.add("starmus-timer--recording"):t.timer.classList.remove("starmus-timer--recording"))}if(t.durationProgress){var y=l.duration||0,h="recording"===e||"paused"===e||"calibrating"===e;if(t.durationProgress.parentElement&&(t.durationProgress.parentElement.style.display=h?"block":"none"),h){var m=Math.min(100,y/1200*100);t.durationProgress.style.setProperty("--starmus-recording-progress","".concat(m,"%")),t.durationProgress.setAttribute("aria-valuenow",Math.floor(y)),y>=1020?t.durationProgress.setAttribute("data-level","danger"):y>=900?t.durationProgress.setAttribute("data-level","warning"):t.durationProgress.setAttribute("data-level","safe"),y>=1200&&"recording"===e&&window.CommandBus&&window.CommandBus.dispatch("stop-mic",{},{instanceId:d})}}if(t.volumeMeter){var g="recording"===e||"paused"===e||"calibrating"===e;if(t.volumeMeter.parentElement&&(t.volumeMeter.parentElement.style.display=g?"block":"none"),g){var b=Math.max(0,Math.min(100,"calibrating"===e?s.volumePercent||0:l.amplitude||0));t.volumeMeter.style.setProperty("--starmus-audio-level","".concat(b,"%"));var w=b/100;w<.6?t.volumeMeter.setAttribute("data-level","safe"):w<.85?t.volumeMeter.setAttribute("data-level","hot"):t.volumeMeter.setAttribute("data-level","clip"),"recording"===e&&function(r,t){if(r>=.85&&!Ps){Ps=!0;var e=t.messageBox||document.querySelector("[data-starmus-message-box]");e&&(e.textContent="â ï¸ Your microphone is too loud. Move back 6â12 inches or speak softer for a cleaner recording.",e.style.display="block",e.setAttribute("role","alert"),e.setAttribute("aria-live","assertive"),setTimeout(function(){e.style.display="none",e.removeAttribute("role"),e.removeAttribute("aria-live")},6e3))}}(w,t)}else t.volumeMeter.style.setProperty("--starmus-audio-level","0%"),t.volumeMeter.removeAttribute("data-level")}var S="recording"===e,T="paused"===e,A="ready"===e,O="calibrating"===e,E="ready_to_submit"===e,x=s&&!0===s.complete,k=S||T||O;if(t.recordBtn&&(t.recordBtn.style.display=A&&x&&!k&&!E?"inline-flex":"none"),t.pauseBtn&&(t.pauseBtn.style.display=S?"inline-flex":"none"),t.resumeBtn&&(t.resumeBtn.style.display=T?"inline-flex":"none"),t.stopBtn&&(t.stopBtn.style.display=k?"inline-flex":"none",t.stopBtn.disabled=O,t.stopBtn.innerHTML=O?'<span class="dashicons dashicons-update"></span> Calibrating...':'<span class="dashicons dashicons-media-default"></span> Stop'),t.submitBtn&&(t.submitBtn.disabled="ready_to_submit"!==e,t.submitBtn.textContent="submitting"===e?"Uploadingâ¦":"Submit Recording"),t.transcriptBox){var R,I,P=(null===(R=o.transcript)||void 0===R?void 0:R.length)>0,C=(null===(I=o.interimTranscript)||void 0===I?void 0:I.length)>0;P||C?(t.transcriptBox.style.display="block",t.transcriptBox.innerHTML=(P?'<span class="starmus-transcript--final">'.concat(Cs(o.transcript),"</span>"):"")+(C?' <span class="starmus-transcript--interim">'.concat(Cs(o.interimTranscript),"</span>"):"")):t.transcriptBox.style.display="none"}if(t.statusEl){var M=t.statusEl,j="",_="starmus-status";if(n)j=n.message||"An error occurred.",_+=" starmus-status--error";else switch(e){case"ready":j="Mic calibrated. Click Start Recording.",_+=" starmus-status--success";break;case"recording":j="Recording...",_+=" starmus-status--recording";break;case"paused":j="Paused â Resume or Stop.";break;case"submitting":j="Uploading ".concat(Math.round(100*u.progress),"%");break;case"complete":j="Upload successful!",_+=" starmus-status--success";break;default:j=""}M.className=_,M.textContent=j,M.style.display=j?"block":"none"}}"undefined"!=typeof window&&(window.initUI=function(r,t){var e,n,i,o,a,u,c,s=r.getState().instanceId,f=window.CommandBus||window.StarmusHooks;function l(r){if(!f)return console.warn("[StarmusUI] No CommandBus detected.");f.dispatch(r,{},{instanceId:s})}null===(e=t.recordBtn)||void 0===e||e.addEventListener("click",function(){return l("start-recording")}),null===(n=t.pauseBtn)||void 0===n||n.addEventListener("click",function(){return l("pause-mic")}),null===(i=t.resumeBtn)||void 0===i||i.addEventListener("click",function(){return l("resume-mic")}),null===(o=t.stopBtn)||void 0===o||o.addEventListener("click",function(){return l("stop-mic")}),null===(a=t.submitBtn)||void 0===a||a.addEventListener("click",function(){return l("submit")}),null===(u=t.resetBtn)||void 0===u||u.addEventListener("click",function(){return l("reset")}),null===(c=t.setupMicBtn)||void 0===c||c.addEventListener("click",function(){return l("setup-mic")}),t.fileInput&&t.fileInput.addEventListener("change",function(r){var t,e=null===(t=r.target.files)||void 0===t?void 0:t[0];e&&f.dispatch("file-attached",{file:e},{instanceId:s})});var d=r.subscribe(function(r){return Ms(r,t)});return Ms(r.getState(),t),d});var js,_s,Ns,Ds,Bs,Ls,Fs,Us={};function qs(){return _s?js:(_s=1,js="\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff")}function zs(){if(Ds)return Ns;Ds=1;var r=Or(),t=Rr(),e=Ko(),n=qs(),i=r("".replace),o=RegExp("^["+n+"]+"),a=RegExp("(^|[^"+n+"])["+n+"]+$"),u=function(r){return function(n){var u=e(t(n));return 1&r&&(u=i(u,o,"")),2&r&&(u=i(u,a,"$1")),u}};return Ns={start:u(1),end:u(2),trim:u(3)}}!function(){if(Fs)return Us;Fs=1;var r=Xe(),t=zs().trim,e=function(){if(Ls)return Bs;Ls=1;var r=te().PROPER,t=P(),e=qs();return Bs=function(n){return t(function(){return!!e[n]()||"âÂá "!=="âÂá "[n]()||r&&e[n].name!==n})}}();r({target:"String",proto:!0,forced:e("trim")},{trim:function(){return t(this)}})}();var Hs=window.StarmusHooks||{},Ws=Hs.subscribe||function(){},Gs=Hs.debugLog||function(){};"undefined"!=typeof window&&(window.initCore=function(r,t,e){function n(n){var i=r.getState(),o=i.source||{},a=i.calibration||{},u=i.env||e||{};if("submitting"!==i.status){var c=o.blob||o.file,s=o.fileName||o.file&&o.file.name||"recording.webm";if(c){var f={transcript:(o.transcript||"").trim()||null,calibration:a.complete?JSON.parse(JSON.stringify(a)):null,env:u};r.dispatch({type:"starmus/submit-start"}),Promise.resolve().then(function(){if(!navigator.onLine)throw new Error("OFFLINE_FAST_PATH");return Gs("[Upload] Starting Priority Upload Pipeline..."),qc({blob:c,fileName:s,formFields:n,metadata:f,instanceId:t,onProgress:l})}).then(function(t){Gs("[Upload] Upload Succeeded via",t.method,t),r.dispatch({type:"starmus/submit-complete",payload:t})}).catch(function(e){var i=e&&e.message&&-1!==e.message.indexOf("not configured");"OFFLINE_FAST_PATH"!==e.message&&i?r.dispatch({type:"starmus/error",payload:{message:e.message||"Upload failed."}}):(Gs("[Upload] Upload failed/offline. Attempting offline queue..."),function(r,t,e,n,i){return bs.apply(this,arguments)}(t,c,s,n,f).then(function(t){r.dispatch({type:"starmus/submit-queued",submissionId:t})}).catch(function(t){console.error("[Upload] Offline save failed:",t),r.dispatch({type:"starmus/error",payload:{message:"Upload failed and could not be saved offline."}})}))})}else r.dispatch({type:"starmus/error",payload:{message:"Please record or attach audio before submitting."}})}function l(t,e){r.dispatch({type:"starmus/submit-progress",progress:t/e})}}return Ws("submit",function(r,e){e&&e.instanceId===t&&n(r.formFields||{})}),Ws("reset",function(e,n){n&&n.instanceId===t&&r.dispatch({type:"starmus/reset"})}),{handleSubmit:n}});var Vs,$s,Ys,Js,Qs,Ks,Xs,Zs,rf,tf,ef,nf,of,af,uf,cf,sf,ff,lf,df={};function pf(){return $s?Vs:($s=1,Vs="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView)}function vf(){if(Js)return Ys;Js=1;var r=xe(),t=Re(),e=RangeError;return Ys=function(n){if(void 0===n)return 0;var i=r(n),o=t(i);if(i!==o)throw new e("Wrong length or index");return o}}function yf(){if(tf)return rf;tf=1;var r=Ks?Qs:(Ks=1,Qs=Math.sign||function(r){var t=+r;return 0===t||t!=t?t:t<0?-1:1}),t=function(){if(Zs)return Xs;Zs=1;var r=4503599627370496;return Xs=function(t){return t+r-r}}(),e=Math.abs;return rf=function(n,i,o,a){var u=+n,c=e(u),s=r(u);if(c<a)return s*t(c/a/i)*a*i;var f=(1+i/2220446049250313e-31)*c,l=f-(f-c);return l>o||l!=l?s*(1/0):s*l}}function hf(){if(af)return of;af=1;var r=Array,t=Math.abs,e=Math.pow,n=Math.floor,i=Math.log,o=Math.LN2;return of={pack:function(a,u,c){var s,f,l,d=r(c),p=8*c-u-1,v=(1<<p)-1,y=v>>1,h=23===u?e(2,-24)-e(2,-77):0,m=a<0||0===a&&1/a<0?1:0,g=0;for((a=t(a))!=a||a===1/0?(f=a!=a?1:0,s=v):(s=n(i(a)/o),a*(l=e(2,-s))<1&&(s--,l*=2),(a+=s+y>=1?h/l:h*e(2,1-y))*l>=2&&(s++,l/=2),s+y>=v?(f=0,s=v):s+y>=1?(f=(a*l-1)*e(2,u),s+=y):(f=a*e(2,y-1)*e(2,u),s=0));u>=8;)d[g++]=255&f,f/=256,u-=8;for(s=s<<u|f,p+=u;p>0;)d[g++]=255&s,s/=256,p-=8;return d[g-1]|=128*m,d},unpack:function(r,t){var n,i=r.length,o=8*i-t-1,a=(1<<o)-1,u=a>>1,c=o-7,s=i-1,f=r[s--],l=127&f;for(f>>=7;c>0;)l=256*l+r[s--],c-=8;for(n=l&(1<<-c)-1,l>>=-c,c+=t;c>0;)n=256*n+r[s--],c-=8;if(0===l)l=1-u;else{if(l===a)return n?NaN:f?-1/0:1/0;n+=e(2,t),l-=u}return(f?-1:1)*n*e(2,l-t)}}}function mf(){if(cf)return uf;cf=1;var r=gt(),t=ke(),e=Ie();return uf=function(n){for(var i=r(this),o=e(i),a=arguments.length,u=t(a>1?arguments[1]:void 0,o),c=a>2?arguments[2]:void 0,s=void 0===c?o:t(c,o);s>u;)i[u++]=n;return i},uf}function gf(){if(ff)return sf;ff=1;var r=w(),t=Or(),e=C(),n=pf(),i=te(),o=Lt(),a=qo(),u=zo(),c=P(),s=Bo(),f=xe(),l=Re(),d=vf(),p=function(){if(nf)return ef;nf=1;var r=yf();return ef=Math.fround||function(t){return r(t,1.1920928955078125e-7,34028234663852886e22,11754943508222875e-54)}}(),v=hf(),y=Hn(),h=Yn(),m=mf(),g=wi(),b=Fo(),S=Qe(),T=Gn(),A=oe(),O=i.PROPER,E=i.CONFIGURABLE,x="ArrayBuffer",k="DataView",R="prototype",I="Wrong index",M=A.getterFor(x),j=A.getterFor(k),_=A.set,N=r[x],D=N,B=D&&D[R],L=r[k],F=L&&L[R],U=Object.prototype,q=r.Array,z=r.RangeError,H=t(m),W=t([].reverse),G=v.pack,V=v.unpack,$=function(r){return[255&r]},Y=function(r){return[255&r,r>>8&255]},J=function(r){return[255&r,r>>8&255,r>>16&255,r>>24&255]},Q=function(r){return r[3]<<24|r[2]<<16|r[1]<<8|r[0]},K=function(r){return G(p(r),23,4)},X=function(r){return G(r,52,8)},Z=function(r,t,e){a(r[R],t,{configurable:!0,get:function(){return e(this)[t]}})},rr=function(r,t,e,n){var i=j(r),o=d(e),a=!!n;if(o+t>i.byteLength)throw new z(I);var u=i.bytes,c=o+i.byteOffset,s=g(u,c,c+t);return a?s:W(s)},tr=function(r,t,e,n,i,o){var a=j(r),u=d(e),c=n(+i),s=!!o;if(u+t>a.byteLength)throw new z(I);for(var f=a.bytes,l=u+a.byteOffset,p=0;p<t;p++)f[l+p]=c[s?p:t-p-1]};if(n){var er=O&&N.name!==x;c(function(){N(1)})&&c(function(){new N(-1)})&&!c(function(){return new N,new N(1.5),new N(NaN),1!==N.length||er&&!E})?er&&E&&o(N,"name",x):((D=function(r){return s(this,B),b(new N(d(r)),this,D)})[R]=B,B.constructor=D,S(D,N)),h&&y(F)!==U&&h(F,U);var nr=new L(new D(2)),ir=t(F.setInt8);nr.setInt8(0,2147483648),nr.setInt8(1,2147483649),!nr.getInt8(0)&&nr.getInt8(1)||u(F,{setInt8:function(r,t){ir(this,r,t<<24>>24)},setUint8:function(r,t){ir(this,r,t<<24>>24)}},{unsafe:!0})}else B=(D=function(r){s(this,B);var t=d(r);_(this,{type:x,bytes:H(q(t),0),byteLength:t}),e||(this.byteLength=t,this.detached=!1)})[R],F=(L=function(r,t,n){s(this,F),s(r,B);var i=M(r),o=i.byteLength,a=f(t);if(a<0||a>o)throw new z("Wrong offset");if(a+(n=void 0===n?o-a:l(n))>o)throw new z("Wrong length");_(this,{type:k,buffer:r,byteLength:n,byteOffset:a,bytes:i.bytes}),e||(this.buffer=r,this.byteLength=n,this.byteOffset=a)})[R],e&&(Z(D,"byteLength",M),Z(L,"buffer",j),Z(L,"byteLength",j),Z(L,"byteOffset",j)),u(F,{getInt8:function(r){return rr(this,1,r)[0]<<24>>24},getUint8:function(r){return rr(this,1,r)[0]},getInt16:function(r){var t=rr(this,2,r,arguments.length>1&&arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(r){var t=rr(this,2,r,arguments.length>1&&arguments[1]);return t[1]<<8|t[0]},getInt32:function(r){return Q(rr(this,4,r,arguments.length>1&&arguments[1]))},getUint32:function(r){return Q(rr(this,4,r,arguments.length>1&&arguments[1]))>>>0},getFloat32:function(r){return V(rr(this,4,r,arguments.length>1&&arguments[1]),23)},getFloat64:function(r){return V(rr(this,8,r,arguments.length>1&&arguments[1]),52)},setInt8:function(r,t){tr(this,1,r,$,t)},setUint8:function(r,t){tr(this,1,r,$,t)},setInt16:function(r,t){tr(this,2,r,Y,t,arguments.length>2&&arguments[2])},setUint16:function(r,t){tr(this,2,r,Y,t,arguments.length>2&&arguments[2])},setInt32:function(r,t){tr(this,4,r,J,t,arguments.length>2&&arguments[2])},setUint32:function(r,t){tr(this,4,r,J,t,arguments.length>2&&arguments[2])},setFloat32:function(r,t){tr(this,4,r,K,t,arguments.length>2&&arguments[2])},setFloat64:function(r,t){tr(this,8,r,X,t,arguments.length>2&&arguments[2])}});return T(D,x),T(L,k),sf={ArrayBuffer:D,DataView:L}}!function(){if(lf)return df;lf=1;var r=Xe(),t=w(),e=gf(),n=Ho(),i="ArrayBuffer",o=e[i];r({global:!0,constructor:!0,forced:t[i]!==o},{ArrayBuffer:o}),n(i)}();var bf,wf={};!function(){if(bf)return wf;bf=1;var r=Xe(),t=Ze(),e=P(),n=gf(),i=Dt(),o=ke(),a=Re(),u=n.ArrayBuffer,c=n.DataView,s=c.prototype,f=t(u.prototype.slice),l=t(s.getUint8),d=t(s.setUint8);r({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:e(function(){return!new u(2).slice(1,void 0).byteLength})},{slice:function(r,t){if(f&&void 0===t)return f(i(this),r);for(var e=i(this).byteLength,n=o(r,e),s=o(void 0===t?e:t,e),p=new u(a(s-n)),v=new c(this),y=new c(p),h=0;n<s;)d(y,h++,l(v,n++));return p}})}();var Sf,Tf,Af,Of={};!function(){if(Af)return Of;Af=1;var r=Xe(),t=function(){if(Tf)return Sf;Tf=1;var r=w(),t=P(),e=Or(),n=Ko(),i=zs().trim,o=qs(),a=e("".charAt),u=r.parseFloat,c=r.Symbol,s=c&&c.iterator,f=1/u(o+"-0")!=-1/0||s&&!t(function(){u(Object(s))});return Sf=f?function(r){var t=i(n(r)),e=u(t);return 0===e&&"-"===a(t,0)?-0:e}:u}();r({global:!0,forced:parseFloat!==t},{parseFloat:t})}();var Ef,xf,kf,Rf,If,Pf,Cf,Mf,jf,_f,Nf,Df,Bf,Lf,Ff,Uf,qf,zf,Hf,Wf,Gf,Vf,$f={exports:{}};function Yf(){if(xf)return Ef;xf=1;var r,t,e,n=pf(),i=C(),o=w(),a=Pr(),u=Cr(),c=bt(),s=hi(),f=Fr(),l=Lt(),d=ue(),p=qo(),v=jr(),y=Hn(),h=Yn(),m=St(),g=wt(),b=oe(),S=b.enforce,T=b.get,A=o.Int8Array,O=A&&A.prototype,E=o.Uint8ClampedArray,x=E&&E.prototype,k=A&&y(A),R=O&&y(O),I=Object.prototype,P=o.TypeError,M=m("toStringTag"),j=g("TYPED_ARRAY_TAG"),_="TypedArrayConstructor",N=n&&!!h&&"Opera"!==s(o.opera),D=!1,B={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},L={BigInt64Array:8,BigUint64Array:8},F=function(r){var t=y(r);if(u(t)){var e=T(t);return e&&c(e,_)?e[_]:F(t)}},U=function(r){if(!u(r))return!1;var t=s(r);return c(B,t)||c(L,t)};for(r in B)(e=(t=o[r])&&t.prototype)?S(e)[_]=t:N=!1;for(r in L)(e=(t=o[r])&&t.prototype)&&(S(e)[_]=t);if((!N||!a(k)||k===Function.prototype)&&(k=function(){throw new P("Incorrect invocation")},N))for(r in B)o[r]&&h(o[r],k);if((!N||!R||R===I)&&(R=k.prototype,N))for(r in B)o[r]&&h(o[r].prototype,R);if(N&&y(x)!==R&&h(x,R),i&&!c(R,M))for(r in D=!0,p(R,M,{configurable:!0,get:function(){return u(this)?this[j]:void 0}}),B)o[r]&&l(o[r],j,r);return Ef={NATIVE_ARRAY_BUFFER_VIEWS:N,TYPED_ARRAY_TAG:D&&j,aTypedArray:function(r){if(U(r))return r;throw new P("Target is not a typed array")},aTypedArrayConstructor:function(r){if(a(r)&&(!h||v(k,r)))return r;throw new P(f(r)+" is not a typed array constructor")},exportTypedArrayMethod:function(r,t,e,n){if(i){if(e)for(var a in B){var u=o[a];if(u&&c(u.prototype,r))try{delete u.prototype[r]}catch(e){try{u.prototype[r]=t}catch(r){}}}R[r]&&!e||d(R,r,e?t:N&&O[r]||t,n)}},exportTypedArrayStaticMethod:function(r,t,e){var n,a;if(i){if(h){if(e)for(n in B)if((a=o[n])&&c(a,r))try{delete a[r]}catch(r){}if(k[r]&&!e)return;try{return d(k,r,e?t:N&&k[r]||t)}catch(r){}}for(n in B)!(a=o[n])||a[r]&&!e||d(a,r,t)}},getTypedArrayConstructor:F,isView:function(r){if(!u(r))return!1;var t=s(r);return"DataView"===t||c(B,t)||c(L,t)},isTypedArray:U,TypedArray:k,TypedArrayPrototype:R}}function Jf(){if(Pf)return If;Pf=1;var r=Cr(),t=Math.floor;return If=Number.isInteger||function(e){return!r(e)&&isFinite(e)&&t(e)===e}}function Qf(){if(Mf)return Cf;Mf=1;var r=xe(),t=RangeError;return Cf=function(e){var n=r(e);if(n<0)throw new t("The argument can't be less than 0");return n}}function Kf(){if(_f)return jf;_f=1;var r=Qf(),t=RangeError;return jf=function(e,n){var i=r(e);if(i%n)throw new t("Wrong offset");return i}}function Xf(){if(Df)return Nf;Df=1;var r=Math.round;return Nf=function(t){var e=r(t);return e<0?0:e>255?255:255&e}}function Zf(){if(Lf)return Bf;Lf=1;var r=hi();return Bf=function(t){var e=r(t);return"BigInt64Array"===e||"BigUint64Array"===e}}function rl(){if(Uf)return Ff;Uf=1;var r=Tt(),t=TypeError;return Ff=function(e){var n=r(e,"number");if("number"==typeof n)throw new t("Can't convert number to bigint");return BigInt(n)}}function tl(){if(zf)return qf;zf=1;var r=Co(),t=j(),e=Tu(),n=gt(),i=Ie(),o=_o(),a=jo(),u=Mo(),c=Zf(),s=Yf().aTypedArrayConstructor,f=rl();return qf=function(l){var d,p,v,y,h,m,g,b,w=e(this),S=n(l),T=arguments.length,A=T>1?arguments[1]:void 0,O=void 0!==A,E=a(S);if(E&&!u(E))for(b=(g=o(S,E)).next,S=[];!(m=t(b,g)).done;)S.push(m.value);for(O&&T>2&&(A=r(A,arguments[2])),p=i(S),v=new(s(w))(p),y=c(v),d=0;p>d;d++)h=O?A(S[d],d):S[d],v[d]=y?f(h):+h;return v},qf}function el(){if(Wf)return Hf;Wf=1;var r=Ie();return Hf=function(t,e,n){for(var i=0,o=arguments.length>2?n:r(e),a=new t(o);o>i;)a[i]=e[i++];return a},Hf}function nl(){if(Gf)return $f.exports;Gf=1;var r=Xe(),t=w(),e=j(),n=C(),i=function(){if(Rf)return kf;Rf=1;var r=w(),t=P(),e=Lo(),n=Yf().NATIVE_ARRAY_BUFFER_VIEWS,i=r.ArrayBuffer,o=r.Int8Array;return kf=!n||!t(function(){o(1)})||!t(function(){new o(-1)})||!e(function(r){new o,new o(null),new o(1.5),new o(r)},!0)||t(function(){return 1!==new o(new i(2),1,void 0).length})}(),o=Yf(),a=gf(),u=Bo(),c=Ar(),s=Lt(),f=Jf(),l=Re(),d=vf(),p=Kf(),v=Xf(),y=At(),h=bt(),m=hi(),g=Cr(),b=Lr(),S=Un(),T=jr(),A=Yn(),O=je().f,E=tl(),x=va().forEach,k=Ho(),R=qo(),I=Bt(),M=xt(),_=el(),N=oe(),D=Fo(),B=N.get,L=N.set,F=N.enforce,U=I.f,q=M.f,z=t.RangeError,H=a.ArrayBuffer,W=H.prototype,G=a.DataView,V=o.NATIVE_ARRAY_BUFFER_VIEWS,$=o.TYPED_ARRAY_TAG,Y=o.TypedArray,J=o.TypedArrayPrototype,Q=o.isTypedArray,K="BYTES_PER_ELEMENT",X="Wrong length",Z=function(r,t){R(r,t,{configurable:!0,get:function(){return B(this)[t]}})},rr=function(r){var t;return T(W,r)||"ArrayBuffer"===(t=m(r))||"SharedArrayBuffer"===t},tr=function(r,t){return Q(r)&&!b(t)&&t in r&&f(+t)&&t>=0},er=function(r,t){return t=y(t),tr(r,t)?c(2,r[t]):q(r,t)},nr=function(r,t,e){return t=y(t),!(tr(r,t)&&g(e)&&h(e,"value"))||h(e,"get")||h(e,"set")||e.configurable||h(e,"writable")&&!e.writable||h(e,"enumerable")&&!e.enumerable?U(r,t,e):(r[t]=e.value,r)};return n?(V||(M.f=er,I.f=nr,Z(J,"buffer"),Z(J,"byteOffset"),Z(J,"byteLength"),Z(J,"length")),r({target:"Object",stat:!0,forced:!V},{getOwnPropertyDescriptor:er,defineProperty:nr}),$f.exports=function(n,o,a){var c=n.match(/\d+/)[0]/8,f=n+(a?"Clamped":"")+"Array",y="get"+n,h="set"+n,m=t[f],b=m,w=b&&b.prototype,T={},R=function(r,t){U(r,t,{get:function(){return function(r,t){var e=B(r);return e.view[y](t*c+e.byteOffset,!0)}(this,t)},set:function(r){return function(r,t,e){var n=B(r);n.view[h](t*c+n.byteOffset,a?v(e):e,!0)}(this,t,r)},enumerable:!0})};V?i&&(b=o(function(r,t,n,i){return u(r,w),D(g(t)?rr(t)?void 0!==i?new m(t,p(n,c),i):void 0!==n?new m(t,p(n,c)):new m(t):Q(t)?_(b,t):e(E,b,t):new m(d(t)),r,b)}),A&&A(b,Y),x(O(m),function(r){r in b||s(b,r,m[r])}),b.prototype=w):(b=o(function(r,t,n,i){u(r,w);var o,a,s,f=0,v=0;if(g(t)){if(!rr(t))return Q(t)?_(b,t):e(E,b,t);o=t,v=p(n,c);var y=t.byteLength;if(void 0===i){if(y%c)throw new z(X);if((a=y-v)<0)throw new z(X)}else if((a=l(i)*c)+v>y)throw new z(X);s=a/c}else s=d(t),o=new H(a=s*c);for(L(r,{buffer:o,byteOffset:v,byteLength:a,length:s,view:new G(o)});f<s;)R(r,f++)}),A&&A(b,Y),w=b.prototype=S(J)),w.constructor!==b&&s(w,"constructor",b),F(w).TypedArrayConstructor=b,$&&s(w,$,f);var I=b!==m;T[f]=b,r({global:!0,constructor:!0,forced:I,sham:!V},T),K in b||s(b,K,c),K in w||s(w,K,c),k(f)}):$f.exports=function(){},$f.exports}Vf||(Vf=1,nl()("Float32",function(r){return function(t,e,n){return r(this,t,e,n)}}));var il,ol,al,ul={};!function(){if(al)return ul;al=1;var r=Or(),t=Yf(),e=function(){if(ol)return il;ol=1;var r=gt(),t=ke(),e=Ie(),n=Di(),i=Math.min;return il=[].copyWithin||function(o,a){var u=r(this),c=e(u),s=t(o,c),f=t(a,c),l=arguments.length>2?arguments[2]:void 0,d=i((void 0===l?c:t(l,c))-f,c-s),p=1;for(f<s&&s<f+d&&(p=-1,f+=d-1,s+=d-1);d-- >0;)f in u?u[s]=u[f]:n(u,s),s+=p,f+=p;return u},il}(),n=r(e),i=t.aTypedArray;(0,t.exportTypedArrayMethod)("copyWithin",function(r,t){return n(i(this),r,t,arguments.length>2?arguments[2]:void 0)})}();var cl,sl={};!function(){if(cl)return sl;cl=1;var r=Yf(),t=va().every,e=r.aTypedArray;(0,r.exportTypedArrayMethod)("every",function(r){return t(e(this),r,arguments.length>1?arguments[1]:void 0)})}();var fl,ll={};!function(){if(fl)return ll;fl=1;var r=Yf(),t=mf(),e=rl(),n=hi(),i=j(),o=Or(),a=P(),u=r.aTypedArray,c=r.exportTypedArrayMethod,s=o("".slice);c("fill",function(r){var o=arguments.length;u(this);var a="Big"===s(n(this),0,3)?e(r):+r;return i(t,this,a,o>1?arguments[1]:void 0,o>2?arguments[2]:void 0)},a(function(){var r=0;return new Int8Array(2).fill({valueOf:function(){return r++}}),1!==r}))}();var dl,pl,vl,yl={};!function(){if(vl)return yl;vl=1;var r=Yf(),t=va().filter,e=function(){if(pl)return dl;pl=1;var r=el(),t=Yf().getTypedArrayConstructor;return dl=function(e,n){return r(t(e),n)}}(),n=r.aTypedArray;(0,r.exportTypedArrayMethod)("filter",function(r){var i=t(n(this),r,arguments.length>1?arguments[1]:void 0);return e(this,i)})}();var hl,ml={};!function(){if(hl)return ml;hl=1;var r=Yf(),t=va().find,e=r.aTypedArray;(0,r.exportTypedArrayMethod)("find",function(r){return t(e(this),r,arguments.length>1?arguments[1]:void 0)})}();var gl,bl={};!function(){if(gl)return bl;gl=1;var r=Yf(),t=va().findIndex,e=r.aTypedArray;(0,r.exportTypedArrayMethod)("findIndex",function(r){return t(e(this),r,arguments.length>1?arguments[1]:void 0)})}();var wl,Sl={};!function(){if(wl)return Sl;wl=1;var r=Yf(),t=va().forEach,e=r.aTypedArray;(0,r.exportTypedArrayMethod)("forEach",function(r){t(e(this),r,arguments.length>1?arguments[1]:void 0)})}();var Tl,Al={};!function(){if(Tl)return Al;Tl=1;var r=Yf(),t=Pe().includes,e=r.aTypedArray;(0,r.exportTypedArrayMethod)("includes",function(r){return t(e(this),r,arguments.length>1?arguments[1]:void 0)})}();var Ol,El={};!function(){if(Ol)return El;Ol=1;var r=Yf(),t=Pe().indexOf,e=r.aTypedArray;(0,r.exportTypedArrayMethod)("indexOf",function(r){return t(e(this),r,arguments.length>1?arguments[1]:void 0)})}();var xl,kl={};!function(){if(xl)return kl;xl=1;var r=w(),t=P(),e=Or(),n=Yf(),i=Kn(),o=St()("iterator"),a=r.Uint8Array,u=e(i.values),c=e(i.keys),s=e(i.entries),f=n.aTypedArray,l=n.exportTypedArrayMethod,d=a&&a.prototype,p=!t(function(){d[o].call([1])}),v=!!d&&d.values&&d[o]===d.values&&"values"===d.values.name,y=function(){return u(f(this))};l("entries",function(){return s(f(this))},p),l("keys",function(){return c(f(this))},p),l("values",y,p||!v,{name:"values"}),l(o,y,p||!v,{name:"values"})}();var Rl,Il={};!function(){if(Rl)return Il;Rl=1;var r=Yf(),t=Or(),e=r.aTypedArray,n=r.exportTypedArrayMethod,i=t([].join);n("join",function(r){return i(e(this),r)})}();var Pl,Cl,Ml,jl={};!function(){if(Ml)return jl;Ml=1;var r=Yf(),t=Ou(),e=function(){if(Cl)return Pl;Cl=1;var r=Ou(),t=Ir(),e=xe(),n=Ie(),i=rn(),o=Math.min,a=[].lastIndexOf,u=!!a&&1/[1].lastIndexOf(1,-0)<0,c=i("lastIndexOf");return Pl=u||!c?function(i){if(u)return r(a,this,arguments)||0;var c=t(this),s=n(c);if(0===s)return-1;var f=s-1;for(arguments.length>1&&(f=o(f,e(arguments[1]))),f<0&&(f=s+f);f>=0;f--)if(f in c&&c[f]===i)return f||0;return-1}:a,Pl}(),n=r.aTypedArray;(0,r.exportTypedArrayMethod)("lastIndexOf",function(r){var i=arguments.length;return t(e,n(this),i>1?[r,arguments[1]]:[r])})}();var _l,Nl={};!function(){if(_l)return Nl;_l=1;var r=Yf(),t=va().map,e=r.aTypedArray,n=r.getTypedArrayConstructor;(0,r.exportTypedArrayMethod)("map",function(r){return t(e(this),r,arguments.length>1?arguments[1]:void 0,function(r,t){return new(n(r))(t)})})}();var Dl,Bl={};!function(){if(Dl)return Bl;Dl=1;var r=Yf(),t=ja().left,e=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduce",function(r){var n=arguments.length;return t(e(this),r,n,n>1?arguments[1]:void 0)})}();var Ll,Fl={};!function(){if(Ll)return Fl;Ll=1;var r=Yf(),t=ja().right,e=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduceRight",function(r){var n=arguments.length;return t(e(this),r,n,n>1?arguments[1]:void 0)})}();var Ul,ql={};!function(){if(Ul)return ql;Ul=1;var r=Yf(),t=r.aTypedArray,e=r.exportTypedArrayMethod,n=Math.floor;e("reverse",function(){for(var r,e=this,i=t(e).length,o=n(i/2),a=0;a<o;)r=e[a],e[a++]=e[--i],e[i]=r;return e})}();var zl,Hl={};!function(){if(zl)return Hl;zl=1;var r=w(),t=j(),e=Yf(),n=Ie(),i=Kf(),o=gt(),a=P(),u=r.RangeError,c=r.Int8Array,s=c&&c.prototype,f=s&&s.set,l=e.aTypedArray,d=e.exportTypedArrayMethod,p=!a(function(){var r=new Uint8ClampedArray(2);return t(f,r,{length:1,0:3},1),3!==r[1]}),v=p&&e.NATIVE_ARRAY_BUFFER_VIEWS&&a(function(){var r=new c(2);return r.set(1),r.set("2",1),0!==r[0]||2!==r[1]});d("set",function(r){l(this);var e=i(arguments.length>1?arguments[1]:void 0,1),a=o(r);if(p)return t(f,this,a,e);var c=this.length,s=n(a),d=0;if(s+e>c)throw new u("Wrong length");for(;d<s;)this[e+d]=a[d++]},!p||v)}();var Wl,Gl={};!function(){if(Wl)return Gl;Wl=1;var r=Yf(),t=P(),e=wi(),n=r.aTypedArray,i=r.getTypedArrayConstructor;(0,r.exportTypedArrayMethod)("slice",function(r,t){for(var o=e(n(this),r,t),a=i(this),u=0,c=o.length,s=new a(c);c>u;)s[u]=o[u++];return s},t(function(){new Int8Array(1).slice()}))}();var Vl,$l={};!function(){if(Vl)return $l;Vl=1;var r=Yf(),t=va().some,e=r.aTypedArray;(0,r.exportTypedArrayMethod)("some",function(r){return t(e(this),r,arguments.length>1?arguments[1]:void 0)})}();var Yl,Jl,Ql,Kl,Xl,Zl,rd,td,ed,nd={};!function(){if(ed)return nd;ed=1;var r=w(),t=Ze(),e=P(),n=Ur(),i=function(){if(Jl)return Yl;Jl=1;var r=wi(),t=Math.floor,e=function(n,i){var o=n.length;if(o<8)for(var a,u,c=1;c<o;){for(u=c,a=n[c];u&&i(n[u-1],a)>0;)n[u]=n[--u];u!==c++&&(n[u]=a)}else for(var s=t(o/2),f=e(r(n,0,s),i),l=e(r(n,s),i),d=f.length,p=l.length,v=0,y=0;v<d||y<p;)n[v+y]=v<d&&y<p?i(f[v],l[y])<=0?f[v++]:l[y++]:v<d?f[v++]:l[y++];return n};return Yl=e}(),o=Yf(),a=function(){if(Kl)return Ql;Kl=1;var r=_r().match(/firefox\/(\d+)/i);return Ql=!!r&&+r[1]}(),u=function(){if(Zl)return Xl;Zl=1;var r=_r();return Xl=/MSIE|Trident/.test(r)}(),c=Nr(),s=function(){if(td)return rd;td=1;var r=_r().match(/AppleWebKit\/(\d+)\./);return rd=!!r&&+r[1]}(),f=o.aTypedArray,l=o.exportTypedArrayMethod,d=r.Uint16Array,p=d&&t(d.prototype.sort),v=!(!p||e(function(){p(new d(2),null)})&&e(function(){p(new d(2),{})})),y=!!p&&!e(function(){if(c)return c<74;if(a)return a<67;if(u)return!0;if(s)return s<602;var r,t,e=new d(516),n=Array(516);for(r=0;r<516;r++)t=r%4,e[r]=515-r,n[r]=r-2*t+3;for(p(e,function(r,t){return(r/4|0)-(t/4|0)}),r=0;r<516;r++)if(e[r]!==n[r])return!0});l("sort",function(r){return void 0!==r&&n(r),y?p(this,r):i(f(this),function(r){return function(t,e){return void 0!==r?+r(t,e)||0:e!=e?-1:t!=t?1:0===t&&0===e?1/t>0&&1/e<0?1:-1:t>e}}(r))},!y||v)}();var id,od={};!function(){if(id)return od;id=1;var r=Yf(),t=Re(),e=ke(),n=r.aTypedArray,i=r.getTypedArrayConstructor;(0,r.exportTypedArrayMethod)("subarray",function(r,o){var a=n(this),u=a.length,c=e(r,u);return new(i(a))(a.buffer,a.byteOffset+c*a.BYTES_PER_ELEMENT,t((void 0===o?u:e(o,u))-c))})}();var ad,ud={};!function(){if(ad)return ud;ad=1;var r=w(),t=Ou(),e=Yf(),n=P(),i=wi(),o=r.Int8Array,a=e.aTypedArray,u=e.exportTypedArrayMethod,c=[].toLocaleString,s=!!o&&n(function(){c.call(new o(1))});u("toLocaleString",function(){return t(c,s?i(a(this)):a(this),i(arguments))},n(function(){return[1,2].toLocaleString()!==new o([1,2]).toLocaleString()})||!n(function(){o.prototype.toLocaleString.call([1,2])}))}();var cd,sd={};!function(){if(cd)return sd;cd=1;var r=Yf().exportTypedArrayMethod,t=P(),e=w(),n=Or(),i=e.Uint8Array,o=i&&i.prototype||{},a=[].toString,u=n([].join);t(function(){a.call({})})&&(a=function(){return u(this)});var c=o.toString!==a;r("toString",a,c)}(),function(r){var t=r.StarmusHooks,e=t&&t.debugLog||function(){},n={},i=null;function o(r,e,n){try{t&&"function"==typeof t.dispatch&&t.dispatch("starmus_event",{instanceId:r,event:e,severity:n.severity||"info",message:n.message||"",data:n.data||{}})}catch(r){console.warn("[Starmus] Telemetry emit failed:",r)}}function a(){var t=r.AudioContext||r.webkitAudioContext;if(!t)throw new Error("AudioContext not supported");if((!i||"closed"===i.state)&&(i=new t({latencyHint:"interactive"}),e("[Recorder] Created AudioContext, state:",i.state),"function"!=typeof i.createMediaStreamSource))throw new Error("AudioContext lacks createMediaStreamSource");return i}function u(r){var t=a(),n=t.createMediaStreamSource(r);try{var i=function(r){var t=r.createMediaStreamDestination||r.createMediaStreamAudioDestination;if("function"!=typeof t)throw new Error("MediaStreamDestination not supported");var e=t.call(r);if(!e||!e.stream)throw new Error("Destination stream invalid");return e}(t),o=t.createBiquadFilter();o.type="highpass",o.frequency.value=85;var u=t.createDynamicsCompressor();u.threshold.value=-20,u.knee.value=40,u.ratio.value=12,u.attack.value=0,u.release.value=.25;var c=t.createAnalyser();return c.fftSize=2048,n.connect(o),o.connect(u),u.connect(c),c.connect(i),{audioContext:t,destinationStream:i.stream,analyser:c,nodes:[n,o,u,c,i],fallbackActive:!1}}catch(i){e("[Recorder] Audio graph failed â fallback to raw stream:",i.message);var s=t.createAnalyser();return s.fftSize=2048,n.connect(s),{audioContext:t,destinationStream:r,analyser:s,nodes:[n,s],fallbackActive:!0}}}r.initStarmusRecorder=function(i,c){var s=i.getState&&i.getState().tier||"A";e("[Recorder]["+c+"] Tier:",s),t.subscribe("setup-mic",function(r,t){if(t&&t.instanceId===c){if(!navigator.mediaDevices||"function"!=typeof navigator.mediaDevices.getUserMedia){var e="Microphone not supported.";return o(c,"E_RECORDER_UNSUPPORTED",{severity:"error",message:e}),void i.dispatch({type:"starmus/error",payload:{message:e,retryable:!1}})}navigator.mediaDevices.getUserMedia({audio:!0}).then(function(r){return o(c,"E_MIC_ACCESS",{severity:"info",message:"Mic access granted"}),i.dispatch({type:"starmus/calibration-start"}),(t=r,e=function(r,t){i.dispatch({type:"starmus/calibration-update",message:r,volumePercent:t})},new Promise(function(r){var n;try{n=a()}catch(t){return void r({gain:1,snr:1,noiseFloor:0,speechLevel:0,timestamp:(new Date).toISOString()})}var i=n.createAnalyser();i.fftSize=2048;var o=n.createMediaStreamSource(t);o.connect(i);var u=new Float32Array(i.fftSize),c=[],s=Date.now();!function t(){if("running"===n.state){i.getFloatTimeDomainData(u);for(var a=0,f=0;f<u.length;f++)a+=u[f]*u[f];var l=Math.sqrt(a/u.length);if(isFinite(l)){if(c.push(l),e){var d=Math.min(100,2e3*l);e("Calibratingâ¦",d,!1)}if(Date.now()-s<15e3)requestAnimationFrame(t);else{var p=Math.max(1,Math.floor(c.length/3)),v=c.slice(0,p),y=c.slice(p,2*p),h=function(r){for(var t=0,e=0;e<r.length;e++)t+=r[e];return t/r.length},m=h(v),g=h(y),b=g/Math.max(m,1e-6),w=b<3?6:Math.max(1,Math.min(4,.1/Math.max(g,1e-6))),S={gain:parseFloat(w.toFixed(3)),snr:parseFloat(b.toFixed(3)),noiseFloor:parseFloat(m.toFixed(6)),speechLevel:parseFloat(g.toFixed(6)),timestamp:(new Date).toISOString()};try{o.disconnect()}catch(r){}try{i.disconnect()}catch(r){}e&&e("Mic calibrated",null,!0),r(S)}}else requestAnimationFrame(t)}else requestAnimationFrame(t)}()})).then(function(t){try{r.getTracks().forEach(function(r){r.stop()})}catch(r){}i.dispatch({type:"starmus/calibration-complete",calibration:t})});var t,e}).catch(function(r){var t=r&&"NotAllowedError"===r.name?"Microphone permission denied.":"Failed to access microphone.";o(c,"E_MIC_ACCESS",{severity:"error",message:t,data:{error:r.message}}),i.dispatch({type:"starmus/error",payload:{message:t,retryable:!0}})})}}),t.subscribe("start-recording",function(t,a){if(a&&a.instanceId===c){var s=i.getState();"calibrating"!==s.status?s.calibration&&!0===s.calibration.complete?navigator.mediaDevices&&"function"==typeof navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({audio:!0}).then(function(t){var a,s=u(t),f=s.destinationStream,l=s.analyser;"suspended"===s.audioContext.state&&s.audioContext.resume().catch(function(){}),(a=f,new Promise(function(r){var t=a.getAudioTracks&&a.getAudioTracks()||[];if(t.length){var e=t[0];if("live"!==e.readyState){var n=0,i=setInterval(function(){("live"===e.readyState||n>100)&&(clearInterval(i),r()),n+=1},50);setTimeout(function(){clearInterval(i),r()},5e3)}else r()}else r()})).then(function(){if((f.getAudioTracks&&f.getAudioTracks()||[]).length){var a,u=[];try{a=new r.MediaRecorder(f,{})}catch(r){e("[Recorder] MediaRecorder creation failed:",r);try{t.getTracks().forEach(function(r){r.stop()})}catch(r){}return void i.dispatch({type:"starmus/error",payload:{message:"Unable to start recording",retryable:!0}})}var d={mediaRecorder:a,rawStream:t,processedStream:f,audioContext:s.audioContext,analyser:l,nodes:s.nodes,fallbackActive:s.fallbackActive};n[c]=d,a.ondataavailable=function(r){r.data&&r.data.size>0&&u.push(r.data)},a.onstop=function(){if(n[c]===d){try{d.audioContext&&d.audioContext.close&&d.audioContext.close()}catch(r){}var r=new Blob(u,{type:a.mimeType||"audio/webm"}),e="starmus-recording-"+Date.now()+".webm";i.dispatch({type:"starmus/recording-available",payload:{blob:r,fileName:e}});try{t.getTracks().forEach(function(r){r.stop()})}catch(r){}try{f.getTracks().forEach(function(r){r.stop()})}catch(r){}d.nodes.forEach(function(r){try{r.disconnect()}catch(r){}}),delete n[c]}},a.onerror=function(r){e("[Recorder] MediaRecorder error:",r),o(c,"E_RECORDER_ERROR",{severity:"error",message:r.message}),i.dispatch({type:"starmus/error",payload:{message:"Recording error",retryable:!0}})};try{if("inactive"!==a.state)throw new Error("MediaRecorder not in inactive state");a.start(3e3),i.dispatch({type:"starmus/mic-start"})}catch(r){e("[Recorder] mediaRecorder.start failed:",r);try{t.getTracks().forEach(function(r){r.stop()})}catch(r){}return delete n[c],i.dispatch({type:"starmus/error",payload:{message:"Cannot start recording",retryable:!0}}),void o(c,"E_RECORDER_START_FAIL",{severity:"error",message:r.message})}var p=new Float32Array(l.fftSize);d.startTime=Date.now(),d.rafId=requestAnimationFrame(function r(){var t=n[c];if(t&&t.mediaRecorder&&("recording"===t.mediaRecorder.state||"paused"===t.mediaRecorder.state)){try{t.analyser.getFloatTimeDomainData(p);for(var e=0,o=0;o<p.length;o++)e+=p[o]*p[o];var a=Math.sqrt(e/p.length),u=Math.min(100,Math.max(0,4e3*a)),s=(Date.now()-d.startTime)/1e3;i.dispatch({type:"starmus/recorder-tick",duration:s,amplitude:u})}catch(r){}d.rafId=requestAnimationFrame(r)}})}else{try{t.getTracks().forEach(function(r){r.stop()})}catch(r){}i.dispatch({type:"starmus/error",payload:{message:"Invalid audio stream",retryable:!0}})}})}).catch(function(r){var t="Could not access microphone.";o(c,"E_MIC_ACCESS",{severity:"error",message:t,data:{error:r.message}}),i.dispatch({type:"starmus/error",payload:{message:t,retryable:!0}})}):i.dispatch({type:"starmus/error",payload:{message:"Microphone not available.",retryable:!1}}):i.dispatch({type:"starmus/error",payload:{message:"Please setup your microphone first.",retryable:!0}}):i.dispatch({type:"starmus/error",payload:{message:"Please wait for calibration to complete.",retryable:!0}})}}),t.subscribe("stop-mic",function(r,t){if(t&&t.instanceId===c){var e=n[c];if(e&&e.mediaRecorder&&"recording"===e.mediaRecorder.state){i.dispatch({type:"starmus/mic-stop"});try{e.mediaRecorder.stop()}catch(r){}}}}),t.subscribe("pause-mic",function(r,t){if(t&&t.instanceId===c){var e=n[c];e&&e.mediaRecorder&&"recording"===e.mediaRecorder.state&&"function"==typeof e.mediaRecorder.pause&&(i.dispatch({type:"starmus/mic-pause"}),e.mediaRecorder.pause())}}),t.subscribe("resume-mic",function(r,t){if(t&&t.instanceId===c){var e=n[c];e&&e.mediaRecorder&&"paused"===e.mediaRecorder.state&&"function"==typeof e.mediaRecorder.resume&&(i.dispatch({type:"starmus/mic-resume"}),e.mediaRecorder.resume())}}),t.subscribe("reset",function(r,t){if(t&&t.instanceId===c){var e=n[c];if(e){try{e.mediaRecorder&&"inactive"!==e.mediaRecorder.state&&e.mediaRecorder.stop()}catch(r){}e.rafId&&cancelAnimationFrame(e.rafId),e.rawStream&&e.rawStream.getTracks().forEach(function(r){r.stop()}),e.processedStream&&e.processedStream.getTracks().forEach(function(r){r.stop()}),e.nodes&&e.nodes.forEach(function(r){try{r.disconnect()}catch(r){}}),delete n[c]}}})}}("undefined"!=typeof window?window:globalThis),"undefined"!=typeof window&&(window.initRecorder=initRecorder,window.initStarmusRecorder=initRecorder);var fd=function(){return i(function r(t,e,i){n(this,r),this.peaks=t,this.container=document.getElementById(e),this.data=i||[],this.activeTokenIndex=-1,this.isUserScrolling=!1,this.scrollTimeout=null,this.init()},[{key:"init",value:function(){this.container?(this.render(),this.bindEvents()):console.warn("Starmus Transcript: Container not found. Transcript sync disabled.")}},{key:"render",value:function(){var r,t=this,e=document.createElement("div");this.data.forEach(function(r,n){var i=document.createElement("span");i.textContent=r.text,i.className="starmus-word",i.dataset.index=n,i.dataset.start=r.start,i.dataset.end=r.end,r.confidence&&r.confidence<.8&&(i.dataset.confidence="low",i.title="Low confidence: ".concat(Math.round(100*r.confidence),"%")),e.appendChild(i),n<t.data.length-1&&e.appendChild(document.createTextNode(" "))}),(r=this.container).replaceChildren.apply(r,d(e.childNodes))}},{key:"bindEvents",value:function(){var r=this;this.container.addEventListener("click",function(t){if(t.target.classList.contains("starmus-word")){var e=parseFloat(t.target.dataset.start);r.peaks.player.seek(e)}}),this.container.addEventListener("scroll",function(){r.isUserScrolling=!0,clearTimeout(r.scrollTimeout),r.scrollTimeout=setTimeout(function(){r.isUserScrolling=!1},1e3)});var t=this.peaks.player.getMediaElement();t&&t.addEventListener("timeupdate",function(){r.syncHighlight(r.peaks.player.getCurrentTime())})}},{key:"findTokenIndex",value:function(r){for(var t=0,e=this.data.length-1;t<=e;){var n=Math.floor((t+e)/2),i=this.data[n];if(r>=i.start&&r<=i.end)return n;r<i.start?e=n-1:t=n+1}return-1}},{key:"syncHighlight",value:function(r){var t=this.data[this.activeTokenIndex];if(!(t&&r>=t.start&&r<=t.end)){var e=this.findTokenIndex(r);-1!==e&&e!==this.activeTokenIndex&&this.updateDOM(e)}}},{key:"updateDOM",value:function(r){var t=this.container.querySelectorAll(".starmus-word");if(-1!==this.activeTokenIndex){var e=t[this.activeTokenIndex];e&&e.classList.remove("is-active")}this.activeTokenIndex=r;var n=t[r];n&&(n.classList.add("is-active"),this.isUserScrolling||this.scrollToWord(n))}},{key:"scrollToWord",value:function(r){var t=this.container.getBoundingClientRect(),e=r.getBoundingClientRect(),n=e.top<t.top,i=e.bottom>t.bottom;(n||i)&&r.scrollIntoView({behavior:"smooth",block:"center"})}},{key:"updateData",value:function(r){this.data=r||[],this.activeTokenIndex=-1,this.render()}},{key:"destroy",value:function(){this.scrollTimeout&&clearTimeout(this.scrollTimeout),this.container&&(this.container.innerHTML="")}}])}();"undefined"!=typeof window&&(window.StarmusTranscript=fd),"undefined"!=typeof module&&module.exports&&(module.exports=fd),"undefined"!=typeof window&&(window.StarmusTranscriptController=fd,window.initTranscriptController=function(r,t,e){return new fd(r,t,e)});var ld,dd={};!function(){if(ld)return dd;ld=1;var r=Xe(),t=C(),e=Bt().f;r({target:"Object",stat:!0,forced:Object.defineProperty!==e,sham:!t},{defineProperty:e})}(),function(r){if(r.Starmus=r.Starmus||{},r.STARMUS_EDITOR_DATA?(r.STARMUS_BOOTSTRAP=r.STARMUS_EDITOR_DATA,r.STARMUS_BOOTSTRAP.pageType="editor"):r.STARMUS_RERECORDER_DATA?(r.STARMUS_BOOTSTRAP=r.STARMUS_RERECORDER_DATA,r.STARMUS_BOOTSTRAP.pageType="rerecorder"):r.STARMUS_RECORDER_DATA&&(r.STARMUS_BOOTSTRAP=r.STARMUS_RECORDER_DATA,r.STARMUS_BOOTSTRAP.pageType="recorder"),r.Starmus_DisableOptionalNodes=!0,r.Starmus_DisableOptionalNodes){var t=(r.AudioContext||r.webkitAudioContext||{}).prototype;t&&(t.createConstantSource&&(t.createConstantSource=function(){throw new Error("ConstantSourceNode disabled")}),t.createIIRFilter&&(t.createIIRFilter=function(){throw new Error("IIRFilterNode disabled")}))}!function(r){try{if("function"==typeof r.Peaks||"object"===v(r.Peaks))return void(r.Starmus.Peaks=r.Peaks);Object.defineProperty(r,"Peaks",{get:function(){return r.Starmus.Peaks},set:function(t){r.Starmus.Peaks=t},configurable:!0})}catch(r){console.warn("[Starmus] Peaks.js exposure failed:",r)}}(r);var n=r.StarmusHooks,i=r.StarmusStateStore,o=r.StarmusUI_initInstance,a=r.StarmusCore_init,u=r.StarmusOffline_init;if(n&&i&&o&&a&&u){r.StarmusApp=r.StarmusApp||{},r.StarmusApp.isRecordingSupported=m,u().catch(function(r){console.error("[Starmus] Offline queue init failed:",r)});var s={},f=!1,l=null;document.addEventListener("sparxstar:environment-ready",function(r){f=!0,l&&(clearTimeout(l),l=null),w(r)}),l=setTimeout(function(){f||(console.warn("[Starmus] environment-ready not fired; using fallback."),S())},2e3),r.Starmus.instances=s}else console.error("[Starmus Integrator] Critical dependencies missing â cannot initialize.");function d(t,e){try{r.StarmusHooks&&"function"==typeof r.StarmusHooks.doAction&&r.StarmusHooks.doAction("starmus_event",{instanceId:e.instanceId||null,event:t,severity:e.severity||"info",message:e.message||"",data:e.data||{}})}catch(r){console.warn("[Starmus] Global telemetry emit failed:",r)}}function p(){try{return navigator.deviceMemory||null}catch(r){return null}}function y(){try{return navigator.hardwareConcurrency||null}catch(r){return null}}function h(){return(h=e(c().m(function r(t){var e,n;return c().w(function(r){for(;;)switch(r.p=r.n){case 0:if("C"!==t){r.n=1;break}return r.a(2,"C");case 1:if(!navigator.storage||!navigator.storage.estimate){r.n=6;break}return r.p=2,r.n=3,navigator.storage.estimate();case 3:if(e=r.v,!((n=(e.quota||0)/1024/1024)&&n<80)){r.n=4;break}return r.a(2,"C");case 4:r.n=6;break;case 5:r.p=5,r.v;case 6:if(!navigator.permissions||!navigator.permissions.query){r.n=11;break}return r.p=7,r.n=8,navigator.permissions.query({name:"microphone"});case 8:if("denied"!==r.v.state){r.n=9;break}return r.a(2,"C");case 9:r.n=11;break;case 10:r.p=10,r.v;case 11:return r.a(2,t)}},r,null,[[7,10],[2,5]])}))).apply(this,arguments)}function m(){try{var t=!(!navigator.mediaDevices||"function"!=typeof navigator.mediaDevices.getUserMedia),e="function"==typeof r.MediaRecorder,n=!(!r.AudioContext&&!r.webkitAudioContext);return t&&e&&n}catch(r){return!1}}function g(r,t,e){var n=document.createElement("script");n.src=r,n.async=!0,n.onload=t,n.onerror=e,document.head.appendChild(n)}function b(t,e){var n=e.getAttribute("data-starmus-id");if(n||(n="starmus_"+Date.now()+"_"+Math.random().toString(16).slice(2),e.setAttribute("data-starmus-id",n)),s[n])return n;var u=function(r){var t=r.capabilities||{},e=r.network||{};if(/\bCrOS\b|Chrome OS/i.test(navigator.userAgent))return"A";if(!t.mediaRecorder||!t.webrtc)return"C";var n=p(),i=y();if(n&&n<1)return"C";if(i){if(1===i)return"C";if(2===i)return"B"}return/wv|Crosswalk|Android WebView|Opera Mini/i.test(navigator.userAgent)?"C":"2g"===e.effectiveType||"slow-2g"===e.effectiveType||n&&n<2?"B":"A"}(t);(function(r){return h.apply(this,arguments)})(u).then(function(u){console.log("[Starmus] Instance",n,"-> Tier",u),d("TIER_ASSIGN",{instanceId:n,severity:"info",message:"Tier "+u+" assigned",data:{tier:u}});var c=i({instanceId:n,env:t,tier:u});c.getState().tier||c.dispatch({type:"starmus/tier-ready",payload:{tier:u}});var f={step1:e.querySelector(".starmus-step-1"),step2:e.querySelector(".starmus-step-2"),continueBtn:e.querySelector('[data-starmus-action="continue"]'),messageBox:e.querySelector("[data-starmus-message-box]"),setupMicBtn:e.querySelector('[data-starmus-action="setup-mic"]'),recordBtn:e.querySelector('[data-starmus-action="record"]'),pauseBtn:e.querySelector('[data-starmus-action="pause"]'),resumeBtn:e.querySelector('[data-starmus-action="resume"]'),stopBtn:e.querySelector('[data-starmus-action="stop"]'),submitBtn:e.querySelector('[data-starmus-action="submit"]'),resetBtn:e.querySelector('[data-starmus-action="reset"]'),fileInput:e.querySelector('input[type="file"]'),statusEl:e.querySelector("[data-starmus-status]"),progressEl:e.querySelector("[data-starmus-progress]"),progressWrap:e.querySelector(".starmus-progress-wrap"),recorderContainer:e.querySelector("[data-starmus-recorder-container]"),fallbackContainer:e.querySelector("[data-starmus-fallback-container]")};o(c,f),a(c,n,t),"C"!==u&&m()?g("starmus-recorder.js",function(){"function"==typeof r.initStarmusRecorder?r.initStarmusRecorder(c,n):(console.warn("[Starmus] Recorder init missing â falling back"),g("starmus-recorder-legacy.js",function(){"function"==typeof r.initStarmusRecorderLegacy?r.initStarmusRecorderLegacy(c,n):c.dispatch({type:"starmus/error",payload:{message:"Recorder init failed",retryable:!1}})}))},function(){console.warn("[Starmus] Full recorder load failed â falling back to legacy"),g("starmus-recorder-legacy.js",function(){"function"==typeof r.initStarmusRecorderLegacy?r.initStarmusRecorderLegacy(c,n):c.dispatch({type:"starmus/error",payload:{message:"Recorder fallback load failed",retryable:!1}})})}):(f.recorderContainer&&(f.recorderContainer.style.display="none"),f.fallbackContainer&&(f.fallbackContainer.style.display="block"),g("starmus-recorder-legacy.js",function(){"function"==typeof r.initStarmusRecorderLegacy?r.initStarmusRecorderLegacy(c,n):c.dispatch({type:"starmus/error",payload:{message:"Legacy recorder not available",retryable:!1}})},function(){console.error("[Starmus] Failed to load legacy recorder."),c.dispatch({type:"starmus/error",payload:{message:"Legacy recorder load failed",retryable:!1}})})),s[n]={store:c,form:e,elements:f,tier:u}})}function w(r){var t=r.detail||{},e=document.querySelectorAll('form[data-starmus="recorder"]');if(e&&0!==e.length)for(var n=0;n<e.length;n++)b(t,e[n])}function S(){var t=function(){try{return navigator.connection||navigator.mozConnection||navigator.webkitConnection||null}catch(r){return null}}()||{},e={browser:{userAgent:navigator.userAgent},device:{type:/mobile|android|iphone|ipad/i.test(navigator.userAgent)?"mobile":"desktop",memory:p(),concurrency:y()},capabilities:{webrtc:!(!navigator.mediaDevices||"function"!=typeof navigator.mediaDevices.getUserMedia),mediaRecorder:!!r.MediaRecorder,indexedDB:!!r.indexedDB},network:{effectiveType:t.effectiveType||"unknown",downlink:t.downlink||null,saveData:t.saveData||!1}};d("E_ENV_FALLBACK_INIT",{severity:"warning",message:"Fallback env used",data:{fallbackEnv:e}}),w({detail:e})}}("undefined"!=typeof window?window:globalThis),window.createStore=createStore,window.StarmusHooks=StarmusHooks,window.initCore=initCore,window.initUI=initUI,window.StarmusRecorder=StarmusRecorder,window.StarmusRecorderLegacy=StarmusRecorderLegacy,window.StarmusTus=StarmusTus,window.StarmusTranscriptController=StarmusTranscriptController,window.StarmusOfflineQueue=getOfflineQueue,window.StarmusQueueSubmission=queueSubmission,console.log("[Starmus] Globals wired:",{createStore:v(window.createStore),initCore:v(window.initCore),initUI:v(window.initUI),Recorder:v(window.StarmusRecorder),Tus:v(window.StarmusTus),Transcript:v(window.StarmusTranscriptController)});
