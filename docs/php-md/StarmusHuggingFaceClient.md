# StarmusHuggingFaceClient

**Namespace:** `Starisian\Sparxstar\Starmus\integrations`

**File:** `/workspaces/starmus-audio-recorder/src/integrations/StarmusHuggingFaceClient.php`

## Description

Minimal client to send audio files + first-pass transcription to a HuggingFace-compatible endpoint.
Implementation notes:
- Reads the local file using `get_attached_file()` when possible and base64-encodes it.
- Sends JSON payload: { filename, mime_type, audio_base64, first_pass_transcription }
- Uses the option `aiwa_ai_endpoint` and `aiwa_ai_api_key` for configuration.
The remote model should accept this shape; adjust as needed.

## Methods

### `sendFileWithFirstPass()`

**Visibility:** `public`

Minimal client to send audio files + first-pass transcription to a HuggingFace-compatible endpoint.
Implementation notes:
- Reads the local file using `get_attached_file()` when possible and base64-encodes it.
- Sends JSON payload: { filename, mime_type, audio_base64, first_pass_transcription }
- Uses the option `aiwa_ai_endpoint` and `aiwa_ai_api_key` for configuration.
The remote model should accept this shape; adjust as needed.
/
class StarmusHuggingFaceClient
{
    private readonly string $endpoint;

    private readonly string $api_key;

    public function __construct(?string $endpoint = null, ?string $api_key = null)
    {
        $this->endpoint = $endpoint ?: (string) get_option('aiwa_ai_endpoint', '');
        $this->api_key  = $api_key ?: (string) get_option('aiwa_ai_api_key', '');
    }

    /**
Send the attachment to the configured endpoint along with the first-pass transcription.
Returns decoded response array on success or null on failure.

---

_Generated by Starisian Documentation Generator_
