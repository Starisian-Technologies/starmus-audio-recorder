# is

**Namespace:** `Starisian\Sparxstar\Starmus\core`

**File:** `/workspaces/starmus-audio-recorder/src/core/StarmusAssetLoader.php`

## Description

Unified, build-process-aware, and ES-Module-aware asset loader for the Starmus Audio System.
This class is the sole authority for enqueuing all Starmus client-side assets.

- In production (WP_DEBUG is false), it loads a single, minified, bundled file for performance.
- In development (WP_DEBUG is true), it loads the 'starmus-integrator.js' as a native
  ES Module (`type="module"`), allowing the browser to handle the dependency tree for
  the best possible debugging experience.
@package Starisian\Sparxstar\Starmus\core
@version 0.9.2

## Methods

### `__construct()`

**Visibility:** `public`

Unified, build-process-aware, and ES-Module-aware asset loader for the Starmus Audio System.
This class is the sole authority for enqueuing all Starmus client-side assets.

- In production (WP_DEBUG is false), it loads a single, minified, bundled file for performance.
- In development (WP_DEBUG is true), it loads the 'starmus-integrator.js' as a native
  ES Module (`type="module"`), allowing the browser to handle the dependency tree for
  the best possible debugging experience.
@package Starisian\Sparxstar\Starmus\core
@version 0.9.2
/
namespace Starisian\Sparxstar\Starmus\core;

use function array_filter;
use function array_map;
use function array_values;
use function defined;
use function explode;
use function is_admin;

use Starisian\Sparxstar\Starmus\helpers\StarmusLogger;

use function str_replace;

use Throwable;

use function trim;

if (! \defined('ABSPATH')) {
    exit;
}

final class StarmusAssetLoader
{
    /**
Handle for the production bundle script.
@var string
/
    private const HANDLE_PROD_BUNDLE = 'starmus-audio-recorder-script.bundle';

    /**
Handle for the main stylesheet.
@var string
/
    private const STYLE_HANDLE = 'starmus-audio-recorder-styles';

    /**
StarmusSettings settings object
/
    private ?StarmusSettings $settings = null;

    /**
Editor data to be localized, set by shortcode loader
@var array<string, mixed>|null
/
    private static ?array $editor_data = null;

    /**
Constructor - Registers WordPress hooks for asset enqueueing.
@param StarmusSettings $settings The settings instance to use for configuration.

### `enqueue_frontend_assets()`

**Visibility:** `public`

Enqueues frontend assets for Starmus pages.
Only loads assets on frontend pages that contain Starmus shortcodes.
Always uses production-optimized bundled assets for performance.

### `set_editor_data()`

**Visibility:** `public`

Set editor data to be localized when assets are enqueued.
Called by shortcode loader with specific editor context.

## Properties

---

_Generated by Starisian Documentation Generator_
