# StarmusR2DirectService

**Namespace:** `Starisian\Sparxstar\Starmus\services`

**File:** `/workspaces/starmus-audio-recorder/src/services/StarmusR2DirectService.php`

## Description

Direct Cloudflare R2 Audio Service
Minimal SDK-based R2 control for Africa bandwidth optimization.
Bypasses WordPress plugins for direct storage management.

## Methods

### `processAfricaAudio()`

**Visibility:** `public`

Direct Cloudflare R2 Audio Service
Minimal SDK-based R2 control for Africa bandwidth optimization.
Bypasses WordPress plugins for direct storage management.
/
final class StarmusR2DirectService
{
    private S3Client $r2_client;

    private string $bucket;

    private ?StarmusId3Service $id3_service = null;

    public function __construct(StarmusId3Service $id3_service)
    {
        try {
            $this->id3_service = $id3_service;
            $this->bucket      = \defined('STARMUS_R2_BUCKET') ? STARMUS_R2_BUCKET : 'starmus-audio';

            $this->r2_client = new S3Client(
                [
            'version'     => 'latest',
            'region'      => 'auto',
            'endpoint'    => 'https://' . (\defined('STARMUS_R2_ACCOUNT_ID') ? STARMUS_R2_ACCOUNT_ID : '') . '.r2.cloudflarestorage.com',
            'credentials' => [
            'key'    => \defined('STARMUS_R2_ACCESS_KEY') ? STARMUS_R2_ACCESS_KEY : '',
            'secret' => \defined('STARMUS_R2_SECRET_KEY') ? STARMUS_R2_SECRET_KEY : '',
            ],
            'use_path_style_endpoint' => true,
            ]
            );
        } catch (Throwable $throwable) {
            StarmusLogger::log($throwable);
        }
    }

    /**
Process audio for African networks with direct R2 control

### `getAfricaEstimates()`

**Visibility:** `public`

Get bandwidth estimates for Africa

---

_Generated by Starisian Documentation Generator_
