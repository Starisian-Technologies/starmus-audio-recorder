<!DOCTYPE html>
<html lang="en" id="top-of-site">
	<head>
		<meta name="viewport" content="width=device-width,initial-scale=1">
		<meta charset="utf-8"/>
		<title>
							Documentation
					</title>
		<meta name="author" content=""/>
		<meta name="description" content=""/>
		<base href="../">

		<link href="resources/css/bootstrap.min.css" rel="stylesheet" media="all"/>
		<link href="resources/css/bootstrap-responsive.min.css" rel="stylesheet" media="all"/>
		<link href="resources/css/style.css" rel="stylesheet" media="all"/>
		<link href="resources/css/prism.min.css" rel="stylesheet" media="all"/>
		<link href="resources/font/css/all.min.css" rel="stylesheet" media="all"/>

		<link rel="shortcut icon" href="resources/images/favicon.ico"/>
		<link rel="apple-touch-icon" href="resources/images/apple-touch-icon.png"/>
		<link rel="apple-touch-icon" sizes="72x72" href="resources/images/apple-touch-icon-72x72.png"/>
		<link rel="apple-touch-icon" sizes="114x114" href="resources/images/apple-touch-icon-114x114.png"/>
	</head>
	<body>

		<nav class="navbar navbar-fixed-top navbar-inverse">
			<div class="navbar-inner">
				<div class="container">
					<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
						<i class="fa-solid fa-bars"></i>
					</a>
					<a class="brand" href="index.html">Documentation</a>

					<div class="nav-collapse navbar-responsive-collapse collapse">
						<ul class="nav pull-right">
															<li class="dropdown" id="api-menu">
									<a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-labelledby="api-menu">
										API Documentation
										<b class="caret"></b>
									</a>
									<ul class="dropdown-menu" role="menu" aria-labelledby="api-menu">
																					<li><a href="namespaces/starisian.html"><abbr title="\Starisian">Starisian</abbr></a></li>
																			</ul>
								</li>
																					<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">
									Reports
									<b class="caret"></b>
								</a>
								<ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu">
									<li>
										<a href="reports/errors.html">
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																									<i class="fa-solid fa-bug"></i>&#160;Errors
											<span class="label label-important pull-right">3</span>
										</a>
									</li>
									<li>
										<a href="reports/markers.html">
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																									<i class="fa-solid fa-location-dot"></i>&#160;&#160;Markers
											<span class="label label-warning pull-right">0</span>
										</a>
									</li>
									<li>
										<a href="reports/deprecated.html">
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																					<i class="fa-solid fa-file-circle-xmark"></i>&#160;Deprecated
											<span class="label label-info pull-right">0</span>
										</a>
									</li>
								</ul>
							</li>
						</ul>
					</div>
				</div>
			</div>
			<div class="go_to_top">
				<a href="#top-of-site" style="color: inherit">Back To Top&#160;&#160;<i class="fa-solid fa-chevron-up"></i></a>
			</div>
		</nav>

		<div id="___" class="container-fluid"> 	<section class="row-fluid">
		<div class="span2 sidebar">
								<div class="accordion" style="margin-bottom: 0">
		<div class="accordion-group">
			<div class="accordion-heading">
									<a class="accordion-toggle " data-toggle="collapse" data-target="#namespace-610602456"></a>
								<a href="namespaces/default.html" style="margin-left: 30px; padding-left: 0">\</a>
			</div>
			<div id="namespace-610602456" class="accordion-body collapse in">
				<div class="accordion-inner">

													<div class="accordion" style="margin-bottom: 0">
		<div class="accordion-group">
			<div class="accordion-heading">
									<a class="accordion-toggle collapsed" data-toggle="collapse" data-target="#namespace-1025038385"></a>
								<a href="namespaces/starisian.html" style="margin-left: 30px; padding-left: 0">Starisian</a>
			</div>
			<div id="namespace-1025038385" class="accordion-body collapse ">
				<div class="accordion-inner">

													<div class="accordion" style="margin-bottom: 0">
		<div class="accordion-group">
			<div class="accordion-heading">
									<a class="accordion-toggle collapsed" data-toggle="collapse" data-target="#namespace-503079100"></a>
								<a href="namespaces/starisian-sparxstar.html" style="margin-left: 30px; padding-left: 0">Sparxstar</a>
			</div>
			<div id="namespace-503079100" class="accordion-body collapse ">
				<div class="accordion-inner">

													<div class="accordion" style="margin-bottom: 0">
		<div class="accordion-group">
			<div class="accordion-heading">
									<a class="accordion-toggle collapsed" data-toggle="collapse" data-target="#namespace-38944471"></a>
								<a href="namespaces/starisian-sparxstar-starmus.html" style="margin-left: 30px; padding-left: 0">Starmus</a>
			</div>
			<div id="namespace-38944471" class="accordion-body collapse ">
				<div class="accordion-inner">

													<div class="accordion" style="margin-bottom: 0">
		<div class="accordion-group">
			<div class="accordion-heading">
									<a class="accordion-toggle collapsed" data-toggle="collapse" data-target="#namespace-2043519906"></a>
								<a href="namespaces/starisian-sparxstar-starmus-admin.html" style="margin-left: 30px; padding-left: 0">admin</a>
			</div>
			<div id="namespace-2043519906" class="accordion-body collapse ">
				<div class="accordion-inner">

													<div class="accordion" style="margin-bottom: 0">
		<div class="accordion-group">
			<div class="accordion-heading">
									<a class="accordion-toggle collapsed" data-toggle="collapse" data-target="#namespace-2078145973"></a>
								<a href="namespaces/starisian-sparxstar-starmus-admin-interfaces.html" style="margin-left: 30px; padding-left: 0">interfaces</a>
			</div>
			<div id="namespace-2078145973" class="accordion-body collapse ">
				<div class="accordion-inner">


					<ul>
													<li class="interface"><a href="classes/Starisian-Sparxstar-Starmus-admin-interfaces-IStarmusAdminInterface.html"><abbr title="\Starisian\Sparxstar\Starmus\admin\interfaces\IStarmusAdminInterface">IStarmusAdminInterface</abbr></a></li>
																							</ul>
				</div>
			</div>
		</div>
	</div>

													<div class="accordion" style="margin-bottom: 0">
		<div class="accordion-group">
			<div class="accordion-heading">
									<a class="accordion-toggle collapsed" data-toggle="collapse" data-target="#namespace-375456319"></a>
								<a href="namespaces/starisian-sparxstar-starmus-admin-widgets.html" style="margin-left: 30px; padding-left: 0">widgets</a>
			</div>
			<div id="namespace-375456319" class="accordion-body collapse ">
				<div class="accordion-inner">


					<ul>
																									<li class="class"><a href="classes/Starisian-Sparxstar-Starmus-admin-widgets-StarmusAdminWidgets.html"><abbr title="\Starisian\Sparxstar\Starmus\admin\widgets\StarmusAdminWidgets">StarmusAdminWidgets</abbr></a></li>
											</ul>
				</div>
			</div>
		</div>
	</div>


					<ul>
																									<li class="class"><a href="classes/Starisian-Sparxstar-Starmus-admin-StarmusAdmin.html"><abbr title="\Starisian\Sparxstar\Starmus\admin\StarmusAdmin">StarmusAdmin</abbr></a></li>
													<li class="class"><a href="classes/Starisian-Sparxstar-Starmus-admin-StarmusSageMakerJobQueueManager.html"><abbr title="\Starisian\Sparxstar\Starmus\admin\StarmusSageMakerJobQueueManager">StarmusSageMakerJobQueueManager</abbr></a></li>
											</ul>
				</div>
			</div>
		</div>
	</div>

													<div class="accordion" style="margin-bottom: 0">
		<div class="accordion-group">
			<div class="accordion-heading">
									<a class="accordion-toggle collapsed" data-toggle="collapse" data-target="#namespace-102042094"></a>
								<a href="namespaces/starisian-sparxstar-starmus-api.html" style="margin-left: 30px; padding-left: 0">api</a>
			</div>
			<div id="namespace-102042094" class="accordion-body collapse ">
				<div class="accordion-inner">


					<ul>
																									<li class="class"><a href="classes/Starisian-Sparxstar-Starmus-api-StarmusRESTHandler.html"><abbr title="\Starisian\Sparxstar\Starmus\api\StarmusRESTHandler">StarmusRESTHandler</abbr></a></li>
											</ul>
				</div>
			</div>
		</div>
	</div>

													<div class="accordion" style="margin-bottom: 0">
		<div class="accordion-group">
			<div class="accordion-heading">
									<a class="accordion-toggle collapsed" data-toggle="collapse" data-target="#namespace-1541611225"></a>
								<a href="namespaces/starisian-sparxstar-starmus-cli.html" style="margin-left: 30px; padding-left: 0">cli</a>
			</div>
			<div id="namespace-1541611225" class="accordion-body collapse ">
				<div class="accordion-inner">


					<ul>
																									<li class="class"><a href="classes/Starisian-Sparxstar-Starmus-cli-StarmusCLI.html"><abbr title="\Starisian\Sparxstar\Starmus\cli\StarmusCLI">StarmusCLI</abbr></a></li>
											</ul>
				</div>
			</div>
		</div>
	</div>

													<div class="accordion" style="margin-bottom: 0">
		<div class="accordion-group">
			<div class="accordion-heading">
									<a class="accordion-toggle collapsed" data-toggle="collapse" data-target="#namespace-1268771166"></a>
								<a href="namespaces/starisian-sparxstar-starmus-core.html" style="margin-left: 30px; padding-left: 0">core</a>
			</div>
			<div id="namespace-1268771166" class="accordion-body collapse ">
				<div class="accordion-inner">

													<div class="accordion" style="margin-bottom: 0">
		<div class="accordion-group">
			<div class="accordion-heading">
									<a class="accordion-toggle collapsed" data-toggle="collapse" data-target="#namespace-612200276"></a>
								<a href="namespaces/starisian-sparxstar-starmus-core-interfaces.html" style="margin-left: 30px; padding-left: 0">interfaces</a>
			</div>
			<div id="namespace-612200276" class="accordion-body collapse ">
				<div class="accordion-inner">


					<ul>
													<li class="interface"><a href="classes/Starisian-Sparxstar-Starmus-core-interfaces-StarmusAudioRecorderDALInterface.html"><abbr title="\Starisian\Sparxstar\Starmus\core\interfaces\StarmusAudioRecorderDALInterface">StarmusAudioRecorderDALInterface</abbr></a></li>
																							</ul>
				</div>
			</div>
		</div>
	</div>


					<ul>
																									<li class="class"><a href="classes/Starisian-Sparxstar-Starmus-core-StarmusAssetLoader.html"><abbr title="\Starisian\Sparxstar\Starmus\core\StarmusAssetLoader">StarmusAssetLoader</abbr></a></li>
													<li class="class"><a href="classes/Starisian-Sparxstar-Starmus-core-StarmusAudioRecorderDAL.html"><abbr title="\Starisian\Sparxstar\Starmus\data\StarmusAudioRecorderDAL">StarmusAudioRecorderDAL</abbr></a></li>
													<li class="class"><a href="classes/Starisian-Sparxstar-Starmus-core-StarmusAudioRecorderUpdater.html"><abbr title="\Starisian\Sparxstar\Starmus\core\StarmusAudioRecorderUpdater">StarmusAudioRecorderUpdater</abbr></a></li>
													<li class="class"><a href="classes/Starisian-Sparxstar-Starmus-core-StarmusSettings.html"><abbr title="\Starisian\Sparxstar\Starmus\core\StarmusSettings">StarmusSettings</abbr></a></li>
											</ul>
				</div>
			</div>
		</div>
	</div>

													<div class="accordion" style="margin-bottom: 0">
		<div class="accordion-group">
			<div class="accordion-heading">
									<a class="accordion-toggle collapsed" data-toggle="collapse" data-target="#namespace-1714889209"></a>
								<a href="namespaces/starisian-sparxstar-starmus-cron.html" style="margin-left: 30px; padding-left: 0">cron</a>
			</div>
			<div id="namespace-1714889209" class="accordion-body collapse ">
				<div class="accordion-inner">


					<ul>
																									<li class="class"><a href="classes/Starisian-Sparxstar-Starmus-cron-StarmusCron.html"><abbr title="\Starisian\Sparxstar\Starmus\cron\StarmusCron">StarmusCron</abbr></a></li>
											</ul>
				</div>
			</div>
		</div>
	</div>

													<div class="accordion" style="margin-bottom: 0">
		<div class="accordion-group">
			<div class="accordion-heading">
									<a class="accordion-toggle collapsed" data-toggle="collapse" data-target="#namespace-1053690834"></a>
								<a href="namespaces/starisian-sparxstar-starmus-frontend.html" style="margin-left: 30px; padding-left: 0">frontend</a>
			</div>
			<div id="namespace-1053690834" class="accordion-body collapse ">
				<div class="accordion-inner">


					<ul>
																									<li class="class"><a href="classes/Starisian-Sparxstar-Starmus-frontend-StarmusAudioEditorUI.html"><abbr title="\Starisian\Sparxstar\Starmus\frontend\StarmusAudioEditorUI">StarmusAudioEditorUI</abbr></a></li>
													<li class="class"><a href="classes/Starisian-Sparxstar-Starmus-frontend-StarmusAudioRecorderUI.html"><abbr title="\Starisian\Sparxstar\Starmus\frontend\StarmusAudioRecorderUI">StarmusAudioRecorderUI</abbr></a></li>
													<li class="class"><a href="classes/Starisian-Sparxstar-Starmus-frontend-StarmusShortcodeLoader.html"><abbr title="\Starisian\Sparxstar\Starmus\frontend\StarmusShortcodeLoader">StarmusShortcodeLoader</abbr></a></li>
											</ul>
				</div>
			</div>
		</div>
	</div>

													<div class="accordion" style="margin-bottom: 0">
		<div class="accordion-group">
			<div class="accordion-heading">
									<a class="accordion-toggle collapsed" data-toggle="collapse" data-target="#namespace-1302024421"></a>
								<a href="namespaces/starisian-sparxstar-starmus-helpers.html" style="margin-left: 30px; padding-left: 0">helpers</a>
			</div>
			<div id="namespace-1302024421" class="accordion-body collapse ">
				<div class="accordion-inner">


					<ul>
																									<li class="class"><a href="classes/Starisian-Sparxstar-Starmus-helpers-StarmusLogger.html"><abbr title="\Starisian\Sparxstar\Starmus\helpers\StarmusLogger">StarmusLogger</abbr></a></li>
													<li class="class"><a href="classes/Starisian-Sparxstar-Starmus-helpers-StarmusSanitizer.html"><abbr title="\Starisian\Sparxstar\Starmus\helpers\StarmusSanitizer">StarmusSanitizer</abbr></a></li>
													<li class="class"><a href="classes/Starisian-Sparxstar-Starmus-helpers-StarmusTemplateLoaderHelper.html"><abbr title="\Starisian\Sparxstar\Starmus\helpers\StarmusTemplateLoaderHelper">StarmusTemplateLoaderHelper</abbr></a></li>
											</ul>
				</div>
			</div>
		</div>
	</div>

													<div class="accordion" style="margin-bottom: 0">
		<div class="accordion-group">
			<div class="accordion-heading">
									<a class="accordion-toggle collapsed" data-toggle="collapse" data-target="#namespace-407404256"></a>
								<a href="namespaces/starisian-sparxstar-starmus-i18n.html" style="margin-left: 30px; padding-left: 0">i18n</a>
			</div>
			<div id="namespace-407404256" class="accordion-body collapse ">
				<div class="accordion-inner">


					<ul>
																									<li class="class"><a href="classes/Starisian-Sparxstar-Starmus-i18n-Starmusi18NLanguage.html"><abbr title="\Starisian\Sparxstar\Starmus\i18n\Starmusi18NLanguage">Starmusi18NLanguage</abbr></a></li>
											</ul>
				</div>
			</div>
		</div>
	</div>

													<div class="accordion" style="margin-bottom: 0">
		<div class="accordion-group">
			<div class="accordion-heading">
									<a class="accordion-toggle collapsed" data-toggle="collapse" data-target="#namespace-1999780182"></a>
								<a href="namespaces/starisian-sparxstar-starmus-includes.html" style="margin-left: 30px; padding-left: 0">includes</a>
			</div>
			<div id="namespace-1999780182" class="accordion-body collapse ">
				<div class="accordion-inner">


					<ul>
																									<li class="class"><a href="classes/Starisian-Sparxstar-Starmus-includes-StarmusSageMakerJobRepository.html"><abbr title="\Starisian\Sparxstar\Starmus\includes\StarmusSageMakerJobRepository">StarmusSageMakerJobRepository</abbr></a></li>
													<li class="class"><a href="classes/Starisian-Sparxstar-Starmus-includes-StarmusSubmissionHandler.html"><abbr title="\Starisian\Sparxstar\Starmus\core\StarmusSubmissionHandler">StarmusSubmissionHandler</abbr></a></li>
													<li class="class"><a href="classes/Starisian-Sparxstar-Starmus-includes-StarmusTusdHookHandler.html"><abbr title="\Starisian\Sparxstar\Starmus\includes\StarmusTusdHookHandler">StarmusTusdHookHandler</abbr></a></li>
											</ul>
				</div>
			</div>
		</div>
	</div>

													<div class="accordion" style="margin-bottom: 0">
		<div class="accordion-group">
			<div class="accordion-heading">
									<a class="accordion-toggle collapsed" data-toggle="collapse" data-target="#namespace-130683901"></a>
								<a href="namespaces/starisian-sparxstar-starmus-integrations.html" style="margin-left: 30px; padding-left: 0">integrations</a>
			</div>
			<div id="namespace-130683901" class="accordion-body collapse ">
				<div class="accordion-inner">


					<ul>
																									<li class="class"><a href="classes/Starisian-Sparxstar-Starmus-integrations-StarmusHuggingFaceClient.html"><abbr title="\Starisian\Sparxstar\Starmus\integrations\StarmusHuggingFaceClient">StarmusHuggingFaceClient</abbr></a></li>
													<li class="class"><a href="classes/Starisian-Sparxstar-Starmus-integrations-StarmusSageMakerClient.html"><abbr title="\Starisian\Sparxstar\Starmus\integrations\StarmusSageMakerClient">StarmusSageMakerClient</abbr></a></li>
											</ul>
				</div>
			</div>
		</div>
	</div>

													<div class="accordion" style="margin-bottom: 0">
		<div class="accordion-group">
			<div class="accordion-heading">
									<a class="accordion-toggle collapsed" data-toggle="collapse" data-target="#namespace-1704482777"></a>
								<a href="namespaces/starisian-sparxstar-starmus-services.html" style="margin-left: 30px; padding-left: 0">services</a>
			</div>
			<div id="namespace-1704482777" class="accordion-body collapse ">
				<div class="accordion-inner">


					<ul>
																									<li class="class"><a href="classes/Starisian-Sparxstar-Starmus-services-StarmusFileService.html"><abbr title="\Starisian\Sparxstar\Starmus\services\StarmusFileService">StarmusFileService</abbr></a></li>
													<li class="class"><a href="classes/Starisian-Sparxstar-Starmus-services-StarmusId3Service.html"><abbr title="\Starisian\Sparxstar\Starmus\services\StarmusId3Service">StarmusId3Service</abbr></a></li>
													<li class="class"><a href="classes/Starisian-Sparxstar-Starmus-services-StarmusWaveformService.html"><abbr title="\Starisian\Sparxstar\Starmus\services\StarmusWaveformService">StarmusWaveformService</abbr></a></li>
													<li class="class"><a href="classes/Starisian-Sparxstar-Starmus-services-StarPrefixSlugService.html"><abbr title="\Starisian\Sparxstar\Starmus\services\StarPrefixSlugService">StarPrefixSlugService</abbr></a></li>
											</ul>
				</div>
			</div>
		</div>
	</div>


					<ul>
																									<li class="class"><a href="classes/Starisian-Sparxstar-Starmus-StarmusAudioRecorder.html"><abbr title="\Starisian\Sparxstar\Starmus\StarmusAudioRecorder">StarmusAudioRecorder</abbr></a></li>
											</ul>
				</div>
			</div>
		</div>
	</div>


					<ul>
																							</ul>
				</div>
			</div>
		</div>
	</div>


					<ul>
																							</ul>
				</div>
			</div>
		</div>
	</div>


					<ul>
																							</ul>
				</div>
			</div>
		</div>
	</div>

		</div>
	</section>
	<section class="row-fluid">
		<div class="span10 offset2">
			<div class="row-fluid">
				<div class="span8 content class">
					<nav>
												<a href="namespaces/starisian-sparxstar-starmus-services.html"><abbr title="\Starisian\Sparxstar\Starmus\services">services</abbr></a>
						<i class="fa-solid fa-turn-up"></i>
											</nav>

					<h1>
						<small>\Starisian\Sparxstar\Starmus\services</small>
						StarmusFileService</h1>
					<p>
						<em>STARISIAN TECHNOLOGIES CONFIDENTIAL
© 2023–2025 Starisian Technologies. All Rights Reserved.</em>
					</p>
					<p>StarmusFileService (DAL-integrated)</p>
<p>Provides comprehensive file management for audio recordings with support for
external offload services like Cloudflare R2 via WP Offload Media. Guarantees
local file access for processing while maintaining compatibility with various
WordPress hosting configurations.</p>
<p>Key Features:</p>
<ul>
<li>Local file access guarantee for offloaded attachments</li>
<li>Automatic metadata generation for third-party plugin compatibility</li>
<li>DAL-routed persistence for consistent data access patterns</li>
<li>Support for WP Offload Media (AS3CF) and Advanced Media Offloader</li>
<li>Temporary file management for processing workflows</li>
</ul>
<p>Compatibility Layers:</p>
<ul>
<li>Advanced Media Offloader: Automatic metadata generation</li>
<li>WP Offload Media: Native upload delegation</li>
<li>Local filesystem: Direct file operations</li>
</ul>

																																																																	<section id="summary">
						<h2>Summary</h2>
						<section class="row-fluid heading">
							<section class="span4">
								<a href="#methods">Methods</a>
							</section>
							<section class="span4">
								<a href="#properties">Properties</a>
							</section>
							<section class="span4">
								<a href="#constants">Constants</a>
							</section>
						</section>
						<section class="row-fluid public">
							<section class="span4">

																											<a href="classes/Starisian-Sparxstar-Starmus-services-StarmusFileService.html#method___construct" class="">__construct</a><br/>
																			<a href="classes/Starisian-Sparxstar-Starmus-services-StarmusFileService.html#method_register_compatibility_hooks" class="">register_compatibility_hooks</a><br/>
																			<a href="classes/Starisian-Sparxstar-Starmus-services-StarmusFileService.html#method_ensure_attachment_metadata" class="">ensure_attachment_metadata</a><br/>
																			<a href="classes/Starisian-Sparxstar-Starmus-services-StarmusFileService.html#method_get_local_copy" class="">get_local_copy</a><br/>
																			<a href="classes/Starisian-Sparxstar-Starmus-services-StarmusFileService.html#method_upload_and_replace_attachment" class="">upload_and_replace_attachment</a><br/>
																			<a href="classes/Starisian-Sparxstar-Starmus-services-StarmusFileService.html#method_star_get_public_url" class="">star_get_public_url</a><br/>
																								</section>
							<section class="span4">

																	<em>No public properties found</em>
															</section>
							<section class="span4">

																	<em>No public constants found</em>
															</section>
						</section>
						<section class="row-fluid protected">
							<section class="span4">

																	<em>No protected methods found</em>
															</section>
							<section class="span4">

																	<em>No protected properties found</em>
															</section>
							<section class="span4">

																	<em>No protected constants found</em>
															</section>
						</section>
						<section class="row-fluid private">
							<section class="span4">

																	<em>No private methods found</em>
															</section>
							<section class="span4">

																											<a href="classes/Starisian-Sparxstar-Starmus-services-StarmusFileService.html#property_dal" class="">dal</a><br/>
																								</section>
							<section class="span4">

																	<em>No private constants found</em>
															</section>
						</section>
					</section>
				</div>
				<aside class="span4 detailsbar">
																<span class="label label-info">final</span>


					<dl>
						<dt>File</dt>
						<dd>
							<a href="files/src-services-starmusfileservice.html">
								<div class="path-wrapper">src/services/StarmusFileService.php</div>
							</a>
						</dd>
													<dt>Package</dt>
							<dd>
								<div class="namespace-wrapper">Starmus\services</div>
							</dd>
												<dt>Class hierarchy</dt>
						<dd class="hierarchy">
																																				<div class="namespace-wrapper">\Starisian\Sparxstar\Starmus\services\StarmusFileService</div>
						</dd>




																																																																													<dd>
										<a href="classes/Starisian-Sparxstar-Starmus-core-StarmusAudioRecorderDAL.html">
											<span class="namespace-wrapper">Data access abstraction</span>
										</a>
									</dd>
																	<dd>
										<a href="\Starisian\Sparxstar\Starmus\services\Advanced_Media_Offloader\Plugin">
											<span class="namespace-wrapper">Third-party offloader integration</span>
										</a>
									</dd>

																	</dl>
					<h2>Tags</h2>
					<table class="table table-condensed">
																											<tr>
									<th>
										package
									</th>
									<td>
																																<p>Starisian\Sparxstar\Starmus\services</p>

																			</td>
								</tr>
															<tr>
									<th>
										version
									</th>
									<td>
																																	1.0.0-HARDENED

																			</td>
								</tr>
															<tr>
									<th>
										since
									</th>
									<td>
																																	1.0.0

																			</td>
								</tr>
															<tr>
									<th>
										see
									</th>
									<td>
																																<p>Data access abstraction</p>

																																<p>Third-party offloader integration</p>

																			</td>
								</tr>
															<tr>
									<th>
										uses
									</th>
									<td>
																			</td>
								</tr>
															<tr>
									<th>
										method
									</th>
									<td>
																			</td>
								</tr>
															<tr>
									<th>
										property
									</th>
									<td>
																			</td>
								</tr>
															<tr>
									<th>
										property-read
									</th>
									<td>
																			</td>
								</tr>
															<tr>
									<th>
										property-write
									</th>
									<td>
																			</td>
								</tr>
																		</table>
				</aside>
			</div>


										<a id="properties" name="properties"></a>
				<div class="row-fluid">
					<div class="span8 content class">
						<h2>Properties</h2>
					</div>
					<aside class="span4 detailsbar"></aside>
				</div>

																																									    <div class="row-fluid">
        <div class="span8 content class">
            <a id="property_dal" name="property_dal" class="anchor"></a>
            <article class="property">
                <h3 class="private ">$dal</h3>
                <pre class="signature">$dal : \Starisian\Sparxstar\Starmus\data\StarmusAudioRecorderDAL</pre>
                <p><em>Data Access Layer for consistent WordPress operations.</em></p>


                                <h4>Type</h4>
                <a href="classes/Starisian-Sparxstar-Starmus-core-StarmusAudioRecorderDAL.html"><abbr title="\Starisian\Sparxstar\Starmus\data\StarmusAudioRecorderDAL">StarmusAudioRecorderDAL</abbr></a>
                &mdash;                             </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="fas-solid fa-arrow-down"></i></h1>
                        <dl>

                                                            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                                                                            <tr>
                            <th>
                                since
                            </th>
                            <td>
                                                                    1.0.0
                                                            </td>
                        </tr>
                                                </table>
        </aside>
    </div>


										<a id="methods" name="methods"></a>
				<div class="row-fluid">
					<div class="span8 content class">
						<h2>Methods</h2>
					</div>
					<aside class="span4 detailsbar"></aside>
				</div>

															    <div class="row-fluid">
        <div class="span8 content class">
            <a id="method___construct" name="method___construct" class="anchor"></a>
            <article class="method">
                <h3 class="public ">__construct()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="fa-solid fa-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">__construct(\Starisian\Sparxstar\Starmus\data\StarmusAudioRecorderDAL|null  <span class="argument">$dal = null</span>) : mixed</pre>
                <p><em>Initializes the file service with DAL dependency.</em></p>


                                    <h4>Parameters</h4>
                    <table class="table table-condensed table-hover">
                                                    <tr>
                                <td>\Starisian\Sparxstar\Starmus\data\StarmusAudioRecorderDAL|null</td>
                                <td>$dal </td>
                                <td><p>Optional DAL instance (creates new if null)</p>
</td>
                            </tr>
                                            </table>


                                    <h4>Returns</h4>
                    mixed
                                            &mdash;
                                                                                </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="fas fa-arrow-down"></i></h1>
                                                            <dl>
                                                    <dt>Inherited from</dt>
                    <dd><a href="classes/Starisian-Sparxstar-Starmus-services-StarmusFileService.html"><div class="path-wrapper">\Starisian\Sparxstar\Starmus\services\StarmusFileService</div></a></dd>

                                                            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                                                                            <tr>
                            <th>
                                since
                            </th>
                            <td>
                                                                    1.0.0
                                                            </td>
                        </tr>
                                                </table>
        </aside>
    </div>

																				    <div class="row-fluid">
        <div class="span8 content class">
            <a id="method_register_compatibility_hooks" name="method_register_compatibility_hooks" class="anchor"></a>
            <article class="method">
                <h3 class="public ">register_compatibility_hooks()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="fa-solid fa-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">register_compatibility_hooks() : void</pre>
                <p><em>Registers compatibility hooks for third-party plugin integrations.</em></p>
                <p>Conditionally loads compatibility layers to maintain clean, modular
integrations with external plugins. Only activates hooks when the
target plugins are detected as present.</p>
<p>Current Integrations:</p>
<ul>
<li>Advanced Media Offloader: Metadata generation bridge</li>
</ul>




                                    <h4>Returns</h4>
                    void
                                            &mdash;
                                                                                </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="fas fa-arrow-down"></i></h1>
                                                            <dl>
                                                    <dt>Inherited from</dt>
                    <dd><a href="classes/Starisian-Sparxstar-Starmus-services-StarmusFileService.html"><div class="path-wrapper">\Starisian\Sparxstar\Starmus\services\StarmusFileService</div></a></dd>

                                                            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                                                                            <tr>
                            <th>
                                since
                            </th>
                            <td>
                                                                    1.0.0
                                                            </td>
                        </tr>
                                            <tr>
                            <th>
                                hook
                            </th>
                            <td>
                                                                                                        <p>add_attachment Priority 20 for metadata generation</p>

                                                            </td>
                        </tr>
                                                </table>
        </aside>
    </div>

																				    <div class="row-fluid">
        <div class="span8 content class">
            <a id="method_ensure_attachment_metadata" name="method_ensure_attachment_metadata" class="anchor"></a>
            <article class="method">
                <h3 class="public ">ensure_attachment_metadata()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="fa-solid fa-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">ensure_attachment_metadata(int  <span class="argument">$attachment_id</span>) : void</pre>
                <p><em>Ensures essential metadata exists for newly created attachments.</em></p>
                <p>Compatibility bridge that detects when attachments are created by Starmus
without proper metadata and generates it. Critical for third-party plugins
like Advanced Media Offloader that rely on metadata to function correctly.</p>


                                    <h4>Parameters</h4>
                    <table class="table table-condensed table-hover">
                                                    <tr>
                                <td>int</td>
                                <td>$attachment_id </td>
                                <td><p>WordPress attachment post ID</p>
</td>
                            </tr>
                                            </table>


                                    <h4>Returns</h4>
                    void
                                            &mdash;
                                                                                </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="fas fa-arrow-down"></i></h1>
                                                            <dl>
                                                    <dt>Inherited from</dt>
                    <dd><a href="classes/Starisian-Sparxstar-Starmus-services-StarmusFileService.html"><div class="path-wrapper">\Starisian\Sparxstar\Starmus\services\StarmusFileService</div></a></dd>
                                                                                                                    <dt>See also</dt>
                                            <dd><a href="\Starisian\Sparxstar\Starmus\services\wp_generate_attachment_metadata()"><span class="namespace-wrapper">WordPress metadata generation</span></a></dd>
                                            <dd><a href="classes/Starisian-Sparxstar-Starmus-core-StarmusAudioRecorderDAL.html#method_update_attachment_metadata"><span class="namespace-wrapper">DAL persistence</span></a></dd>

                                                            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                                                                            <tr>
                            <th>
                                since
                            </th>
                            <td>
                                                                    1.0.0
                                                            </td>
                        </tr>
                                            <tr>
                            <th>
                                hook
                            </th>
                            <td>
                                                                                                        <p>add_attachment Called when new attachments are created</p>
<p>Guard Conditions:</p>
<ol>
<li>Skip if metadata already exists (performance optimization)</li>
<li>Only target Starmus API endpoints (prevents interference)</li>
<li>Validate file existence before processing</li>
</ol>
<p>Process Flow:</p>
<ol>
<li>Check for existing metadata</li>
<li>Validate request originates from Starmus endpoint</li>
<li>Verify physical file existence</li>
<li>Generate WordPress attachment metadata</li>
<li>Save via DAL for consistency</li>
</ol>
<p>Error Handling:</p>
<ul>
<li>Logs detailed information for debugging</li>
<li>Gracefully handles missing files or generation failures</li>
<li>Continues execution on non-critical errors</li>
</ul>

                                                            </td>
                        </tr>
                                                </table>
        </aside>
    </div>

																				    <div class="row-fluid">
        <div class="span8 content class">
            <a id="method_get_local_copy" name="method_get_local_copy" class="anchor"></a>
            <article class="method">
                <h3 class="public ">get_local_copy()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="fa-solid fa-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">get_local_copy(int  <span class="argument">$attachment_id</span>) : string|null</pre>
                <p><em>Guarantees local file access for attachment processing.</em></p>
                <p>Returns a local file path for an attachment, downloading from remote storage
if necessary. Essential for audio processing workflows that require direct
file system access.</p>


                                    <h4>Parameters</h4>
                    <table class="table table-condensed table-hover">
                                                    <tr>
                                <td>int</td>
                                <td>$attachment_id </td>
                                <td><p>WordPress attachment post ID</p>
</td>
                            </tr>
                                            </table>

                                    <h4>Throws</h4>
                    <dl>
                                                    <dt>\Exception</dt>
                            <dd><p>Implicitly via download_url() on network failures</p>
</dd>
                                                                    </dl>

                                    <h4>Returns</h4>
                    string|null
                                            &mdash; <p>Local file path if available, null on failure</p>

                                                                                        <h4>Examples</h4>
                                            <h5>```php
$local_path = $service-&gt;get_local_copy($attachment_id);
if ($local_path &amp;&amp; file_exists($local_path)) {
    // Process file
    process_audio_file($local_path);

    // Clean up if temporary
    if ($local_path !== get_attached_file($attachment_id)) {
        unlink($local_path);
    }
}
```</h5>
                        <pre class="pre-scrollable"></pre>
                                                </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="fas fa-arrow-down"></i></h1>
                                                            <dl>
                                                    <dt>Inherited from</dt>
                    <dd><a href="classes/Starisian-Sparxstar-Starmus-services-StarmusFileService.html"><div class="path-wrapper">\Starisian\Sparxstar\Starmus\services\StarmusFileService</div></a></dd>

                                                            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                                                                            <tr>
                            <th>
                                since
                            </th>
                            <td>
                                                                    1.0.0                                    <p>Resolution Strategy:</p>
<ol>
<li><strong>Local Check</strong>: Verify existing local file via get_attached_file()</li>
<li><strong>Remote Download</strong>: Download from public URL if offloaded</li>
<li><strong>Temporary Storage</strong>: Return temp file path (caller must clean up)</li>
</ol>
<p>Use Cases:</p>
<ul>
<li>Audio processing (FFmpeg operations)</li>
<li>Metadata extraction (getID3 analysis)</li>
<li>Waveform generation (audiowaveform CLI)</li>
<li>File validation and security scanning</li>
</ul>
<p>Offloader Support:</p>
<ul>
<li>WP Offload Media (AS3CF): Downloads from S3/CloudFlare R2</li>
<li>Advanced Media Offloader: Downloads from configured storage</li>
<li>Custom offloaders: Works with any plugin using wp_get_attachment_url</li>
</ul>
<p>Important Notes:</p>
<ul>
<li>Returns temporary files for offloaded content</li>
<li>Caller responsible for cleanup of temp files</li>
<li>120-second download timeout for large files</li>
<li>Automatically handles WordPress file URL filtering</li>
</ul>

                                                            </td>
                        </tr>
                                                </table>
        </aside>
    </div>

																				    <div class="row-fluid">
        <div class="span8 content class">
            <a id="method_upload_and_replace_attachment" name="method_upload_and_replace_attachment" class="anchor"></a>
            <article class="method">
                <h3 class="public ">upload_and_replace_attachment()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="fa-solid fa-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">upload_and_replace_attachment(int  <span class="argument">$attachment_id</span>, string  <span class="argument">$local_file_path</span>) : bool</pre>
                <p><em>Uploads and replaces attachment file with offloader integration.</em></p>
                <p>Handles file uploads for both local and offloaded storage configurations.
Automatically delegates to appropriate storage backend based on active plugins.</p>


                                    <h4>Parameters</h4>
                    <table class="table table-condensed table-hover">
                                                    <tr>
                                <td>int</td>
                                <td>$attachment_id </td>
                                <td><p>WordPress attachment post ID to replace</p>
</td>
                            </tr>
                                                    <tr>
                                <td>string</td>
                                <td>$local_file_path </td>
                                <td><p>Local file path to upload</p>
</td>
                            </tr>
                                            </table>


                                    <h4>Returns</h4>
                    bool
                                            &mdash; <p>True if upload successful, false on failure</p>

                                                                                </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="fas fa-arrow-down"></i></h1>
                                                            <dl>
                                                    <dt>Inherited from</dt>
                    <dd><a href="classes/Starisian-Sparxstar-Starmus-services-StarmusFileService.html"><div class="path-wrapper">\Starisian\Sparxstar\Starmus\services\StarmusFileService</div></a></dd>
                                                                                                                    <dt>See also</dt>
                                            <dd><a href="\Starisian\Sparxstar\Starmus\services\as3cf_upload_attachment()"><span class="namespace-wrapper">WP Offload Media function</span></a></dd>
                                            <dd><a href="\Starisian\Sparxstar\Starmus\services\WP_Filesystem"><span class="namespace-wrapper">WordPress filesystem abstraction</span></a></dd>
                                            <dd><a href="classes/Starisian-Sparxstar-Starmus-core-StarmusAudioRecorderDAL.html#method_update_attachment_metadata"><span class="namespace-wrapper">Metadata persistence</span></a></dd>

                                                            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                                                                            <tr>
                            <th>
                                since
                            </th>
                            <td>
                                                                    1.0.0                                    <p>Upload Strategy:</p>
<ol>
<li><strong>WP Offload Media</strong>: Delegate to as3cf_upload_attachment() if available</li>
<li><strong>Local Filesystem</strong>: Use WordPress filesystem API as fallback</li>
<li><strong>DAL Integration</strong>: Update metadata through Data Access Layer</li>
</ol>
<p>Supported Offloaders:</p>
<ul>
<li>WP Offload Media (AS3CF): S3, CloudFlare R2, DigitalOcean Spaces</li>
<li>Local filesystem: Standard WordPress uploads directory</li>
</ul>
<p>Process Flow:</p>
<ol>
<li>Validate local file existence</li>
<li>Detect active offloader plugins</li>
<li>Delegate upload to appropriate handler</li>
<li>Update attachment metadata via DAL</li>
<li>Log results for monitoring</li>
</ol>
<p>Error Conditions:</p>
<ul>
<li>Local file doesn't exist</li>
<li>Offloader upload fails</li>
<li>Filesystem move operation fails</li>
<li>Metadata update fails</li>
</ul>

                                                            </td>
                        </tr>
                                                </table>
        </aside>
    </div>

																				    <div class="row-fluid">
        <div class="span8 content class">
            <a id="method_star_get_public_url" name="method_star_get_public_url" class="anchor"></a>
            <article class="method">
                <h3 class="public ">star_get_public_url()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="fa-solid fa-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">star_get_public_url(int  <span class="argument">$attachment_id</span>) : string|null</pre>
                <p><em>Retrieves the correct public URL for an attachment across storage backends.</em></p>
                <p>Returns the appropriate public URL whether the file is stored locally or
offloaded to external storage. Honors all WordPress URL filtering including
offloader plugins and CDN configurations.</p>


                                    <h4>Parameters</h4>
                    <table class="table table-condensed table-hover">
                                                    <tr>
                                <td>int</td>
                                <td>$attachment_id </td>
                                <td><p>WordPress attachment post ID</p>
</td>
                            </tr>
                                            </table>


                                    <h4>Returns</h4>
                    string|null
                                            &mdash; <p>Public URL if available, null on failure</p>

                                                                                        <h4>Examples</h4>
                                            <h5>```php
$url = $service-&gt;star_get_public_url($attachment_id);
if ($url) {
    echo &#039;&lt;audio src=&quot;&#039; . esc_attr($url) . &#039;&quot; controls&gt;&lt;/audio&gt;&#039;;
}
```</h5>
                        <pre class="pre-scrollable"></pre>
                                                </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="fas fa-arrow-down"></i></h1>
                                                            <dl>
                                                    <dt>Inherited from</dt>
                    <dd><a href="classes/Starisian-Sparxstar-Starmus-services-StarmusFileService.html"><div class="path-wrapper">\Starisian\Sparxstar\Starmus\services\StarmusFileService</div></a></dd>

                                                            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                                                                            <tr>
                            <th>
                                since
                            </th>
                            <td>
                                                                    1.0.0                                    <p>Resolution Strategy:</p>
<ol>
<li><strong>WordPress API</strong>: Use wp_get_attachment_url() (honors all filters)</li>
<li><strong>Metadata Fallback</strong>: Reconstruct from attachment metadata if primary fails</li>
<li><strong>Base URL Construction</strong>: Combine upload dir with relative file path</li>
</ol>
<p>URL Sources (Priority Order):</p>
<ul>
<li>Offloader plugin URLs (S3, CloudFlare R2, etc.)</li>
<li>CDN-transformed URLs</li>
<li>Local WordPress upload URLs</li>
<li>Reconstructed URLs from metadata</li>
</ul>
<p>Use Cases:</p>
<ul>
<li>Frontend audio player source URLs</li>
<li>Download links for processed files</li>
<li>API responses requiring public file access</li>
<li>Email notifications with file links</li>
</ul>
<p>WordPress Integration:</p>
<ul>
<li>Respects wp_get_attachment_url filters</li>
<li>Honors offloader plugin URL transformations</li>
<li>Supports CDN and domain mapping plugins</li>
<li>Automatically escapes URLs for security</li>
</ul>

                                                            </td>
                        </tr>
                                                </table>
        </aside>
    </div>

																																																																																																																																		</div>
	</section>

	<div id="source-view" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="source-view-label" aria-hidden="true">
		<div class="modal-header">
			<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
			<h3 id="source-view-label">StarmusFileService.php</h3>
		</div>
		<div class="modal-body">
			<pre data-src="files/src/services/StarmusFileService.php.txt" class="language-php line-numbers"></pre>
		</div>
	</div>

			<footer class="row-fluid">
				<section class="span10 offset2">
					<section class="row-fluid">
						<section class="span10 offset1">
							<section class="row-fluid footer-sections">
								<section
									class="span4">
																		<h1>
										<i class="fa-solid fa-code"></i>
									</h1>
									<div>
										<ul>
																							<li><a href="namespaces/starisian.html"><abbr title="\Starisian">Starisian</abbr></a></li>
																					</ul>
									</div>
								</section>
								<section
									class="span4">
																		<h1>
										<i class="fa-solid fa-project-diagram"></i>
									</h1>
									<div>
										<ul>
											<li><a href="graphs/class.html">Class Hierarchy Diagram</a></li>
										</ul>
									</div>
								</section>
								<section
									class="span4">
																		<h1>
										<i class="fa-solid fa-thumbtack"></i>
									</h1>
									<div>
										<ul>
											<li><a href="reports/errors.html">Errors</a></li>
											<li><a href="reports/markers.html">Markers</a></li>
										</ul>
									</div>
								</section>
							</section>
						</section>
					</section>
					<section class="row-fluid">
						<section class="span10 offset1">
							<hr/>
							Documentation is powered by
							<a href="https://www.phpdoc.org/">phpDocumentor
							</a>
							and authored
							                    on
							December 16th, 2025 at 21:39.
						</section>
					</section>
				</section>
			</footer>
		</div>
		<script src="resources/js/jquery-1.11.0.min.js"></script>
		<script src="resources/js/ui/1.10.4/jquery-ui.min.js"></script>
		<script src="resources/js/jquery.smooth-scroll.js"></script>
		<script src="resources/js/prism.min.js"></script>
		<script src="resources/js/bootstrap.js"></script>
		<script src="resources/js/custom.js"></script>
			</body>
</html>
