/* =========================================================
   PROSODY PLAYER: MOBILE ALIGNMENT FIX
   Focus: Prevents horizontal overflow on 400px screens.
   Logic: Guaranteed Button Space + Responsive Slider
   ========================================================= */

/* 1. CONTROL DECK: Mobile-First Flex Logic */
.control-deck {
    display: flex !important;
    flex-direction: row !important;
    align-items: center !important;
    justify-content: space-between !important; /* Buttons on ends, slider in middle */
    gap: 8px !important; /* Tighter for mobile */
    padding: 10px 15px !important;
    min-height: 70px !important;
    background: var(--p-surface) !important;
    box-sizing: border-box !important;
}

/* 2. BUTTONS: Rigid Dimensions (Ensures they don't shrink) */
.neutral-btn {
    flex: 0 0 44px !important; /* Do not grow, do not shrink, stay 44px */
    width: 44px !important;
    height: 44px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    padding: 0 !important;
    border-radius: 4px !important;
}

/* 3. FADER GROUP: Fluid but constrained */
.fader-group {
    display: flex !important;
    align-items: center !important;
    gap: 8px !important;
    flex: 1 1 auto !important; /* Take remaining space */
    min-width: 0 !important; /* Allow it to shrink below content width */
}

/* 4. SLIDER LABELS: Tighter for Mobile */
.fader-group span {
    font-size: 10px !important;
    text-transform: uppercase;
    font-weight: 700;
    white-space: nowrap !important;
}

/* 5. THE SLIDER TRACK: Functional Width */
#pace-regulator {
    flex: 1 !important; /* Occupies all space between labels */
    width: 100% !important;
    min-width: 80px !important;
    height: 8px !important;
    appearance: none !important;
    background: #bbb !important;
    border-radius: 4px !important;
}

/* 6. SLIDER THUMB: Mobile Touch-Friendly */
#pace-regulator::-webkit-slider-thumb {
    appearance: none !important;
    width: 24px !important;
    height: 24px !important;
    background: #000 !important;
    border: 2px solid #fff !important;
    border-radius: 50% !important;
    cursor: pointer !important;
}

/* =========================================
   7. STAGE & SHELL: Centering & Containment
   ========================================= */
#cognitive-regulator {
    height: 60vh !important;
    display: flex !important;
    flex-direction: column !important;
    overflow: hidden !important;
}

#scaffold-stage {
    flex: 1 1 auto !important;
    overflow-y: auto !important;
}

#text-flow {
    /* Hard-coded Black for Function */
    color: #000000 !important;
    font-family: "Noto Sans Mono", monospace !important;
    padding: 25vh 5% !important; /* Vertical centering */
    font-size: clamp(1.4rem, 5vw, 2rem) !important;
}

.prosodic-unit.current {
    color: #000 !important;
    font-weight: 900 !important;
    background: #eee !important;
}

/* RESPONSIVE: Even smaller for 400px width */
@media (max-width: 400px) {
    .control-deck {
        padding: 10px 8px !important;
        gap: 5px !important;
    }
    .fader-group span {
        display: none !important; /* Hide "Anxiety/Fatigue" labels to save room */
    }
}
