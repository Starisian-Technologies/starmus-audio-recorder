/* =========================================================
   SPARXSTAR UNIFIED SYSTEM: LIGHT MODE ALIGNMENT
   Logic: High-Contrast Inheritance â€¢ Monospace Function
   Fixed: Vanishing Titles & Dark/Light Surface Sync
   ========================================================= */

:root {
    /* --- 1. CORE THEME MAPPING --- */
    /* We map variables so they change automatically based on theme */
    --p-base:       var(--wp--preset--color--base);      /* The Paper */
    --p-surface:    var(--wp--preset--color--base-2, var(--wp--preset--color--base));
    --p-contrast:   var(--wp--preset--color--contrast);  /* The Ink */
    --p-accent:     var(--wp--preset--color--accent);    /* The Action */

    /* --- 2. TACTILE SHADOW INHERITANCE --- */
    --p-shd-raised:   var(--wp--custom--shadow--raised, 0 4px 10px rgba(0,0,0,0.1));
    --p-shd-embossed: var(--wp--custom--shadow--embossed, inset 2px 2px 4px rgba(0,0,0,0.1));
    --p-shd-flat:     var(--wp--custom--shadow--flat, 0 10px 30px rgba(0,0,0,0.05));
}

/* =========================================================
   A. PROSODY PLAYER (Top Component)
   ========================================================= */

#cognitive-regulator {
    background-color: var(--p-base) !important;
    color: var(--p-contrast) !important;
    border: 1px solid color-mix(in srgb, var(--p-contrast), transparent 90%);
    border-radius: 8px;
    box-shadow: var(--p-shd-flat);
}

#calibration-layer { background: var(--p-base) !important; }

/* The Tap Zone - Now tactile and visible in Light Mode */
.tap-zone {
    background: var(--p-surface) !important;
    border: 2px solid color-mix(in srgb, var(--p-contrast), transparent 85%) !important;
    box-shadow: var(--p-shd-raised) !important;
}

.tap-label { color: var(--p-contrast) !important; }

/* Text Flow - Functional Monospace */
#text-flow {
    font-family: "Noto Sans Mono", monospace !important;
    color: var(--p-contrast) !important;
}

.prosodic-unit.current {
    color: var(--p-accent) !important;
    background: color-mix(in srgb, var(--p-accent), transparent 92%) !important;
}

.prosodic-unit.future, .prosodic-unit.past {
    opacity: 0.35 !important; /* Visible but dimmed */
}

/* Control Deck (Slider area) */
.control-deck {
    background: var(--p-surface) !important;
    border-top: 1px solid color-mix(in srgb, var(--p-contrast), transparent 90%) !important;
}

/* =========================================================
   B. RE-RECORDER / STARMUS FORM (Bottom Component)
   ========================================================= */

.starmus-recorder-form {
    background-color: var(--p-base) !important; /* Matches Paper */
    box-shadow: var(--p-shd-flat) !important;
    border-radius: 8px;
    padding: 2.5rem !important;
}

/* FIX: Ensure Headings are dark and visible */
h1, h2, h3, .starmus-recorder-form h2, .starmus-recorder-form h3 {
    color: var(--p-contrast) !important;
    text-transform: capitalize !important;
    font-weight: 800 !important;
    opacity: 1 !important;
}

/* FIX: Labels must be high-contrast */
.starmus-recorder-form label {
    color: var(--p-contrast) !important;
    font-weight: 700 !important;
    opacity: 1 !important;
}

/* Embossed Inputs - Ensuring "Ink" is dark */
.starmus-recorder-form input,
.starmus-recorder-form select,
.starmus-recorder-form textarea {
    background-color: var(--p-surface) !important;
    color: var(--p-contrast) !important;
    box-shadow: var(--p-shd-embossed) !important;
    border: 1px solid color-mix(in srgb, var(--p-contrast), transparent 85%) !important;
    border-radius: 12px !important;
}

/* =========================================================
   C. BUTTONS (Material Raised)
   ========================================================= */

.starmus-btn, .button.starmus-btn, #cognitive-regulator button {
    background-color: var(--p-accent) !important;
    color: var(--wp--preset--color--base) !important; /* Text matches Paper */
    box-shadow: var(--p-shd-raised) !important;
    font-weight: 700 !important;
    text-transform: uppercase !important;
    border-radius: 4px !important;
    opacity: 1 !important;
}

.starmus-btn:active {
    transform: translateY(2px);
    box-shadow: inset 0 2px 4px rgba(0,0,0,0.2) !important;
}

/* =========================================================
   D. TYPOGRAPHY (The Baseline)
   ========================================================= */
body, .wp-site-blocks {
    color: var(--p-contrast) !important;
    font-family: "Noto Sans", sans-serif !important;
}
