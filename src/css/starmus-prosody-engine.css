/* =========================================================
   PROSODY PLAYER: FUNCTIONAL RESTORATION
   Logic: Restores original layer stacking and stage physics.
   ========================================================= */

/* 1. RESTORE THE BOX PHYSICS */
#cognitive-regulator {
    position: relative !important; /* Required for the overlay to work */
    height: 60vh !important;       /* Original height */
    min-height: 450px !important;
    overflow: hidden !important;   /* Prevents text from spilling into the form */
    display: flex !important;
    flex-direction: column !important;

    /* Inherit Theme Look */
    background-color: var(--wp--preset--color--base) !important;
    color: var(--wp--preset--color--contrast) !important;
}

/* 2. RESTORE THE OVERLAY (Fixes the "Stuck" circle) */
#calibration-layer {
    position: absolute !important; /* Makes it a layer, not a block */
    inset: 0 !important;
    z-index: 200 !important;
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    justify-content: center !important;
    background-color: var(--wp--preset--color--base) !important;
}

/* 3. RESTORE THE STAGE (Vertical Centering) */
#scaffold-stage {
    flex-grow: 1 !important;
    overflow-y: auto !important;
    scrollbar-width: none;
}

#text-flow {
    /* Functional Mono Font required for Rhythmic timing */
    font-family: "Noto Sans Mono", monospace !important;
    padding-top: 30vh !important;
    padding-bottom: 35vh !important;
    text-align: center !important;
}

/* 4. RESTORE THE DECK (Control alignment) */
.control-deck {
    position: relative !important;
    z-index: 100 !important;
    display: flex !important;
    align-items: center !important;
    gap: 15px !important;
    padding: 12px 20px !important;
    background: var(--wp--preset--color--base-2, #f5f5f5) !important;
    border-top: 1px solid rgba(0,0,0,0.1);
}

/* 5. FUNCTIONAL STATES (The word that stands out) */
.prosodic-unit.current {
    color: var(--wp--preset--color--accent) !important;
    font-weight: 800 !important;
    opacity: 1 !important;
}

.prosodic-unit {
    display: inline-block !important;
    opacity: 0.3;
}
